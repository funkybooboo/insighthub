# Test Environment Configuration
# This file is ready to use for running tests.
# It's configured for fast, isolated testing with minimal dependencies.
#
# IMPORTANT: This file should NOT be committed to version control (.gitignored).
# This file is automatically loaded by config.py when running pytest.

# Flask API Configuration (Test)
FLASK_HOST=127.0.0.1
FLASK_PORT=5555
FLASK_DEBUG=False

# Database Configuration (Test)
# Unit tests use SQLite in-memory database
# Integration tests use PostgreSQL testcontainer (overridden in test fixtures)
DATABASE_URL=sqlite:///:memory:

# Repository Implementation Configuration (Test)
USER_REPOSITORY_TYPE=sql
DOCUMENT_REPOSITORY_TYPE=sql
CHAT_SESSION_REPOSITORY_TYPE=sql
CHAT_MESSAGE_REPOSITORY_TYPE=sql

# Blob Storage Implementation Configuration (Test)
# Use in-memory for fast unit tests (no disk I/O)
BLOB_STORAGE_TYPE=in_memory

# File System Storage Configuration (Test)
# Only used if BLOB_STORAGE_TYPE=file_system for specific tests
FILE_SYSTEM_STORAGE_PATH=test_uploads

# S3 Storage Configuration (Test)
# Only used with testcontainers for integration tests
S3_ENDPOINT_URL=http://localhost:9000
S3_ACCESS_KEY=test_access_key
S3_SECRET_KEY=test_secret_key
S3_BUCKET_NAME=test-bucket

# Upload Configuration (Test)
UPLOAD_FOLDER=test_uploads
MAX_CONTENT_LENGTH=16777216  # 16 MB (smaller for tests)

# RAG Configuration (Test)
RAG_TYPE=vector
CHUNKING_STRATEGY=sentence
CHUNK_SIZE=128  # Smaller chunks for faster tests
CHUNK_OVERLAP=20
RAG_TOP_K=3  # Fewer results for faster tests

# Ollama Configuration (Test)
# Mocked in most unit tests, used with testcontainers in integration tests
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_LLM_MODEL=llama3.2
OLLAMA_EMBEDDING_MODEL=nomic-embed-text

# Qdrant Configuration (Test)
# Used with testcontainers in integration tests
QDRANT_HOST=localhost
QDRANT_PORT=6333
QDRANT_COLLECTION_NAME=test_collection

# OpenAI Configuration (Test)
# Not used in tests (using Ollama or mocks instead)
OPENAI_API_KEY=

Checking Python syntax compilation...
[OK] All files compile successfully
All checks passed!
src/context.py:181: note: By default the bodies of untyped functions are not checked, consider using --check-untyped-defs  [annotation-unchecked]
src/context.py:182: note: By default the bodies of untyped functions are not checked, consider using --check-untyped-defs  [annotation-unchecked]
Success: no issues found in 200 source files
============================= test session starts ==============================
platform linux -- Python 3.13.7, pytest-8.4.2, pluggy-1.6.0 -- /home/nate/.cache/pypoetry/virtualenvs/insighthub-G9Cf3wlO-py3.13/bin/python
cachedir: .pytest_cache
rootdir: /home/nate/projects/insighthub
configfile: pyproject.toml
plugins: anyio-4.11.0, returns-0.26.0, cov-4.1.0
collecting ... collected 5 items

tests/unit/test_dummy_embedder.py::TestDummyEmbeddingEncoder::test_encode_single_text PASSED [ 20%]
tests/unit/test_dummy_embedder.py::TestDummyEmbeddingEncoder::test_encode_multiple_texts PASSED [ 40%]
tests/unit/test_dummy_embedder.py::TestDummyEmbeddingEncoder::test_get_dimension PASSED [ 60%]
tests/unit/test_dummy_embedder.py::TestDummyEmbeddingEncoder::test_get_model_name PASSED [ 80%]
tests/unit/test_dummy_embedder.py::TestDummyEmbeddingEncoder::test_default_dimension PASSED [100%]

---------- coverage: platform linux, python 3.13.7-final-0 -----------
Name                                                                                            Stmts   Miss  Cover
-------------------------------------------------------------------------------------------------------------------
src/__init__.py                                                                                     0      0   100%
src/__main__.py                                                                                     3      3     0%
src/cli.py                                                                                        190    190     0%
src/config.py                                                                                     195    195     0%
src/context.py                                                                                    113    113     0%
src/domains/__init__.py                                                                             0      0   100%
src/domains/default_rag_config/__init__.py                                                          4      4     0%
src/domains/default_rag_config/commands.py                                                        110    110     0%
src/domains/default_rag_config/data_access.py                                                      46     46     0%
src/domains/default_rag_config/dtos.py                                                             37     37     0%
src/domains/default_rag_config/mappers.py                                                           8      8     0%
src/domains/default_rag_config/models.py                                                           27     27     0%
src/domains/default_rag_config/orchestrator.py                                                     44     44     0%
src/domains/default_rag_config/repositories.py                                                     19     19     0%
src/domains/default_rag_config/service.py                                                          42     42     0%
src/domains/default_rag_config/validation.py                                                       40     40     0%
src/domains/rag_options/__init__.py                                                                 2      2     0%
src/domains/rag_options/commands.py                                                                49     49     0%
src/domains/rag_options/dtos.py                                                                    13     13     0%
src/domains/rag_options/orchestrator.py                                                            10     10     0%
src/domains/rag_options/service.py                                                                 15     15     0%
src/domains/state/__init__.py                                                                       4      4     0%
src/domains/state/commands.py                                                                      34     34     0%
src/domains/state/data_access.py                                                                   46     46     0%
src/domains/state/dtos.py                                                                           7      7     0%
src/domains/state/models.py                                                                        11     11     0%
src/domains/state/orchestrator.py                                                                  10     10     0%
src/domains/state/repositories.py                                                                  18     18     0%
src/domains/state/service.py                                                                       26     26     0%
src/domains/workspace/__init__.py                                                                   0      0   100%
src/domains/workspace/chat/__init__.py                                                              2      2     0%
src/domains/workspace/chat/message/__init__.py                                                      4      4     0%
src/domains/workspace/chat/message/commands.py                                                     58     58     0%
src/domains/workspace/chat/message/data_access.py                                                  83     83     0%
src/domains/workspace/chat/message/dtos.py                                                         21     21     0%
src/domains/workspace/chat/message/exceptions.py                                                   20     20     0%
src/domains/workspace/chat/message/mappers.py                                                       8      8     0%
src/domains/workspace/chat/message/models.py                                                       15     15     0%
src/domains/workspace/chat/message/orchestrator.py                                                 27     27     0%
src/domains/workspace/chat/message/repositories.py                                                 47     47     0%
src/domains/workspace/chat/message/service.py                                                     115    115     0%
src/domains/workspace/chat/message/validation.py                                                   22     22     0%
src/domains/workspace/chat/service.py                                                               8      8     0%
src/domains/workspace/chat/session/__init__.py                                                      4      4     0%
src/domains/workspace/chat/session/commands.py                                                     99     99     0%
src/domains/workspace/chat/session/data_access.py                                                  97     97     0%
src/domains/workspace/chat/session/dtos.py                                                         30     30     0%
src/domains/workspace/chat/session/exceptions.py                                                   11     11     0%
src/domains/workspace/chat/session/mappers.py                                                       8      8     0%
src/domains/workspace/chat/session/models.py                                                       15     15     0%
src/domains/workspace/chat/session/orchestrator.py                                                 47     47     0%
src/domains/workspace/chat/session/repositories.py                                                 50     50     0%
src/domains/workspace/chat/session/service.py                                                      58     58     0%
src/domains/workspace/chat/session/validation.py                                                   52     52     0%
src/domains/workspace/commands.py                                                                 182    182     0%
src/domains/workspace/data_access.py                                                              132    132     0%
src/domains/workspace/document/__init__.py                                                          3      3     0%
src/domains/workspace/document/commands.py                                                        110    110     0%
src/domains/workspace/document/data_access.py                                                      96     96     0%
src/domains/workspace/document/dtos.py                                                             26     26     0%
src/domains/workspace/document/exceptions.py                                                       20     20     0%
src/domains/workspace/document/mappers.py                                                           7      7     0%
src/domains/workspace/document/models.py                                                           29     29     0%
src/domains/workspace/document/orchestrator.py                                                     44     44     0%
src/domains/workspace/document/repositories.py                                                     74     74     0%
src/domains/workspace/document/service.py                                                         124    124     0%
src/domains/workspace/document/validation.py                                                       59     59     0%
src/domains/workspace/dtos.py                                                                      87     87     0%
src/domains/workspace/mappers.py                                                                   24     24     0%
src/domains/workspace/models.py                                                                    73      5    93%
src/domains/workspace/orchestrator.py                                                              78     78     0%
src/domains/workspace/repositories.py                                                              94     76    19%
src/domains/workspace/service.py                                                                   98     98     0%
src/domains/workspace/validation.py                                                                32     32     0%
src/infrastructure/__init__.py                                                                      0      0   100%
src/infrastructure/cache/__init__.py                                                                2      0   100%
src/infrastructure/cache/cache.py                                                                  12      5    58%
src/infrastructure/cache/factory.py                                                                10      6    40%
src/infrastructure/cache/in_memory_cache.py                                                        41     30    27%
src/infrastructure/cache/mixins.py                                                                 32     32     0%
src/infrastructure/cache/redis_cache.py                                                            52     42    19%
src/infrastructure/cli_io.py                                                                       15     15     0%
src/infrastructure/exceptions.py                                                                   25     25     0%
src/infrastructure/llm/__init__.py                                                                 17     17     0%
src/infrastructure/llm/claude_llm_provider.py                                                      82     82     0%
src/infrastructure/llm/factory.py                                                                  33     33     0%
src/infrastructure/llm/huggingface_llm_provider.py                                                 73     73     0%
src/infrastructure/llm/llm_provider.py                                                             19     19     0%
src/infrastructure/llm/ollama_llm_provider.py                                                      71     71     0%
src/infrastructure/llm/openai_llm_provider.py                                                      61     61     0%
src/infrastructure/logger.py                                                                      102     38    63%
src/infrastructure/mappers/__init__.py                                                              2      2     0%
src/infrastructure/mappers/utils.py                                                                 5      5     0%
src/infrastructure/rag/__init__.py                                                                 12      0   100%
src/infrastructure/rag/options.py                                                                  60     60     0%
src/infrastructure/rag/steps/__init__.py                                                            0      0   100%
src/infrastructure/rag/steps/general/__init__.py                                                    0      0   100%
src/infrastructure/rag/steps/general/chunking/__init__.py                                           5      0   100%
src/infrastructure/rag/steps/general/chunking/character_document_chunker.py                        32     25    22%
src/infrastructure/rag/steps/general/chunking/document_chunker.py                                  13      3    77%
src/infrastructure/rag/steps/general/chunking/dummy_document_chunker.py                            21     21     0%
src/infrastructure/rag/steps/general/chunking/factory.py                                           29     16    45%
src/infrastructure/rag/steps/general/chunking/semantic_document_chunker.py                         34     27    21%
src/infrastructure/rag/steps/general/chunking/sentence_document_chunker.py                         69     57    17%
src/infrastructure/rag/steps/general/parsing/__init__.py                                            7      0   100%
src/infrastructure/rag/steps/general/parsing/document_parser.py                                    21      6    71%
src/infrastructure/rag/steps/general/parsing/docx_document_parser.py                               97     76    22%
src/infrastructure/rag/steps/general/parsing/factory.py                                            57     34    40%
src/infrastructure/rag/steps/general/parsing/html_document_parser.py                              114     90    21%
src/infrastructure/rag/steps/general/parsing/pdf_document_parser.py                                78     61    22%
src/infrastructure/rag/steps/general/parsing/text_document_parser.py                               58     45    22%
src/infrastructure/rag/steps/general/parsing/utils.py                                              18     18     0%
src/infrastructure/rag/steps/graph_rag/__init__.py                                                  0      0   100%
src/infrastructure/rag/steps/vector_rag/__init__.py                                                 0      0   100%
src/infrastructure/rag/steps/vector_rag/embedding/__init__.py                                       4      0   100%
src/infrastructure/rag/steps/vector_rag/embedding/dummy_embedder.py                                14      0   100%
src/infrastructure/rag/steps/vector_rag/embedding/factory.py                                       16      5    69%
src/infrastructure/rag/steps/vector_rag/embedding/ollama_vector_embedder.py                        64     48    25%
src/infrastructure/rag/steps/vector_rag/embedding/vector_embedder.py                               25      8    68%
src/infrastructure/rag/steps/vector_rag/reranking/__init__.py                                       8      0   100%
src/infrastructure/rag/steps/vector_rag/reranking/bm25_reranker.py                                 33     27    18%
src/infrastructure/rag/steps/vector_rag/reranking/cross_encoder_reranker.py                        34     24    29%
src/infrastructure/rag/steps/vector_rag/reranking/dummy_reranker.py                                 6      1    83%
src/infrastructure/rag/steps/vector_rag/reranking/factory.py                                       29     17    41%
src/infrastructure/rag/steps/vector_rag/reranking/no_reranker.py                                    6      1    83%
src/infrastructure/rag/steps/vector_rag/reranking/reranker.py                                       7      1    86%
src/infrastructure/rag/steps/vector_rag/reranking/rrf_reranker.py                                  13      7    46%
src/infrastructure/rag/workflows/__init__.py                                                        6      0   100%
src/infrastructure/rag/workflows/add_document/__init__.py                                           4      0   100%
src/infrastructure/rag/workflows/add_document/add_document_workflow.py                             13      4    69%
src/infrastructure/rag/workflows/add_document/factory.py                                           42     27    36%
src/infrastructure/rag/workflows/add_document/vector_rag_add_document_workflow.py                  58     44    24%
src/infrastructure/rag/workflows/create_resources/__init__.py                                       4      0   100%
src/infrastructure/rag/workflows/create_resources/create_rag_resources_workflow.py                 12      4    67%
src/infrastructure/rag/workflows/create_resources/factory.py                                       26     15    42%
src/infrastructure/rag/workflows/create_resources/vector_rag_create_rag_resources_workflow.py      55     40    27%
src/infrastructure/rag/workflows/query/__init__.py                                                  5      0   100%
src/infrastructure/rag/workflows/query/factory.py                                                  38     24    37%
src/infrastructure/rag/workflows/query/graph_rag_query_workflow.py                                 12      3    75%
src/infrastructure/rag/workflows/query/query_workflow.py                                           13      4    69%
src/infrastructure/rag/workflows/query/vector_rag_query_workflow.py                                71     55    23%
src/infrastructure/rag/workflows/remove_document/__init__.py                                        4      0   100%
src/infrastructure/rag/workflows/remove_document/factory.py                                        29     17    41%
src/infrastructure/rag/workflows/remove_document/remove_document_workflow.py                       11      4    64%
src/infrastructure/rag/workflows/remove_document/vector_rag_remove_document_workflow.py            55     39    29%
src/infrastructure/rag/workflows/remove_resources/__init__.py                                       4      0   100%
src/infrastructure/rag/workflows/remove_resources/factory.py                                       24     13    46%
src/infrastructure/rag/workflows/remove_resources/remove_rag_resources_workflow.py                 11      4    64%
src/infrastructure/rag/workflows/remove_resources/vector_rag_remove_rag_resources_workflow.py      36     24    33%
src/infrastructure/sql_database.py                                                                 87     70    20%
src/infrastructure/storage/__init__.py                                                             21     21     0%
src/infrastructure/storage/factory.py                                                              24     24     0%
src/infrastructure/storage/file_system_storage.py                                                  74     74     0%
src/infrastructure/storage/s3_storage.py                                                           90     90     0%
src/infrastructure/storage/storage.py                                                              17     17     0%
src/infrastructure/types/__init__.py                                                                7      0   100%
src/infrastructure/types/common.py                                                                  8      0   100%
src/infrastructure/types/document.py                                                               15      0   100%
src/infrastructure/types/errors.py                                                                 26      0   100%
src/infrastructure/types/rag.py                                                                    20      1    95%
src/infrastructure/types/retrieval.py                                                               8      0   100%
src/infrastructure/validation/__init__.py                                                           2      2     0%
src/infrastructure/validation/utils.py                                                             24     24     0%
src/infrastructure/vector_stores/__init__.py                                                        6      0   100%
src/infrastructure/vector_stores/factory.py                                                        42     27    36%
src/infrastructure/vector_stores/qdrant_vector_database.py                                        173    144    17%
src/infrastructure/vector_stores/qdrant_vector_store.py                                            41     29    29%
src/infrastructure/vector_stores/vector_database.py                                                32      9    72%
src/infrastructure/vector_stores/vector_store.py                                                   14      3    79%
src/infrastructure/wikipedia/__init__.py                                                            2      2     0%
src/infrastructure/wikipedia/fetch.py                                                             137    137     0%
-------------------------------------------------------------------------------------------------------------------
TOTAL                                                                                            6457   5559    14%


============================== 5 passed in 6.00s ===============================
============================= test session starts ==============================
platform linux -- Python 3.13.7, pytest-8.4.2, pluggy-1.6.0 -- /home/nate/.cache/pypoetry/virtualenvs/insighthub-G9Cf3wlO-py3.13/bin/python
cachedir: .pytest_cache
rootdir: /home/nate/projects/insighthub
configfile: pyproject.toml
plugins: anyio-4.11.0, returns-0.26.0, cov-4.1.0
collecting ... collected 38 items

tests/integration/test_chat_session_data_access.py::TestChatSessionDataAccessIntegration::test_create_and_get_session PASSED [  2%]
tests/integration/test_chat_session_data_access.py::TestChatSessionDataAccessIntegration::test_get_sessions_by_workspace PASSED [  5%]
tests/integration/test_chat_session_data_access.py::TestChatSessionDataAccessIntegration::test_update_session PASSED [  7%]
tests/integration/test_chat_session_data_access.py::TestChatSessionDataAccessIntegration::test_delete_session PASSED [ 10%]
tests/integration/test_default_rag_config_data_access.py::TestDefaultRagConfigDataAccessIntegration::test_get_default_rag_config_returns_none_when_not_set PASSED [ 13%]
tests/integration/test_default_rag_config_data_access.py::TestDefaultRagConfigDataAccessIntegration::test_update_and_get_default_rag_config PASSED [ 15%]
tests/integration/test_document_data_access.py::TestDocumentDataAccessIntegration::test_create_and_get_document PASSED [ 18%]
tests/integration/test_document_data_access.py::TestDocumentDataAccessIntegration::test_get_documents_by_workspace PASSED [ 21%]
tests/integration/test_document_data_access.py::TestDocumentDataAccessIntegration::test_update_document PASSED [ 23%]
tests/integration/test_document_data_access.py::TestDocumentDataAccessIntegration::test_delete_document PASSED [ 26%]
tests/integration/test_qdrant.py::TestQdrantIntegration::test_qdrant_container_starts PASSED [ 28%]
tests/integration/test_qdrant.py::TestQdrantIntegration::test_qdrant_client_connection PASSED [ 31%]
tests/integration/test_redis_cache.py::TestRedisCacheIntegration::test_cache_connection PASSED [ 34%]
tests/integration/test_redis_cache.py::TestRedisCacheIntegration::test_set_and_get PASSED [ 36%]
tests/integration/test_redis_cache.py::TestRedisCacheIntegration::test_get_nonexistent_key PASSED [ 39%]
tests/integration/test_redis_cache.py::TestRedisCacheIntegration::test_delete PASSED [ 42%]
tests/integration/test_redis_cache.py::TestRedisCacheIntegration::test_exists PASSED [ 44%]
tests/integration/test_redis_cache.py::TestRedisCacheIntegration::test_clear PASSED [ 47%]
tests/integration/test_s3_storage.py::TestS3BlobStorageIntegration::test_s3_connection PASSED [ 50%]
tests/integration/test_s3_storage.py::TestS3BlobStorageIntegration::test_upload_and_download PASSED [ 52%]
tests/integration/test_s3_storage.py::TestS3BlobStorageIntegration::test_download_nonexistent_object PASSED [ 55%]
tests/integration/test_s3_storage.py::TestS3BlobStorageIntegration::test_delete PASSED [ 57%]
tests/integration/test_s3_storage.py::TestS3BlobStorageIntegration::test_exists PASSED [ 60%]
tests/integration/test_s3_storage.py::TestS3BlobStorageIntegration::test_get_url PASSED [ 63%]
tests/integration/test_sql_database.py::TestSqlDatabaseIntegration::test_database_connection_and_health_check PASSED [ 65%]
tests/integration/test_sql_database.py::TestSqlDatabaseIntegration::test_execute_and_fetch_operations PASSED [ 68%]
tests/integration/test_sql_database.py::TestSqlDatabaseIntegration::test_execute_with_no_results PASSED [ 71%]
tests/integration/test_sql_database.py::TestSqlDatabaseIntegration::test_fetch_one_with_no_results PASSED [ 73%]
tests/integration/test_sql_database.py::TestSqlDatabaseIntegration::test_fetch_all_with_no_results PASSED [ 76%]
tests/integration/test_state_data_access.py::TestStateDataAccessIntegration::test_get_initial_state PASSED [ 78%]
tests/integration/test_state_data_access.py::TestStateDataAccessIntegration::test_set_and_get_workspace PASSED [ 81%]
tests/integration/test_state_data_access.py::TestStateDataAccessIntegration::test_set_and_get_session PASSED [ 84%]
tests/integration/test_state_data_access.py::TestStateDataAccessIntegration::test_cache_invalidation_on_set PASSED [ 86%]
tests/integration/test_workspace_data_access.py::TestWorkspaceDataAccessIntegration::test_create_and_get_workspace_no_cache_returns_expected_workspace PASSED [ 89%]
tests/integration/test_workspace_data_access.py::TestWorkspaceDataAccessIntegration::test_create_workspace_returns_success_and_workspace PASSED [ 92%]
tests/integration/test_workspace_data_access.py::TestWorkspaceDataAccessIntegration::test_update_workspace_returns_success_and_updates_data PASSED [ 94%]
tests/integration/test_workspace_data_access.py::TestWorkspaceDataAccessIntegration::test_delete_workspace_returns_success_and_removes_data PASSED [ 97%]
tests/integration/test_workspace_data_access.py::TestWorkspaceDataAccessIntegration::test_get_all_workspaces_returns_all_created_workspaces PASSED [100%]

=============================== warnings summary ===============================
tests/integration/test_qdrant.py::TestQdrantIntegration::test_qdrant_client_connection
  /home/nate/.cache/pypoetry/virtualenvs/insighthub-G9Cf3wlO-py3.13/lib/python3.13/site-packages/testcontainers/qdrant/__init__.py:82: UserWarning: Qdrant client version 1.16.1 is incompatible with server version 1.9.1. Major versions should match and minor version difference must not exceed 1. Set check_compatibility=False to skip version check.
    return QdrantClient(

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
======================== 38 passed, 1 warning in 13.20s ========================
============================= test session starts ==============================
platform linux -- Python 3.13.7, pytest-8.4.2, pluggy-1.6.0 -- /home/nate/.cache/pypoetry/virtualenvs/insighthub-G9Cf3wlO-py3.13/bin/python
cachedir: .pytest_cache
rootdir: /home/nate/projects/insighthub
configfile: pyproject.toml
plugins: anyio-4.11.0, returns-0.26.0, cov-4.1.0
collecting ... collected 204 items

tests/e2e/cli/test_chat.py::TestChatCLI::test_chat_list_empty PASSED     [  0%]
tests/e2e/cli/test_chat.py::TestChatCLI::test_chat_new_with_title PASSED [  0%]
tests/e2e/cli/test_chat.py::TestChatCLI::test_chat_new_without_title PASSED [  1%]
tests/e2e/cli/test_chat.py::TestChatCLI::test_chat_list_with_sessions PASSED [  1%]
tests/e2e/cli/test_chat.py::TestChatCLI::test_chat_select PASSED         [  2%]
tests/e2e/cli/test_chat.py::TestChatCLI::test_chat_history_no_session_selected PASSED [  2%]
tests/e2e/cli/test_chat.py::TestChatCLI::test_chat_history_empty PASSED  [  3%]
tests/e2e/cli/test_chat.py::TestChatCLI::test_chat_send_no_session_selected PASSED [  3%]
tests/e2e/cli/test_chat.py::TestChatCLI::test_chat_delete PASSED         [  4%]
tests/e2e/cli/test_chat.py::TestChatCLI::test_chat_delete_nonexistent PASSED [  4%]
tests/e2e/cli/test_chat.py::TestChatCLI::test_chat_new_invalid_workspace PASSED [  5%]
tests/e2e/cli/test_chat.py::TestChatCLI::test_chat_help PASSED           [  5%]
tests/e2e/cli/test_chat_messaging.py::TestChatMessaging::test_chat_send_simple_message PASSED [  6%]
tests/e2e/cli/test_chat_messaging.py::TestChatMessaging::test_chat_send_multiple_messages PASSED [  6%]
tests/e2e/cli/test_chat_messaging.py::TestChatMessaging::test_chat_send_question PASSED [  7%]
tests/e2e/cli/test_chat_messaging.py::TestChatMessaging::test_chat_send_with_punctuation PASSED [  7%]
tests/e2e/cli/test_chat_messaging.py::TestChatMessaging::test_chat_send_with_numbers PASSED [  8%]
tests/e2e/cli/test_chat_messaging.py::TestChatMessaging::test_chat_with_uploaded_document PASSED [  8%]
tests/e2e/cli/test_chat_messaging.py::TestChatMessaging::test_chat_with_multiple_documents PASSED [  9%]
tests/e2e/cli/test_chat_messaging.py::TestChatMessaging::test_chat_history_after_sending_messages PASSED [  9%]
tests/e2e/cli/test_chat_messaging.py::TestChatMessaging::test_chat_multiple_sessions_isolation PASSED [ 10%]
tests/e2e/cli/test_chat_messaging.py::TestChatMessaging::test_chat_send_empty_message PASSED [ 10%]
tests/e2e/cli/test_chat_messaging.py::TestChatMessaging::test_chat_send_whitespace_only PASSED [ 11%]
tests/e2e/cli/test_chat_messaging.py::TestChatMessaging::test_chat_send_single_character PASSED [ 11%]
tests/e2e/cli/test_chat_messaging.py::TestChatMessaging::test_chat_send_unicode_message PASSED [ 12%]
tests/e2e/cli/test_chat_messaging.py::TestChatMessaging::test_switch_sessions_and_send_messages PASSED [ 12%]
tests/e2e/cli/test_chat_messaging.py::TestChatMessaging::test_chat_send_after_workspace_switch PASSED [ 13%]
tests/e2e/cli/test_chat_messaging.py::TestChatMessaging::test_chat_list_history_workflow PASSED [ 13%]
tests/e2e/cli/test_cli_combinations.py::TestCLICombinations::test_rag_config_workspace_document_chat_workflow PASSED [ 14%]
tests/e2e/cli/test_cli_combinations.py::TestCLICombinations::test_multiple_workspaces_with_different_configs FAILED [ 14%]
tests/e2e/cli/test_cli_combinations.py::TestCLICombinations::test_upload_list_show_remove_workflow PASSED [ 15%]
tests/e2e/cli/test_cli_combinations.py::TestCLICombinations::test_multiple_document_uploads_and_operations PASSED [ 15%]
tests/e2e/cli/test_cli_combinations.py::TestCLICombinations::test_multiple_chat_sessions_workflow PASSED [ 16%]
tests/e2e/cli/test_cli_combinations.py::TestCLICombinations::test_chat_across_workspace_lifecycle PASSED [ 16%]
tests/e2e/cli/test_cli_combinations.py::TestCLICombinations::test_create_list_show_update_delete_workflow PASSED [ 17%]
tests/e2e/cli/test_cli_combinations.py::TestCLICombinations::test_workspace_with_all_resource_types PASSED [ 17%]
tests/e2e/cli/test_cli_combinations.py::TestCLICombinations::test_help_for_all_commands PASSED [ 18%]
tests/e2e/cli/test_cli_combinations.py::TestCLICombinations::test_help_with_subcommands PASSED [ 18%]
tests/e2e/cli/test_cli_combinations.py::TestCLICombinations::test_workspace_operations_after_errors PASSED [ 19%]
tests/e2e/cli/test_cli_combinations.py::TestCLICombinations::test_document_operations_after_errors PASSED [ 19%]
tests/e2e/cli/test_concurrent.py::TestCLIConcurrency::test_concurrent_workspace_creation PASSED [ 20%]
tests/e2e/cli/test_concurrent.py::TestCLIConcurrency::test_concurrent_document_uploads PASSED [ 20%]
tests/e2e/cli/test_concurrent.py::TestCLIConcurrency::test_concurrent_chat_session_creation PASSED [ 21%]
tests/e2e/cli/test_concurrent.py::TestCLIConcurrency::test_concurrent_workspace_selection PASSED [ 21%]
tests/e2e/cli/test_concurrent.py::TestCLIConcurrency::test_concurrent_document_removal PASSED [ 22%]
tests/e2e/cli/test_concurrent.py::TestCLIConcurrency::test_concurrent_read_operations PASSED [ 22%]
tests/e2e/cli/test_concurrent.py::TestCLIConcurrency::test_concurrent_workspace_updates PASSED [ 23%]
tests/e2e/cli/test_concurrent.py::TestCLIConcurrency::test_concurrent_mixed_operations PASSED [ 23%]
tests/e2e/cli/test_concurrent.py::TestCLIConcurrency::test_concurrent_rag_config_updates PASSED [ 24%]
tests/e2e/cli/test_default_rag_config.py::TestDefaultRagConfigCLI::test_default_rag_config_show PASSED [ 24%]
tests/e2e/cli/test_default_rag_config.py::TestDefaultRagConfigCLI::test_default_rag_config_new_vector PASSED [ 25%]
tests/e2e/cli/test_default_rag_config.py::TestDefaultRagConfigCLI::test_default_rag_config_new_graph PASSED [ 25%]
tests/e2e/cli/test_default_rag_config.py::TestDefaultRagConfigCLI::test_default_rag_config_update_vector_to_graph PASSED [ 25%]
tests/e2e/cli/test_default_rag_config.py::TestDefaultRagConfigCLI::test_default_rag_config_invalid_rag_type PASSED [ 26%]
tests/e2e/cli/test_default_rag_config.py::TestDefaultRagConfigCLI::test_default_rag_config_help PASSED [ 26%]
tests/e2e/cli/test_default_rag_config.py::TestDefaultRagConfigCLI::test_default_rag_config_auto_create_on_show PASSED [ 27%]
tests/e2e/cli/test_document.py::TestDocumentCLI::test_document_list_no_workspace_selected PASSED [ 27%]
tests/e2e/cli/test_document.py::TestDocumentCLI::test_document_list_empty PASSED [ 28%]
tests/e2e/cli/test_document.py::TestDocumentCLI::test_document_upload_and_list PASSED [ 28%]
tests/e2e/cli/test_document.py::TestDocumentCLI::test_document_show PASSED [ 29%]
tests/e2e/cli/test_document.py::TestDocumentCLI::test_document_upload_nonexistent_file PASSED [ 29%]
tests/e2e/cli/test_document.py::TestDocumentCLI::test_document_remove PASSED [ 30%]
tests/e2e/cli/test_document.py::TestDocumentCLI::test_document_remove_nonexistent PASSED [ 30%]
tests/e2e/cli/test_document.py::TestDocumentCLI::test_document_help PASSED [ 31%]
tests/e2e/cli/test_document_combinations.py::TestDocumentCombinations::test_upload_various_text_formats PASSED [ 31%]
tests/e2e/cli/test_document_combinations.py::TestDocumentCombinations::test_upload_files_with_different_sizes PASSED [ 32%]
tests/e2e/cli/test_document_combinations.py::TestDocumentCombinations::test_upload_empty_file PASSED [ 32%]
tests/e2e/cli/test_document_combinations.py::TestDocumentCombinations::test_upload_file_with_long_content PASSED [ 33%]
tests/e2e/cli/test_document_combinations.py::TestDocumentCombinations::test_upload_files_with_various_filenames PASSED [ 33%]
tests/e2e/cli/test_document_combinations.py::TestDocumentCombinations::test_upload_files_from_different_paths PASSED [ 34%]
tests/e2e/cli/test_document_combinations.py::TestDocumentCombinations::test_show_documents_with_different_attributes PASSED [ 34%]
tests/e2e/cli/test_document_combinations.py::TestDocumentCombinations::test_show_nonexistent_document_ids PASSED [ 35%]
tests/e2e/cli/test_document_combinations.py::TestDocumentCombinations::test_remove_documents_in_sequence PASSED [ 35%]
tests/e2e/cli/test_document_combinations.py::TestDocumentCombinations::test_remove_and_reupload_same_file PASSED [ 36%]
tests/e2e/cli/test_document_combinations.py::TestDocumentCombinations::test_cancel_document_removal PASSED [ 36%]
tests/e2e/cli/test_document_combinations.py::TestDocumentCombinations::test_list_with_various_document_counts PASSED [ 37%]
tests/e2e/cli/test_document_combinations.py::TestDocumentCombinations::test_list_after_various_operations PASSED [ 37%]
tests/e2e/cli/test_document_combinations.py::TestDocumentCombinations::test_documents_with_chat_sessions PASSED [ 38%]
tests/e2e/cli/test_document_combinations.py::TestDocumentCombinations::test_upload_documents_between_chat_messages PASSED [ 38%]
tests/e2e/cli/test_document_combinations.py::TestDocumentCombinations::test_upload_same_filename_twice PASSED [ 39%]
tests/e2e/cli/test_error_handling.py::TestCLIErrorHandling::test_workspace_show_invalid_id PASSED [ 39%]
tests/e2e/cli/test_error_handling.py::TestCLIErrorHandling::test_workspace_show_negative_id PASSED [ 40%]
tests/e2e/cli/test_error_handling.py::TestCLIErrorHandling::test_workspace_update_nonexistent FAILED [ 40%]
tests/e2e/cli/test_error_handling.py::TestCLIErrorHandling::test_workspace_select_nonexistent FAILED [ 41%]
tests/e2e/cli/test_error_handling.py::TestCLIErrorHandling::test_workspace_delete_nonexistent FAILED [ 41%]
tests/e2e/cli/test_error_handling.py::TestCLIErrorHandling::test_workspace_delete_cancel PASSED [ 42%]
tests/e2e/cli/test_error_handling.py::TestCLIErrorHandling::test_document_upload_without_workspace PASSED [ 42%]
tests/e2e/cli/test_error_handling.py::TestCLIErrorHandling::test_document_upload_empty_file PASSED [ 43%]
tests/e2e/cli/test_error_handling.py::TestCLIErrorHandling::test_document_upload_large_path PASSED [ 43%]
tests/e2e/cli/test_error_handling.py::TestCLIErrorHandling::test_document_show_invalid_id PASSED [ 44%]
tests/e2e/cli/test_error_handling.py::TestCLIErrorHandling::test_document_show_nonexistent PASSED [ 44%]
tests/e2e/cli/test_error_handling.py::TestCLIErrorHandling::test_document_remove_cancel PASSED [ 45%]
tests/e2e/cli/test_error_handling.py::TestCLIErrorHandling::test_chat_list_invalid_workspace PASSED [ 45%]
tests/e2e/cli/test_error_handling.py::TestCLIErrorHandling::test_chat_list_nonexistent_workspace PASSED [ 46%]
tests/e2e/cli/test_error_handling.py::TestCLIErrorHandling::test_chat_new_invalid_workspace PASSED [ 46%]
tests/e2e/cli/test_error_handling.py::TestCLIErrorHandling::test_chat_select_invalid_id PASSED [ 47%]
tests/e2e/cli/test_error_handling.py::TestCLIErrorHandling::test_chat_select_nonexistent PASSED [ 47%]
tests/e2e/cli/test_error_handling.py::TestCLIErrorHandling::test_chat_delete_cancel PASSED [ 48%]
tests/e2e/cli/test_error_handling.py::TestCLIErrorHandling::test_chat_send_empty_message PASSED [ 48%]
tests/e2e/cli/test_error_handling.py::TestCLIErrorHandling::test_no_command PASSED [ 49%]
tests/e2e/cli/test_error_handling.py::TestCLIErrorHandling::test_invalid_resource PASSED [ 49%]
tests/e2e/cli/test_error_handling.py::TestCLIErrorHandling::test_invalid_action PASSED [ 50%]
tests/e2e/cli/test_error_handling.py::TestCLIErrorHandling::test_help_commands PASSED [ 50%]
tests/e2e/cli/test_error_handling.py::TestCLIErrorHandling::test_missing_required_argument PASSED [ 50%]
tests/e2e/cli/test_error_handling.py::TestCLIErrorHandling::test_workspace_new_with_empty_inputs PASSED [ 51%]
tests/e2e/cli/test_error_handling.py::TestCLIErrorHandling::test_default_rag_config_invalid_type PASSED [ 51%]
tests/e2e/cli/test_error_handling.py::TestCLIErrorHandling::test_document_upload_directory_instead_of_file PASSED [ 52%]
tests/e2e/cli/test_rag_combinations.py::TestRAGConfigCombinations::test_vector_sentence_chunking_nomic_embedding PASSED [ 52%]
tests/e2e/cli/test_rag_combinations.py::TestRAGConfigCombinations::test_vector_character_chunking_ollama_embedding FAILED [ 53%]
tests/e2e/cli/test_rag_combinations.py::TestRAGConfigCombinations::test_vector_semantic_chunking_huggingface_embedding FAILED [ 53%]
tests/e2e/cli/test_rag_combinations.py::TestRAGConfigCombinations::test_vector_dummy_chunking_dummy_embedding FAILED [ 54%]
tests/e2e/cli/test_rag_combinations.py::TestRAGConfigCombinations::test_vector_with_dummy_reranking FAILED [ 54%]
tests/e2e/cli/test_rag_combinations.py::TestRAGConfigCombinations::test_vector_large_chunk_size PASSED [ 55%]
tests/e2e/cli/test_rag_combinations.py::TestRAGConfigCombinations::test_vector_small_chunk_size PASSED [ 55%]
tests/e2e/cli/test_rag_combinations.py::TestRAGConfigCombinations::test_vector_zero_overlap PASSED [ 56%]
tests/e2e/cli/test_rag_combinations.py::TestRAGConfigCombinations::test_vector_high_top_k PASSED [ 56%]
tests/e2e/cli/test_rag_combinations.py::TestRAGConfigCombinations::test_vector_top_k_one PASSED [ 57%]
tests/e2e/cli/test_rag_combinations.py::TestRAGConfigCombinations::test_graph_spacy_dependency_leiden PASSED [ 57%]
tests/e2e/cli/test_rag_combinations.py::TestRAGConfigCombinations::test_graph_dummy_dependency_leiden FAILED [ 58%]
tests/e2e/cli/test_rag_combinations.py::TestRAGConfigCombinations::test_graph_spacy_dummy_leiden FAILED [ 58%]
tests/e2e/cli/test_rag_combinations.py::TestRAGConfigCombinations::test_graph_spacy_dependency_dummy_clustering FAILED [ 59%]
tests/e2e/cli/test_rag_combinations.py::TestRAGConfigCombinations::test_graph_all_dummy FAILED [ 59%]
tests/e2e/cli/test_rag_combinations.py::TestRAGConfigCombinations::test_switch_from_vector_to_graph PASSED [ 60%]
tests/e2e/cli/test_rag_combinations.py::TestRAGConfigCombinations::test_switch_from_graph_to_vector PASSED [ 60%]
tests/e2e/cli/test_rag_combinations.py::TestRAGConfigCombinations::test_multiple_config_updates FAILED [ 61%]
tests/e2e/cli/test_rag_combinations.py::TestRAGConfigCombinations::test_vector_all_defaults PASSED [ 61%]
tests/e2e/cli/test_rag_combinations.py::TestRAGConfigCombinations::test_vector_partial_defaults PASSED [ 62%]
tests/e2e/cli/test_rag_combinations.py::TestRAGConfigCombinations::test_create_workspace_after_vector_config PASSED [ 62%]
tests/e2e/cli/test_rag_combinations.py::TestRAGConfigCombinations::test_create_workspace_after_graph_config FAILED [ 63%]
tests/e2e/cli/test_rag_combinations.py::TestRAGConfigCombinations::test_create_mixed_workspace_types FAILED [ 63%]
tests/e2e/cli/test_rag_options.py::TestRagOptionsCLI::test_rag_options_list_command_exists PASSED [ 64%]
tests/e2e/cli/test_rag_options.py::TestRagOptionsCLI::test_rag_options_list_shows_rag_types PASSED [ 64%]
tests/e2e/cli/test_rag_options.py::TestRagOptionsCLI::test_rag_options_list_shows_chunking_algorithms PASSED [ 65%]
tests/e2e/cli/test_rag_options.py::TestRagOptionsCLI::test_rag_options_list_shows_embedding_algorithms PASSED [ 65%]
tests/e2e/cli/test_rag_options.py::TestRagOptionsCLI::test_rag_options_list_shows_rerank_algorithms PASSED [ 66%]
tests/e2e/cli/test_rag_options.py::TestRagOptionsCLI::test_rag_options_list_shows_graph_algorithms PASSED [ 66%]
tests/e2e/cli/test_rag_options.py::TestRagOptionsCLI::test_rag_options_list_shows_entity_extraction PASSED [ 67%]
tests/e2e/cli/test_rag_options.py::TestRagOptionsCLI::test_rag_options_list_shows_relationship_extraction PASSED [ 67%]
tests/e2e/cli/test_rag_options.py::TestRagOptionsCLI::test_rag_options_list_shows_clustering PASSED [ 68%]
tests/e2e/cli/test_rag_options.py::TestRagOptionsCLI::test_rag_options_help_command PASSED [ 68%]
tests/e2e/cli/test_rag_options.py::TestRagOptionsCLI::test_rag_options_list_format PASSED [ 69%]
tests/e2e/cli/test_rag_options.py::TestRagOptionsCLI::test_rag_options_list_includes_descriptions PASSED [ 69%]
tests/e2e/cli/test_rag_options.py::TestRagOptionsCLI::test_rag_options_list_all_categories_present PASSED [ 70%]
tests/e2e/cli/test_state.py::TestStateCLI::test_state_show_command_exists PASSED [ 70%]
tests/e2e/cli/test_state.py::TestStateCLI::test_state_show_displays_workspace PASSED [ 71%]
tests/e2e/cli/test_state.py::TestStateCLI::test_state_show_displays_session PASSED [ 71%]
tests/e2e/cli/test_state.py::TestStateCLI::test_state_show_after_workspace_switch PASSED [ 72%]
tests/e2e/cli/test_state.py::TestStateCLI::test_state_help_command PASSED [ 72%]
tests/e2e/cli/test_state.py::TestStateCLI::test_state_show_format PASSED [ 73%]
tests/e2e/cli/test_validation.py::TestCLIValidation::test_workspace_id_must_be_integer PASSED [ 73%]
tests/e2e/cli/test_validation.py::TestCLIValidation::test_workspace_id_zero PASSED [ 74%]
tests/e2e/cli/test_validation.py::TestCLIValidation::test_workspace_create_with_very_long_name PASSED [ 74%]
tests/e2e/cli/test_validation.py::TestCLIValidation::test_workspace_create_with_special_characters PASSED [ 75%]
tests/e2e/cli/test_validation.py::TestCLIValidation::test_workspace_create_with_unicode PASSED [ 75%]
tests/e2e/cli/test_validation.py::TestCLIValidation::test_workspace_select_with_extra_arguments PASSED [ 75%]
tests/e2e/cli/test_validation.py::TestCLIValidation::test_document_upload_with_special_char_filename PASSED [ 76%]
tests/e2e/cli/test_validation.py::TestCLIValidation::test_document_upload_symlink PASSED [ 76%]
tests/e2e/cli/test_validation.py::TestCLIValidation::test_document_id_validation PASSED [ 77%]
tests/e2e/cli/test_validation.py::TestCLIValidation::test_document_remove_with_wildcard PASSED [ 77%]
tests/e2e/cli/test_validation.py::TestCLIValidation::test_chat_workspace_id_validation PASSED [ 78%]
tests/e2e/cli/test_validation.py::TestCLIValidation::test_chat_session_id_validation PASSED [ 78%]
tests/e2e/cli/test_validation.py::TestCLIValidation::test_chat_new_with_very_long_title PASSED [ 79%]
tests/e2e/cli/test_validation.py::TestCLIValidation::test_chat_new_with_special_characters PASSED [ 79%]
tests/e2e/cli/test_validation.py::TestCLIValidation::test_chat_send_very_long_message PASSED [ 80%]
tests/e2e/cli/test_validation.py::TestCLIValidation::test_chat_send_with_newlines PASSED [ 80%]
tests/e2e/cli/test_validation.py::TestCLIValidation::test_rag_config_invalid_chunking_algorithm PASSED [ 81%]
tests/e2e/cli/test_validation.py::TestCLIValidation::test_rag_config_invalid_chunk_size PASSED [ 81%]
tests/e2e/cli/test_validation.py::TestCLIValidation::test_rag_config_invalid_overlap PASSED [ 82%]
tests/e2e/cli/test_validation.py::TestCLIValidation::test_rag_config_overlap_greater_than_chunk_size PASSED [ 82%]
tests/e2e/cli/test_validation.py::TestCLIValidation::test_rag_config_invalid_top_k PASSED [ 83%]
tests/e2e/cli/test_validation.py::TestCLIValidation::test_rag_config_invalid_entity_extraction PASSED [ 83%]
tests/e2e/cli/test_validation.py::TestCLIValidation::test_command_injection_attempts PASSED [ 84%]
tests/e2e/cli/test_validation.py::TestCLIValidation::test_null_byte_injection PASSED [ 84%]
tests/e2e/cli/test_validation.py::TestCLIValidation::test_path_traversal_in_document_upload PASSED [ 85%]
tests/e2e/cli/test_workflow.py::TestCLIWorkflow::test_complete_workspace_document_workflow PASSED [ 85%]
tests/e2e/cli/test_workflow.py::TestCLIWorkflow::test_complete_workspace_chat_workflow PASSED [ 86%]
tests/e2e/cli/test_workflow.py::TestCLIWorkflow::test_workspace_rag_config_workflow PASSED [ 86%]
tests/e2e/cli/test_workflow.py::TestCLIWorkflow::test_multiple_workspace_switching_workflow PASSED [ 87%]
tests/e2e/cli/test_workflow.py::TestCLIWorkflow::test_document_upload_with_different_types PASSED [ 87%]
tests/e2e/cli/test_workflow.py::TestCLIWorkflow::test_workspace_update_workflow PASSED [ 88%]
tests/e2e/cli/test_workflow.py::TestCLIWorkflow::test_document_show_after_upload PASSED [ 88%]
tests/e2e/cli/test_workspace.py::TestWorkspaceCLI::test_workspace_list PASSED [ 89%]
tests/e2e/cli/test_workspace.py::TestWorkspaceCLI::test_workspace_new_interactive PASSED [ 89%]
tests/e2e/cli/test_workspace.py::TestWorkspaceCLI::test_workspace_show PASSED [ 90%]
tests/e2e/cli/test_workspace.py::TestWorkspaceCLI::test_workspace_update_interactive PASSED [ 90%]
tests/e2e/cli/test_workspace.py::TestWorkspaceCLI::test_workspace_select PASSED [ 91%]
tests/e2e/cli/test_workspace.py::TestWorkspaceCLI::test_workspace_delete PASSED [ 91%]
tests/e2e/cli/test_workspace.py::TestWorkspaceCLI::test_workspace_show_nonexistent PASSED [ 92%]
tests/e2e/cli/test_workspace.py::TestWorkspaceCLI::test_workspace_help PASSED [ 92%]
tests/e2e/cli/test_workspace_context.py::TestWorkspaceContext::test_select_and_verify_current_workspace PASSED [ 93%]
tests/e2e/cli/test_workspace_context.py::TestWorkspaceContext::test_switch_between_multiple_workspaces PASSED [ 93%]
tests/e2e/cli/test_workspace_context.py::TestWorkspaceContext::test_select_workspace_multiple_times FAILED [ 94%]
tests/e2e/cli/test_workspace_context.py::TestWorkspaceContext::test_document_list_changes_with_workspace_switch PASSED [ 94%]
tests/e2e/cli/test_workspace_context.py::TestWorkspaceContext::test_document_upload_to_different_workspaces PASSED [ 95%]
tests/e2e/cli/test_workspace_context.py::TestWorkspaceContext::test_document_operations_without_workspace_selected PASSED [ 95%]
tests/e2e/cli/test_workspace_context.py::TestWorkspaceContext::test_chat_sessions_isolated_per_workspace PASSED [ 96%]
tests/e2e/cli/test_workspace_context.py::TestWorkspaceContext::test_chat_context_preserved_after_workspace_switch PASSED [ 96%]
tests/e2e/cli/test_workspace_context.py::TestWorkspaceContext::test_update_current_workspace FAILED [ 97%]
tests/e2e/cli/test_workspace_context.py::TestWorkspaceContext::test_update_non_selected_workspace FAILED [ 97%]
tests/e2e/cli/test_workspace_context.py::TestWorkspaceContext::test_delete_non_selected_workspace PASSED [ 98%]
tests/e2e/cli/test_workspace_context.py::TestWorkspaceContext::test_full_workspace_lifecycle_with_context PASSED [ 98%]
tests/e2e/cli/test_workspace_context.py::TestWorkspaceContext::test_workspace_show_all_workspaces FAILED [ 99%]
tests/e2e/cli/test_workspace_context.py::TestWorkspaceContext::test_workspace_list_shows_all FAILED [ 99%]
tests/e2e/cli/test_workspace_context.py::TestWorkspaceContext::test_operations_across_workspace_boundaries FAILED [100%]

=================================== FAILURES ===================================
_____ TestCLICombinations.test_multiple_workspaces_with_different_configs ______

self = <e2e.cli.test_cli_combinations.TestCLICombinations object at 0x762d3bb3d810>

    def test_multiple_workspaces_with_different_configs(self):
        """Test creating multiple workspaces with different RAG configs."""
        # Create vector workspace
        vector_config = subprocess.run(
            [sys.executable, "-m", "src.cli", "default-rag-config", "new"],
            input="vector\nsentence\n1000\n200\nnomic-embed-text\n5\nnone\n",
            capture_output=True,
            text=True,
        )
        assert vector_config.returncode == 0
    
        vector_ws = subprocess.run(
            [sys.executable, "-m", "src.cli", "workspace", "new"],
            input="Vector Workspace\nVector RAG workspace\nvector\n",
            capture_output=True,
            text=True,
        )
        assert vector_ws.returncode == 0
        vector_ws_id = self.extract_id(vector_ws.stdout, r"Created workspace \[(\d+)\]")
    
        # Create graph workspace
        graph_config = subprocess.run(
            [sys.executable, "-m", "src.cli", "default-rag-config", "new"],
            input="graph\nspacy\ndependency-parsing\nleiden\n",
            capture_output=True,
            text=True,
        )
        assert graph_config.returncode == 0
    
        graph_ws = subprocess.run(
            [sys.executable, "-m", "src.cli", "workspace", "new"],
            input="Graph Workspace\nGraph RAG workspace\ngraph\n",
            capture_output=True,
            text=True,
        )
>       assert graph_ws.returncode == 0
E       AssertionError: assert 1 == 0
E        +  where 1 = CompletedProcess(args=['/home/nate/.cache/pypoetry/virtualenvs/insighthub-G9Cf3wlO-py3.13/bin/python', '-m', 'src.cli', 'workspace', 'new'], returncode=1, stdout='Workspace name: Description (optional): \nAvailable RAG types:\n  - vector: Traditional vector similarity search with embeddings\n  - graph: Knowledge graph-based retrieval with entity relationships\n\nRAG type [graph]: ', stderr='Error: Graph RAG create resources workflow not yet implemented\n').returncode

tests/e2e/cli/test_cli_combinations.py:124: AssertionError
------------------------------ Captured log setup ------------------------------
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x762d200cdcc0>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.complete
DEBUG    httpcore.http11:_trace.py:47 send_request_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_body.complete
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'content-encoding', b'gzip'), (b'date', b'Sat, 06 Dec 2025 21:51:30 GMT')])
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.complete
DEBUG    httpcore.http11:_trace.py:47 response_closed.started
DEBUG    httpcore.http11:_trace.py:47 response_closed.complete
DEBUG    httpcore.connection:_trace.py:47 close.started
DEBUG    httpcore.connection:_trace.py:47 close.complete
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x762d1ffc3cf0>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.complete
DEBUG    httpcore.http11:_trace.py:47 send_request_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_body.complete
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Sat, 06 Dec 2025 21:51:30 GMT')])
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.complete
DEBUG    httpcore.http11:_trace.py:47 response_closed.started
DEBUG    httpcore.http11:_trace.py:47 response_closed.complete
DEBUG    httpcore.connection:_trace.py:47 close.started
DEBUG    httpcore.connection:_trace.py:47 close.complete
DEBUG    botocore.hooks:hooks.py:238 Event choose-service-name: calling handler <function handle_service_name_alias at 0x762d20b58360>
DEBUG    botocore.hooks:hooks.py:238 Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x762d20cb2de0>
DEBUG    botocore.hooks:hooks.py:238 Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x762d20be2520>
DEBUG    botocore.hooks:hooks.py:238 Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x762d20cb2b60>
DEBUG    botocore.endpoint:endpoint.py:414 Setting s3 timeout as (60, 60)
DEBUG    botocore.client:client.py:286 Registering retry handlers for service: s3
DEBUG    botocore.utils:utils.py:1747 Registering S3 region redirector handler
DEBUG    botocore.utils:utils.py:1695 Registering S3Express Identity Resolver
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function set_list_objects_encoding_type_url at 0x762d20b5a7a0>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function validate_bucket_name at 0x762d20b59300>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function remove_bucket_from_url_paths_from_model at 0x762d20b5b600>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1ffb0410>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method ClientCreator._inject_s3_input_parameters of <botocore.client.ClientCreator object at 0x762d1ff957b0>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function generate_idempotent_uuid at 0x762d20b59120>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function _handle_request_validation_mode_member at 0x762d20b5bce0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x762d20b5b7e0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1ffb0410>>
DEBUG    botocore.regions:regions.py:506 Calling endpoint provider with parameters: {'Bucket': 'document', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'Endpoint': 'http://localhost:9000', 'ForcePathStyle': True, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
DEBUG    botocore.regions:regions.py:521 Endpoint provider result: http://localhost:9000/document
DEBUG    botocore.regions:regions.py:691 Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
DEBUG    botocore.regions:regions.py:766 Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_expect_header at 0x762d20b596c0>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.apply_signing_cache_key of <botocore.utils.S3ExpressIdentityResolver object at 0x762d1ffb3b30>>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_recursion_detection_header at 0x762d20b58c20>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function inject_api_version_header_if_needed at 0x762d20b5ac00>
DEBUG    botocore.endpoint:endpoint.py:114 Making request for OperationModel(name=ListObjectsV2) with params: {'url_path': '?list-type=2', 'query_string': {'encoding-type': 'url'}, 'method': 'GET', 'headers': {'User-Agent': 'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1'}, 'body': b'', 'auth_path': '/document/', 'url': 'http://localhost:9000/document?list-type=2&encoding-type=url', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x762d216af390>, 'has_streaming_input': False, 'auth_type': 'v4', 'unsigned_payload': None, 'auth_options': ['aws.auth#sigv4'], 'encoding_type_auto_set': True, 's3_redirect': {'redirected': False, 'bucket': 'document', 'params': {'Bucket': 'document', 'EncodingType': 'url'}}, 'input_params': {'Bucket': 'document'}, 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 'endpoint_properties': {'authSchemes': [{'disableDoubleEncoding': True, 'name': 'sigv4', 'signingName': 's3', 'signingRegion': 'us-east-1'}]}}}
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x762d1ff123d0>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x762d1ff957b0>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <function set_operation_specific_signer at 0x762d20b58ea0>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function remove_arn_from_signing_path at 0x762d20b5b740>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function _set_extra_headers_for_unsigned_request at 0x762d20b5bd80>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.resolve_s3express_identity of <botocore.utils.S3ExpressIdentityResolver object at 0x762d1ffb3b30>>
DEBUG    botocore.auth:auth.py:429 Calculating signature using v4 auth.
DEBUG    botocore.auth:auth.py:430 CanonicalRequest:
GET
/document
encoding-type=url&list-type=2
host:localhost:9000
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20251206T215131Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
DEBUG    botocore.auth:auth.py:432 StringToSign:
AWS4-HMAC-SHA256
20251206T215131Z
20251206/us-east-1/s3/aws4_request
2c6bd73fcc6c64f5cb6f43eaf1010e4ef3f5fd6f6c1512f59ab34875c68afe27
DEBUG    botocore.auth:auth.py:434 Signature:
1d478e6efeec0b8a3c0bfd922a9006a31d701a898de9631ceef5de85c6c279ef
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method UserAgentString.rebuild_and_replace_user_agent_handler of <botocore.useragent.UserAgentString object at 0x762d1ff97b70>>
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <function add_retry_headers at 0x762d20b5b560>
DEBUG    botocore.endpoint:endpoint.py:263 Sending http request: <AWSPreparedRequest stream_output=False, method=GET, url=http://localhost:9000/document?list-type=2&encoding-type=url, headers={'User-Agent': b'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1', 'X-Amz-Date': b'20251206T215131Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=minioadmin/20251206/us-east-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=1d478e6efeec0b8a3c0bfd922a9006a31d701a898de9631ceef5de85c6c279ef', 'amz-sdk-invocation-id': b'642aeb70-6fdb-43fd-96cc-7964647694f5', 'amz-sdk-request': b'attempt=1'}>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function _handle_200_error at 0x762d20b5bb00>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function handle_expires_header at 0x762d20b5b920>
DEBUG    botocore.parsers:parsers.py:255 Response headers: {'Accept-Ranges': 'bytes', 'Content-Length': '1651', 'Content-Type': 'application/xml', 'Server': 'MinIO', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'Vary': 'Origin, Accept-Encoding', 'X-Amz-Id-2': 'dd9025bab4ad464b049177c95eb6ebf374d3b3fd1af9251148b658df7ac2e3e8', 'X-Amz-Request-Id': '187EBECCDDD64012', 'X-Content-Type-Options': 'nosniff', 'X-Ratelimit-Limit': '4101', 'X-Ratelimit-Remaining': '4101', 'X-Xss-Protection': '1; mode=block', 'Date': 'Sat, 06 Dec 2025 21:51:31 GMT'}
DEBUG    botocore.parsers:parsers.py:256 Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<ListBucketResult xmlns="http://s3.amazonaws.com/doc/2006-03-01/"><Name>document</Name><Prefix></Prefix><KeyCount>5</KeyCount><MaxKeys>1000</MaxKeys><IsTruncated>false</IsTruncated><Contents><Key>117b0b2c981e75201b42a3f484ce0597efc559bf6d13288eacc4a717fa2fc736/tmpfexropfo_ops2.txt</Key><LastModified>2025-12-06T04:26:08.867Z</LastModified><ETag>&#34;5e0d22fc93f0f5ce7afce9aa02b0bc7d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>61b46b03f15f3c81f3640916be69f1d34fdd8191644e3d689a4c50cb9bc91d23/tmp2fa0p4_o_ops3.txt</Key><LastModified>2025-12-06T04:26:14.608Z</LastModified><ETag>&#34;53cec5e28d6e94a3991483e9dea86cd5&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>c26ae29584f33f4398072bfe9a37f455a85460237adf672922c3c7d928ba99f0/tmptsq137kv_ops0.txt</Key><LastModified>2025-12-06T04:25:59.153Z</LastModified><ETag>&#34;f697ceebb544c3f9ffe7d768f83c059d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>eea2eb3d0912c348f733308b3bc702cb37ef6eb0c96ff6b0c515cd5942a553ec/tmpg0h_zyad.txt</Key><LastModified>2025-12-06T04:29:48.556Z</LastModified><ETag>&#34;a33c5f35dbf2a7336b7535430610e358&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>fae826ba4b154dd6a512b641abf32b71b0ae3050e613292dfe675d6fca935adb/tmpug44129o_ops1.txt</Key><LastModified>2025-12-06T04:26:04.132Z</LastModified><ETag>&#34;01b0c1954a19d5d40136aa728191f1d4&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><EncodingType>url</EncodingType></ListBucketResult>'
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <function _update_status_code at 0x762d20b5bc40>
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <botocore.retryhandler.RetryHandler object at 0x762d1ffb0530>
DEBUG    botocore.retryhandler:retryhandler.py:211 No retry needed.
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1ffb0410>>
DEBUG    botocore.hooks:hooks.py:238 Event after-call.s3.ListObjectsV2: calling handler <function decode_list_object_v2 at 0x762d20b5a8e0>
---------------------------- Captured log teardown -----------------------------
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x762d1ff63b60>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.complete
DEBUG    httpcore.http11:_trace.py:47 send_request_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_body.complete
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'content-type', b'application/json'), (b'date', b'Sat, 06 Dec 2025 21:52:17 GMT')])
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.complete
DEBUG    httpcore.http11:_trace.py:47 response_closed.started
DEBUG    httpcore.http11:_trace.py:47 response_closed.complete
DEBUG    httpcore.connection:_trace.py:47 close.started
DEBUG    httpcore.connection:_trace.py:47 close.complete
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function set_list_objects_encoding_type_url at 0x762d20b5a7a0>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function validate_bucket_name at 0x762d20b59300>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function remove_bucket_from_url_paths_from_model at 0x762d20b5b600>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1ffb0410>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method ClientCreator._inject_s3_input_parameters of <botocore.client.ClientCreator object at 0x762d1ff957b0>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function generate_idempotent_uuid at 0x762d20b59120>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function _handle_request_validation_mode_member at 0x762d20b5bce0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x762d20b5b7e0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1ffb0410>>
DEBUG    botocore.regions:regions.py:506 Calling endpoint provider with parameters: {'Bucket': 'document', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'Endpoint': 'http://localhost:9000', 'ForcePathStyle': True, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
DEBUG    botocore.regions:regions.py:521 Endpoint provider result: http://localhost:9000/document
DEBUG    botocore.regions:regions.py:691 Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
DEBUG    botocore.regions:regions.py:766 Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_expect_header at 0x762d20b596c0>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.apply_signing_cache_key of <botocore.utils.S3ExpressIdentityResolver object at 0x762d1ffb3b30>>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_recursion_detection_header at 0x762d20b58c20>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function inject_api_version_header_if_needed at 0x762d20b5ac00>
DEBUG    botocore.endpoint:endpoint.py:114 Making request for OperationModel(name=ListObjectsV2) with params: {'url_path': '?list-type=2', 'query_string': {'encoding-type': 'url'}, 'method': 'GET', 'headers': {'User-Agent': 'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1'}, 'body': b'', 'auth_path': '/document/', 'url': 'http://localhost:9000/document?list-type=2&encoding-type=url', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x762d216af390>, 'has_streaming_input': False, 'auth_type': 'v4', 'unsigned_payload': None, 'auth_options': ['aws.auth#sigv4'], 'encoding_type_auto_set': True, 's3_redirect': {'redirected': False, 'bucket': 'document', 'params': {'Bucket': 'document', 'EncodingType': 'url'}}, 'input_params': {'Bucket': 'document'}, 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 'endpoint_properties': {'authSchemes': [{'disableDoubleEncoding': True, 'name': 'sigv4', 'signingName': 's3', 'signingRegion': 'us-east-1'}]}}}
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x762d1ff123d0>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x762d1ff957b0>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <function set_operation_specific_signer at 0x762d20b58ea0>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function remove_arn_from_signing_path at 0x762d20b5b740>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function _set_extra_headers_for_unsigned_request at 0x762d20b5bd80>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.resolve_s3express_identity of <botocore.utils.S3ExpressIdentityResolver object at 0x762d1ffb3b30>>
DEBUG    botocore.auth:auth.py:429 Calculating signature using v4 auth.
DEBUG    botocore.auth:auth.py:430 CanonicalRequest:
GET
/document
encoding-type=url&list-type=2
host:localhost:9000
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20251206T215217Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
DEBUG    botocore.auth:auth.py:432 StringToSign:
AWS4-HMAC-SHA256
20251206T215217Z
20251206/us-east-1/s3/aws4_request
6d7f0fe5149ebbb84c483b793b877272b39bc2474ad4331efdb93868825db787
DEBUG    botocore.auth:auth.py:434 Signature:
fa3369442fd3d5c41e960a0965974ecfb777e98aeefe8489f9e8f23bd8b87130
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method UserAgentString.rebuild_and_replace_user_agent_handler of <botocore.useragent.UserAgentString object at 0x762d1ff97b70>>
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <function add_retry_headers at 0x762d20b5b560>
DEBUG    botocore.endpoint:endpoint.py:263 Sending http request: <AWSPreparedRequest stream_output=False, method=GET, url=http://localhost:9000/document?list-type=2&encoding-type=url, headers={'User-Agent': b'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1', 'X-Amz-Date': b'20251206T215217Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=minioadmin/20251206/us-east-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=fa3369442fd3d5c41e960a0965974ecfb777e98aeefe8489f9e8f23bd8b87130', 'amz-sdk-invocation-id': b'76d99418-ea41-4eaf-a3f6-8eaab3642918', 'amz-sdk-request': b'attempt=1'}>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function _handle_200_error at 0x762d20b5bb00>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function handle_expires_header at 0x762d20b5b920>
DEBUG    botocore.parsers:parsers.py:255 Response headers: {'Accept-Ranges': 'bytes', 'Content-Length': '1651', 'Content-Type': 'application/xml', 'Server': 'MinIO', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'Vary': 'Origin, Accept-Encoding', 'X-Amz-Id-2': 'dd9025bab4ad464b049177c95eb6ebf374d3b3fd1af9251148b658df7ac2e3e8', 'X-Amz-Request-Id': '187EBED7A36EAF6F', 'X-Content-Type-Options': 'nosniff', 'X-Ratelimit-Limit': '4101', 'X-Ratelimit-Remaining': '4101', 'X-Xss-Protection': '1; mode=block', 'Date': 'Sat, 06 Dec 2025 21:52:17 GMT'}
DEBUG    botocore.parsers:parsers.py:256 Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<ListBucketResult xmlns="http://s3.amazonaws.com/doc/2006-03-01/"><Name>document</Name><Prefix></Prefix><KeyCount>5</KeyCount><MaxKeys>1000</MaxKeys><IsTruncated>false</IsTruncated><Contents><Key>117b0b2c981e75201b42a3f484ce0597efc559bf6d13288eacc4a717fa2fc736/tmpfexropfo_ops2.txt</Key><LastModified>2025-12-06T04:26:08.867Z</LastModified><ETag>&#34;5e0d22fc93f0f5ce7afce9aa02b0bc7d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>61b46b03f15f3c81f3640916be69f1d34fdd8191644e3d689a4c50cb9bc91d23/tmp2fa0p4_o_ops3.txt</Key><LastModified>2025-12-06T04:26:14.608Z</LastModified><ETag>&#34;53cec5e28d6e94a3991483e9dea86cd5&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>c26ae29584f33f4398072bfe9a37f455a85460237adf672922c3c7d928ba99f0/tmptsq137kv_ops0.txt</Key><LastModified>2025-12-06T04:25:59.153Z</LastModified><ETag>&#34;f697ceebb544c3f9ffe7d768f83c059d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>eea2eb3d0912c348f733308b3bc702cb37ef6eb0c96ff6b0c515cd5942a553ec/tmpg0h_zyad.txt</Key><LastModified>2025-12-06T04:29:48.556Z</LastModified><ETag>&#34;a33c5f35dbf2a7336b7535430610e358&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>fae826ba4b154dd6a512b641abf32b71b0ae3050e613292dfe675d6fca935adb/tmpug44129o_ops1.txt</Key><LastModified>2025-12-06T04:26:04.132Z</LastModified><ETag>&#34;01b0c1954a19d5d40136aa728191f1d4&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><EncodingType>url</EncodingType></ListBucketResult>'
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <function _update_status_code at 0x762d20b5bc40>
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <botocore.retryhandler.RetryHandler object at 0x762d1ffb0530>
DEBUG    botocore.retryhandler:retryhandler.py:211 No retry needed.
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1ffb0410>>
DEBUG    botocore.hooks:hooks.py:238 Event after-call.s3.ListObjectsV2: calling handler <function decode_list_object_v2 at 0x762d20b5a8e0>
____________ TestCLIErrorHandling.test_workspace_update_nonexistent ____________

self = <e2e.cli.test_error_handling.TestCLIErrorHandling object at 0x762d3bba63f0>

    def test_workspace_update_nonexistent(self):
        """Test updating a workspace that doesn't exist."""
        result = subprocess.run(
            [sys.executable, "-m", "src.cli", "workspace", "update", "999999"],
            input="Test\nTest\n",
            capture_output=True,
            text=True,
        )
        assert result.returncode != 0
>       assert "not found" in result.stderr.lower()
E       assert 'not found' in "error: notfounderror(resource='workspace', id=999999)\n"
E        +  where "error: notfounderror(resource='workspace', id=999999)\n" = <built-in method lower of str object at 0x762d1fff0b10>()
E        +    where <built-in method lower of str object at 0x762d1fff0b10> = "Error: NotFoundError(resource='workspace', id=999999)\n".lower
E        +      where "Error: NotFoundError(resource='workspace', id=999999)\n" = CompletedProcess(args=['/home/nate/.cache/pypoetry/virtualenvs/insighthub-G9Cf3wlO-py3.13/bin/python', '-m', 'src.cli', 'workspace', 'update', '999999'], returncode=1, stdout='', stderr="Error: NotFoundError(resource='workspace', id=999999)\n").stderr

tests/e2e/cli/test_error_handling.py:46: AssertionError
------------------------------ Captured log setup ------------------------------
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x762d20018ff0>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.complete
DEBUG    httpcore.http11:_trace.py:47 send_request_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_body.complete
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'content-encoding', b'gzip'), (b'date', b'Sat, 06 Dec 2025 22:49:49 GMT')])
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.complete
DEBUG    httpcore.http11:_trace.py:47 response_closed.started
DEBUG    httpcore.http11:_trace.py:47 response_closed.complete
DEBUG    httpcore.connection:_trace.py:47 close.started
DEBUG    httpcore.connection:_trace.py:47 close.complete
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x762d2027ba20>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.complete
DEBUG    httpcore.http11:_trace.py:47 send_request_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_body.complete
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Sat, 06 Dec 2025 22:49:49 GMT')])
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.complete
DEBUG    httpcore.http11:_trace.py:47 response_closed.started
DEBUG    httpcore.http11:_trace.py:47 response_closed.complete
DEBUG    httpcore.connection:_trace.py:47 close.started
DEBUG    httpcore.connection:_trace.py:47 close.complete
DEBUG    botocore.hooks:hooks.py:238 Event choose-service-name: calling handler <function handle_service_name_alias at 0x762d20b58360>
DEBUG    botocore.hooks:hooks.py:238 Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x762d20cb2de0>
DEBUG    botocore.hooks:hooks.py:238 Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x762d20be2520>
DEBUG    botocore.hooks:hooks.py:238 Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x762d20cb2b60>
DEBUG    botocore.endpoint:endpoint.py:414 Setting s3 timeout as (60, 60)
DEBUG    botocore.client:client.py:286 Registering retry handlers for service: s3
DEBUG    botocore.utils:utils.py:1747 Registering S3 region redirector handler
DEBUG    botocore.utils:utils.py:1695 Registering S3Express Identity Resolver
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function set_list_objects_encoding_type_url at 0x762d20b5a7a0>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function validate_bucket_name at 0x762d20b59300>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function remove_bucket_from_url_paths_from_model at 0x762d20b5b600>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fff3a10>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method ClientCreator._inject_s3_input_parameters of <botocore.client.ClientCreator object at 0x762d1fdef5f0>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function generate_idempotent_uuid at 0x762d20b59120>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function _handle_request_validation_mode_member at 0x762d20b5bce0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x762d20b5b7e0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fff3a10>>
DEBUG    botocore.regions:regions.py:506 Calling endpoint provider with parameters: {'Bucket': 'document', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'Endpoint': 'http://localhost:9000', 'ForcePathStyle': True, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
DEBUG    botocore.regions:regions.py:521 Endpoint provider result: http://localhost:9000/document
DEBUG    botocore.regions:regions.py:691 Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
DEBUG    botocore.regions:regions.py:766 Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_expect_header at 0x762d20b596c0>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.apply_signing_cache_key of <botocore.utils.S3ExpressIdentityResolver object at 0x762d1fff3650>>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_recursion_detection_header at 0x762d20b58c20>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function inject_api_version_header_if_needed at 0x762d20b5ac00>
DEBUG    botocore.endpoint:endpoint.py:114 Making request for OperationModel(name=ListObjectsV2) with params: {'url_path': '?list-type=2', 'query_string': {'encoding-type': 'url'}, 'method': 'GET', 'headers': {'User-Agent': 'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1'}, 'body': b'', 'auth_path': '/document/', 'url': 'http://localhost:9000/document?list-type=2&encoding-type=url', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x762d216af390>, 'has_streaming_input': False, 'auth_type': 'v4', 'unsigned_payload': None, 'auth_options': ['aws.auth#sigv4'], 'encoding_type_auto_set': True, 's3_redirect': {'redirected': False, 'bucket': 'document', 'params': {'Bucket': 'document', 'EncodingType': 'url'}}, 'input_params': {'Bucket': 'document'}, 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 'endpoint_properties': {'authSchemes': [{'disableDoubleEncoding': True, 'name': 'sigv4', 'signingName': 's3', 'signingRegion': 'us-east-1'}]}}}
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x762d1ff9a950>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x762d1fdef5f0>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <function set_operation_specific_signer at 0x762d20b58ea0>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function remove_arn_from_signing_path at 0x762d20b5b740>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function _set_extra_headers_for_unsigned_request at 0x762d20b5bd80>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.resolve_s3express_identity of <botocore.utils.S3ExpressIdentityResolver object at 0x762d1fff3650>>
DEBUG    botocore.auth:auth.py:429 Calculating signature using v4 auth.
DEBUG    botocore.auth:auth.py:430 CanonicalRequest:
GET
/document
encoding-type=url&list-type=2
host:localhost:9000
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20251206T224950Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
DEBUG    botocore.auth:auth.py:432 StringToSign:
AWS4-HMAC-SHA256
20251206T224950Z
20251206/us-east-1/s3/aws4_request
b2c76ef2bbfb80ecd1a24809ac60e2d0ad75b762bc55d6e0388b60e920f0eb2c
DEBUG    botocore.auth:auth.py:434 Signature:
1ea4d4611876b9e94af12ebfd24b19efd92e5eb4cf79a1c87eeb0d8b5662100a
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method UserAgentString.rebuild_and_replace_user_agent_handler of <botocore.useragent.UserAgentString object at 0x762d1fdee0a0>>
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <function add_retry_headers at 0x762d20b5b560>
DEBUG    botocore.endpoint:endpoint.py:263 Sending http request: <AWSPreparedRequest stream_output=False, method=GET, url=http://localhost:9000/document?list-type=2&encoding-type=url, headers={'User-Agent': b'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1', 'X-Amz-Date': b'20251206T224950Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=minioadmin/20251206/us-east-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=1ea4d4611876b9e94af12ebfd24b19efd92e5eb4cf79a1c87eeb0d8b5662100a', 'amz-sdk-invocation-id': b'0ae66faa-7d79-4119-84cb-59fde45e721a', 'amz-sdk-request': b'attempt=1'}>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function _handle_200_error at 0x762d20b5bb00>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function handle_expires_header at 0x762d20b5b920>
DEBUG    botocore.parsers:parsers.py:255 Response headers: {'Accept-Ranges': 'bytes', 'Content-Length': '1651', 'Content-Type': 'application/xml', 'Server': 'MinIO', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'Vary': 'Origin, Accept-Encoding', 'X-Amz-Id-2': 'dd9025bab4ad464b049177c95eb6ebf374d3b3fd1af9251148b658df7ac2e3e8', 'X-Amz-Request-Id': '187EC1FB917DAE42', 'X-Content-Type-Options': 'nosniff', 'X-Ratelimit-Limit': '4101', 'X-Ratelimit-Remaining': '4101', 'X-Xss-Protection': '1; mode=block', 'Date': 'Sat, 06 Dec 2025 22:49:50 GMT'}
DEBUG    botocore.parsers:parsers.py:256 Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<ListBucketResult xmlns="http://s3.amazonaws.com/doc/2006-03-01/"><Name>document</Name><Prefix></Prefix><KeyCount>5</KeyCount><MaxKeys>1000</MaxKeys><IsTruncated>false</IsTruncated><Contents><Key>117b0b2c981e75201b42a3f484ce0597efc559bf6d13288eacc4a717fa2fc736/tmpfexropfo_ops2.txt</Key><LastModified>2025-12-06T04:26:08.867Z</LastModified><ETag>&#34;5e0d22fc93f0f5ce7afce9aa02b0bc7d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>61b46b03f15f3c81f3640916be69f1d34fdd8191644e3d689a4c50cb9bc91d23/tmp2fa0p4_o_ops3.txt</Key><LastModified>2025-12-06T04:26:14.608Z</LastModified><ETag>&#34;53cec5e28d6e94a3991483e9dea86cd5&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>c26ae29584f33f4398072bfe9a37f455a85460237adf672922c3c7d928ba99f0/tmptsq137kv_ops0.txt</Key><LastModified>2025-12-06T04:25:59.153Z</LastModified><ETag>&#34;f697ceebb544c3f9ffe7d768f83c059d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>eea2eb3d0912c348f733308b3bc702cb37ef6eb0c96ff6b0c515cd5942a553ec/tmpg0h_zyad.txt</Key><LastModified>2025-12-06T04:29:48.556Z</LastModified><ETag>&#34;a33c5f35dbf2a7336b7535430610e358&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>fae826ba4b154dd6a512b641abf32b71b0ae3050e613292dfe675d6fca935adb/tmpug44129o_ops1.txt</Key><LastModified>2025-12-06T04:26:04.132Z</LastModified><ETag>&#34;01b0c1954a19d5d40136aa728191f1d4&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><EncodingType>url</EncodingType></ListBucketResult>'
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <function _update_status_code at 0x762d20b5bc40>
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <botocore.retryhandler.RetryHandler object at 0x762d1fff3410>
DEBUG    botocore.retryhandler:retryhandler.py:211 No retry needed.
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fff3a10>>
DEBUG    botocore.hooks:hooks.py:238 Event after-call.s3.ListObjectsV2: calling handler <function decode_list_object_v2 at 0x762d20b5a8e0>
---------------------------- Captured log teardown -----------------------------
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x762d1fe04ff0>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.complete
DEBUG    httpcore.http11:_trace.py:47 send_request_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_body.complete
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Sat, 06 Dec 2025 22:50:02 GMT')])
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.complete
DEBUG    httpcore.http11:_trace.py:47 response_closed.started
DEBUG    httpcore.http11:_trace.py:47 response_closed.complete
DEBUG    httpcore.connection:_trace.py:47 close.started
DEBUG    httpcore.connection:_trace.py:47 close.complete
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function set_list_objects_encoding_type_url at 0x762d20b5a7a0>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function validate_bucket_name at 0x762d20b59300>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function remove_bucket_from_url_paths_from_model at 0x762d20b5b600>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fff3a10>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method ClientCreator._inject_s3_input_parameters of <botocore.client.ClientCreator object at 0x762d1fdef5f0>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function generate_idempotent_uuid at 0x762d20b59120>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function _handle_request_validation_mode_member at 0x762d20b5bce0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x762d20b5b7e0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fff3a10>>
DEBUG    botocore.regions:regions.py:506 Calling endpoint provider with parameters: {'Bucket': 'document', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'Endpoint': 'http://localhost:9000', 'ForcePathStyle': True, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
DEBUG    botocore.regions:regions.py:521 Endpoint provider result: http://localhost:9000/document
DEBUG    botocore.regions:regions.py:691 Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
DEBUG    botocore.regions:regions.py:766 Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_expect_header at 0x762d20b596c0>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.apply_signing_cache_key of <botocore.utils.S3ExpressIdentityResolver object at 0x762d1fff3650>>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_recursion_detection_header at 0x762d20b58c20>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function inject_api_version_header_if_needed at 0x762d20b5ac00>
DEBUG    botocore.endpoint:endpoint.py:114 Making request for OperationModel(name=ListObjectsV2) with params: {'url_path': '?list-type=2', 'query_string': {'encoding-type': 'url'}, 'method': 'GET', 'headers': {'User-Agent': 'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1'}, 'body': b'', 'auth_path': '/document/', 'url': 'http://localhost:9000/document?list-type=2&encoding-type=url', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x762d216af390>, 'has_streaming_input': False, 'auth_type': 'v4', 'unsigned_payload': None, 'auth_options': ['aws.auth#sigv4'], 'encoding_type_auto_set': True, 's3_redirect': {'redirected': False, 'bucket': 'document', 'params': {'Bucket': 'document', 'EncodingType': 'url'}}, 'input_params': {'Bucket': 'document'}, 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 'endpoint_properties': {'authSchemes': [{'disableDoubleEncoding': True, 'name': 'sigv4', 'signingName': 's3', 'signingRegion': 'us-east-1'}]}}}
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x762d1ff9a950>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x762d1fdef5f0>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <function set_operation_specific_signer at 0x762d20b58ea0>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function remove_arn_from_signing_path at 0x762d20b5b740>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function _set_extra_headers_for_unsigned_request at 0x762d20b5bd80>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.resolve_s3express_identity of <botocore.utils.S3ExpressIdentityResolver object at 0x762d1fff3650>>
DEBUG    botocore.auth:auth.py:429 Calculating signature using v4 auth.
DEBUG    botocore.auth:auth.py:430 CanonicalRequest:
GET
/document
encoding-type=url&list-type=2
host:localhost:9000
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20251206T225002Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
DEBUG    botocore.auth:auth.py:432 StringToSign:
AWS4-HMAC-SHA256
20251206T225002Z
20251206/us-east-1/s3/aws4_request
4a0fed8ae1a9f873d9d0373c88bf4518dd489bd79fdaf4e9887193871c686c6a
DEBUG    botocore.auth:auth.py:434 Signature:
b6ac1d37144e1ba8e094fd4ee8980c14368f94c4b96851a95a1996657fd4a109
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method UserAgentString.rebuild_and_replace_user_agent_handler of <botocore.useragent.UserAgentString object at 0x762d1fdee0a0>>
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <function add_retry_headers at 0x762d20b5b560>
DEBUG    botocore.endpoint:endpoint.py:263 Sending http request: <AWSPreparedRequest stream_output=False, method=GET, url=http://localhost:9000/document?list-type=2&encoding-type=url, headers={'User-Agent': b'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1', 'X-Amz-Date': b'20251206T225002Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=minioadmin/20251206/us-east-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=b6ac1d37144e1ba8e094fd4ee8980c14368f94c4b96851a95a1996657fd4a109', 'amz-sdk-invocation-id': b'a7b92ffd-d6e4-4c4f-8cb7-0ff0a02e2f46', 'amz-sdk-request': b'attempt=1'}>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function _handle_200_error at 0x762d20b5bb00>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function handle_expires_header at 0x762d20b5b920>
DEBUG    botocore.parsers:parsers.py:255 Response headers: {'Accept-Ranges': 'bytes', 'Content-Length': '1651', 'Content-Type': 'application/xml', 'Server': 'MinIO', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'Vary': 'Origin, Accept-Encoding', 'X-Amz-Id-2': 'dd9025bab4ad464b049177c95eb6ebf374d3b3fd1af9251148b658df7ac2e3e8', 'X-Amz-Request-Id': '187EC1FE7843D1C4', 'X-Content-Type-Options': 'nosniff', 'X-Ratelimit-Limit': '4101', 'X-Ratelimit-Remaining': '4101', 'X-Xss-Protection': '1; mode=block', 'Date': 'Sat, 06 Dec 2025 22:50:02 GMT'}
DEBUG    botocore.parsers:parsers.py:256 Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<ListBucketResult xmlns="http://s3.amazonaws.com/doc/2006-03-01/"><Name>document</Name><Prefix></Prefix><KeyCount>5</KeyCount><MaxKeys>1000</MaxKeys><IsTruncated>false</IsTruncated><Contents><Key>117b0b2c981e75201b42a3f484ce0597efc559bf6d13288eacc4a717fa2fc736/tmpfexropfo_ops2.txt</Key><LastModified>2025-12-06T04:26:08.867Z</LastModified><ETag>&#34;5e0d22fc93f0f5ce7afce9aa02b0bc7d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>61b46b03f15f3c81f3640916be69f1d34fdd8191644e3d689a4c50cb9bc91d23/tmp2fa0p4_o_ops3.txt</Key><LastModified>2025-12-06T04:26:14.608Z</LastModified><ETag>&#34;53cec5e28d6e94a3991483e9dea86cd5&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>c26ae29584f33f4398072bfe9a37f455a85460237adf672922c3c7d928ba99f0/tmptsq137kv_ops0.txt</Key><LastModified>2025-12-06T04:25:59.153Z</LastModified><ETag>&#34;f697ceebb544c3f9ffe7d768f83c059d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>eea2eb3d0912c348f733308b3bc702cb37ef6eb0c96ff6b0c515cd5942a553ec/tmpg0h_zyad.txt</Key><LastModified>2025-12-06T04:29:48.556Z</LastModified><ETag>&#34;a33c5f35dbf2a7336b7535430610e358&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>fae826ba4b154dd6a512b641abf32b71b0ae3050e613292dfe675d6fca935adb/tmpug44129o_ops1.txt</Key><LastModified>2025-12-06T04:26:04.132Z</LastModified><ETag>&#34;01b0c1954a19d5d40136aa728191f1d4&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><EncodingType>url</EncodingType></ListBucketResult>'
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <function _update_status_code at 0x762d20b5bc40>
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <botocore.retryhandler.RetryHandler object at 0x762d1fff3410>
DEBUG    botocore.retryhandler:retryhandler.py:211 No retry needed.
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fff3a10>>
DEBUG    botocore.hooks:hooks.py:238 Event after-call.s3.ListObjectsV2: calling handler <function decode_list_object_v2 at 0x762d20b5a8e0>
____________ TestCLIErrorHandling.test_workspace_select_nonexistent ____________

self = <e2e.cli.test_error_handling.TestCLIErrorHandling object at 0x762d3bba6520>

    def test_workspace_select_nonexistent(self):
        """Test selecting a workspace that doesn't exist."""
        result = self.run_cli("workspace", "select", "999999")
        assert result.returncode != 0
>       assert "not found" in result.stderr.lower()
E       assert 'not found' in "error: notfounderror(resource='workspace', id=999999)\n"
E        +  where "error: notfounderror(resource='workspace', id=999999)\n" = <built-in method lower of str object at 0x762d1fe540f0>()
E        +    where <built-in method lower of str object at 0x762d1fe540f0> = "Error: NotFoundError(resource='workspace', id=999999)\n".lower
E        +      where "Error: NotFoundError(resource='workspace', id=999999)\n" = CompletedProcess(args=['/home/nate/.cache/pypoetry/virtualenvs/insighthub-G9Cf3wlO-py3.13/bin/python', '-m', 'src.cli', 'workspace', 'select', '999999'], returncode=1, stdout='', stderr="Error: NotFoundError(resource='workspace', id=999999)\n").stderr

tests/e2e/cli/test_error_handling.py:52: AssertionError
------------------------------ Captured log setup ------------------------------
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x762d1fdf6670>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.complete
DEBUG    httpcore.http11:_trace.py:47 send_request_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_body.complete
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Sat, 06 Dec 2025 22:50:02 GMT')])
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.complete
DEBUG    httpcore.http11:_trace.py:47 response_closed.started
DEBUG    httpcore.http11:_trace.py:47 response_closed.complete
DEBUG    httpcore.connection:_trace.py:47 close.started
DEBUG    httpcore.connection:_trace.py:47 close.complete
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x762d1fe47750>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.complete
DEBUG    httpcore.http11:_trace.py:47 send_request_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_body.complete
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'content-type', b'application/json'), (b'date', b'Sat, 06 Dec 2025 22:50:02 GMT')])
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.complete
DEBUG    httpcore.http11:_trace.py:47 response_closed.started
DEBUG    httpcore.http11:_trace.py:47 response_closed.complete
DEBUG    httpcore.connection:_trace.py:47 close.started
DEBUG    httpcore.connection:_trace.py:47 close.complete
DEBUG    botocore.hooks:hooks.py:238 Event choose-service-name: calling handler <function handle_service_name_alias at 0x762d20b58360>
DEBUG    botocore.hooks:hooks.py:238 Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x762d20cb2de0>
DEBUG    botocore.hooks:hooks.py:238 Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x762d20be2520>
DEBUG    botocore.hooks:hooks.py:238 Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x762d20cb2b60>
DEBUG    botocore.endpoint:endpoint.py:414 Setting s3 timeout as (60, 60)
DEBUG    botocore.client:client.py:286 Registering retry handlers for service: s3
DEBUG    botocore.utils:utils.py:1747 Registering S3 region redirector handler
DEBUG    botocore.utils:utils.py:1695 Registering S3Express Identity Resolver
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function set_list_objects_encoding_type_url at 0x762d20b5a7a0>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function validate_bucket_name at 0x762d20b59300>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function remove_bucket_from_url_paths_from_model at 0x762d20b5b600>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fe56690>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method ClientCreator._inject_s3_input_parameters of <botocore.client.ClientCreator object at 0x762d1fe681b0>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function generate_idempotent_uuid at 0x762d20b59120>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function _handle_request_validation_mode_member at 0x762d20b5bce0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x762d20b5b7e0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fe56690>>
DEBUG    botocore.regions:regions.py:506 Calling endpoint provider with parameters: {'Bucket': 'document', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'Endpoint': 'http://localhost:9000', 'ForcePathStyle': True, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
DEBUG    botocore.regions:regions.py:521 Endpoint provider result: http://localhost:9000/document
DEBUG    botocore.regions:regions.py:691 Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
DEBUG    botocore.regions:regions.py:766 Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_expect_header at 0x762d20b596c0>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.apply_signing_cache_key of <botocore.utils.S3ExpressIdentityResolver object at 0x762d1fe55010>>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_recursion_detection_header at 0x762d20b58c20>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function inject_api_version_header_if_needed at 0x762d20b5ac00>
DEBUG    botocore.endpoint:endpoint.py:114 Making request for OperationModel(name=ListObjectsV2) with params: {'url_path': '?list-type=2', 'query_string': {'encoding-type': 'url'}, 'method': 'GET', 'headers': {'User-Agent': 'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1'}, 'body': b'', 'auth_path': '/document/', 'url': 'http://localhost:9000/document?list-type=2&encoding-type=url', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x762d3af06d50>, 'has_streaming_input': False, 'auth_type': 'v4', 'unsigned_payload': None, 'auth_options': ['aws.auth#sigv4'], 'encoding_type_auto_set': True, 's3_redirect': {'redirected': False, 'bucket': 'document', 'params': {'Bucket': 'document', 'EncodingType': 'url'}}, 'input_params': {'Bucket': 'document'}, 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 'endpoint_properties': {'authSchemes': [{'disableDoubleEncoding': True, 'name': 'sigv4', 'signingName': 's3', 'signingRegion': 'us-east-1'}]}}}
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x762d1ff9afd0>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x762d1fe681b0>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <function set_operation_specific_signer at 0x762d20b58ea0>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function remove_arn_from_signing_path at 0x762d20b5b740>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function _set_extra_headers_for_unsigned_request at 0x762d20b5bd80>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.resolve_s3express_identity of <botocore.utils.S3ExpressIdentityResolver object at 0x762d1fe55010>>
DEBUG    botocore.auth:auth.py:429 Calculating signature using v4 auth.
DEBUG    botocore.auth:auth.py:430 CanonicalRequest:
GET
/document
encoding-type=url&list-type=2
host:localhost:9000
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20251206T225002Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
DEBUG    botocore.auth:auth.py:432 StringToSign:
AWS4-HMAC-SHA256
20251206T225002Z
20251206/us-east-1/s3/aws4_request
4a0fed8ae1a9f873d9d0373c88bf4518dd489bd79fdaf4e9887193871c686c6a
DEBUG    botocore.auth:auth.py:434 Signature:
b6ac1d37144e1ba8e094fd4ee8980c14368f94c4b96851a95a1996657fd4a109
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method UserAgentString.rebuild_and_replace_user_agent_handler of <botocore.useragent.UserAgentString object at 0x762d1fe6b540>>
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <function add_retry_headers at 0x762d20b5b560>
DEBUG    botocore.endpoint:endpoint.py:263 Sending http request: <AWSPreparedRequest stream_output=False, method=GET, url=http://localhost:9000/document?list-type=2&encoding-type=url, headers={'User-Agent': b'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1', 'X-Amz-Date': b'20251206T225002Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=minioadmin/20251206/us-east-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=b6ac1d37144e1ba8e094fd4ee8980c14368f94c4b96851a95a1996657fd4a109', 'amz-sdk-invocation-id': b'd691edf7-0449-4d02-a660-ceaff99817ee', 'amz-sdk-request': b'attempt=1'}>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function _handle_200_error at 0x762d20b5bb00>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function handle_expires_header at 0x762d20b5b920>
DEBUG    botocore.parsers:parsers.py:255 Response headers: {'Accept-Ranges': 'bytes', 'Content-Length': '1651', 'Content-Type': 'application/xml', 'Server': 'MinIO', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'Vary': 'Origin, Accept-Encoding', 'X-Amz-Id-2': 'dd9025bab4ad464b049177c95eb6ebf374d3b3fd1af9251148b658df7ac2e3e8', 'X-Amz-Request-Id': '187EC1FE7D0356C9', 'X-Content-Type-Options': 'nosniff', 'X-Ratelimit-Limit': '4101', 'X-Ratelimit-Remaining': '4101', 'X-Xss-Protection': '1; mode=block', 'Date': 'Sat, 06 Dec 2025 22:50:02 GMT'}
DEBUG    botocore.parsers:parsers.py:256 Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<ListBucketResult xmlns="http://s3.amazonaws.com/doc/2006-03-01/"><Name>document</Name><Prefix></Prefix><KeyCount>5</KeyCount><MaxKeys>1000</MaxKeys><IsTruncated>false</IsTruncated><Contents><Key>117b0b2c981e75201b42a3f484ce0597efc559bf6d13288eacc4a717fa2fc736/tmpfexropfo_ops2.txt</Key><LastModified>2025-12-06T04:26:08.867Z</LastModified><ETag>&#34;5e0d22fc93f0f5ce7afce9aa02b0bc7d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>61b46b03f15f3c81f3640916be69f1d34fdd8191644e3d689a4c50cb9bc91d23/tmp2fa0p4_o_ops3.txt</Key><LastModified>2025-12-06T04:26:14.608Z</LastModified><ETag>&#34;53cec5e28d6e94a3991483e9dea86cd5&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>c26ae29584f33f4398072bfe9a37f455a85460237adf672922c3c7d928ba99f0/tmptsq137kv_ops0.txt</Key><LastModified>2025-12-06T04:25:59.153Z</LastModified><ETag>&#34;f697ceebb544c3f9ffe7d768f83c059d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>eea2eb3d0912c348f733308b3bc702cb37ef6eb0c96ff6b0c515cd5942a553ec/tmpg0h_zyad.txt</Key><LastModified>2025-12-06T04:29:48.556Z</LastModified><ETag>&#34;a33c5f35dbf2a7336b7535430610e358&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>fae826ba4b154dd6a512b641abf32b71b0ae3050e613292dfe675d6fca935adb/tmpug44129o_ops1.txt</Key><LastModified>2025-12-06T04:26:04.132Z</LastModified><ETag>&#34;01b0c1954a19d5d40136aa728191f1d4&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><EncodingType>url</EncodingType></ListBucketResult>'
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <function _update_status_code at 0x762d20b5bc40>
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <botocore.retryhandler.RetryHandler object at 0x762d1fe54590>
DEBUG    botocore.retryhandler:retryhandler.py:211 No retry needed.
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fe56690>>
DEBUG    botocore.hooks:hooks.py:238 Event after-call.s3.ListObjectsV2: calling handler <function decode_list_object_v2 at 0x762d20b5a8e0>
---------------------------- Captured log teardown -----------------------------
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x762d1fe14c30>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.complete
DEBUG    httpcore.http11:_trace.py:47 send_request_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_body.complete
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'content-encoding', b'gzip'), (b'date', b'Sat, 06 Dec 2025 22:50:13 GMT')])
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.complete
DEBUG    httpcore.http11:_trace.py:47 response_closed.started
DEBUG    httpcore.http11:_trace.py:47 response_closed.complete
DEBUG    httpcore.connection:_trace.py:47 close.started
DEBUG    httpcore.connection:_trace.py:47 close.complete
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function set_list_objects_encoding_type_url at 0x762d20b5a7a0>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function validate_bucket_name at 0x762d20b59300>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function remove_bucket_from_url_paths_from_model at 0x762d20b5b600>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fe56690>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method ClientCreator._inject_s3_input_parameters of <botocore.client.ClientCreator object at 0x762d1fe681b0>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function generate_idempotent_uuid at 0x762d20b59120>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function _handle_request_validation_mode_member at 0x762d20b5bce0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x762d20b5b7e0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fe56690>>
DEBUG    botocore.regions:regions.py:506 Calling endpoint provider with parameters: {'Bucket': 'document', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'Endpoint': 'http://localhost:9000', 'ForcePathStyle': True, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
DEBUG    botocore.regions:regions.py:521 Endpoint provider result: http://localhost:9000/document
DEBUG    botocore.regions:regions.py:691 Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
DEBUG    botocore.regions:regions.py:766 Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_expect_header at 0x762d20b596c0>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.apply_signing_cache_key of <botocore.utils.S3ExpressIdentityResolver object at 0x762d1fe55010>>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_recursion_detection_header at 0x762d20b58c20>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function inject_api_version_header_if_needed at 0x762d20b5ac00>
DEBUG    botocore.endpoint:endpoint.py:114 Making request for OperationModel(name=ListObjectsV2) with params: {'url_path': '?list-type=2', 'query_string': {'encoding-type': 'url'}, 'method': 'GET', 'headers': {'User-Agent': 'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1'}, 'body': b'', 'auth_path': '/document/', 'url': 'http://localhost:9000/document?list-type=2&encoding-type=url', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x762d3af06d50>, 'has_streaming_input': False, 'auth_type': 'v4', 'unsigned_payload': None, 'auth_options': ['aws.auth#sigv4'], 'encoding_type_auto_set': True, 's3_redirect': {'redirected': False, 'bucket': 'document', 'params': {'Bucket': 'document', 'EncodingType': 'url'}}, 'input_params': {'Bucket': 'document'}, 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 'endpoint_properties': {'authSchemes': [{'disableDoubleEncoding': True, 'name': 'sigv4', 'signingName': 's3', 'signingRegion': 'us-east-1'}]}}}
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x762d1ff9afd0>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x762d1fe681b0>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <function set_operation_specific_signer at 0x762d20b58ea0>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function remove_arn_from_signing_path at 0x762d20b5b740>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function _set_extra_headers_for_unsigned_request at 0x762d20b5bd80>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.resolve_s3express_identity of <botocore.utils.S3ExpressIdentityResolver object at 0x762d1fe55010>>
DEBUG    botocore.auth:auth.py:429 Calculating signature using v4 auth.
DEBUG    botocore.auth:auth.py:430 CanonicalRequest:
GET
/document
encoding-type=url&list-type=2
host:localhost:9000
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20251206T225013Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
DEBUG    botocore.auth:auth.py:432 StringToSign:
AWS4-HMAC-SHA256
20251206T225013Z
20251206/us-east-1/s3/aws4_request
b7895fe8d4590c654142d44e9f403b765f23faeacd3ed2e4a6a2478751efb68d
DEBUG    botocore.auth:auth.py:434 Signature:
a115d94c2ddca91a01aff162ca693857d71b116621fc8fc7ec6a3040f10bb85e
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method UserAgentString.rebuild_and_replace_user_agent_handler of <botocore.useragent.UserAgentString object at 0x762d1fe6b540>>
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <function add_retry_headers at 0x762d20b5b560>
DEBUG    botocore.endpoint:endpoint.py:263 Sending http request: <AWSPreparedRequest stream_output=False, method=GET, url=http://localhost:9000/document?list-type=2&encoding-type=url, headers={'User-Agent': b'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1', 'X-Amz-Date': b'20251206T225013Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=minioadmin/20251206/us-east-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=a115d94c2ddca91a01aff162ca693857d71b116621fc8fc7ec6a3040f10bb85e', 'amz-sdk-invocation-id': b'4b59aa95-3a57-4b7f-91eb-c3250bcb10b9', 'amz-sdk-request': b'attempt=1'}>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function _handle_200_error at 0x762d20b5bb00>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function handle_expires_header at 0x762d20b5b920>
DEBUG    botocore.parsers:parsers.py:255 Response headers: {'Accept-Ranges': 'bytes', 'Content-Length': '1651', 'Content-Type': 'application/xml', 'Server': 'MinIO', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'Vary': 'Origin, Accept-Encoding', 'X-Amz-Id-2': 'dd9025bab4ad464b049177c95eb6ebf374d3b3fd1af9251148b658df7ac2e3e8', 'X-Amz-Request-Id': '187EC2010A554451', 'X-Content-Type-Options': 'nosniff', 'X-Ratelimit-Limit': '4101', 'X-Ratelimit-Remaining': '4101', 'X-Xss-Protection': '1; mode=block', 'Date': 'Sat, 06 Dec 2025 22:50:13 GMT'}
DEBUG    botocore.parsers:parsers.py:256 Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<ListBucketResult xmlns="http://s3.amazonaws.com/doc/2006-03-01/"><Name>document</Name><Prefix></Prefix><KeyCount>5</KeyCount><MaxKeys>1000</MaxKeys><IsTruncated>false</IsTruncated><Contents><Key>117b0b2c981e75201b42a3f484ce0597efc559bf6d13288eacc4a717fa2fc736/tmpfexropfo_ops2.txt</Key><LastModified>2025-12-06T04:26:08.867Z</LastModified><ETag>&#34;5e0d22fc93f0f5ce7afce9aa02b0bc7d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>61b46b03f15f3c81f3640916be69f1d34fdd8191644e3d689a4c50cb9bc91d23/tmp2fa0p4_o_ops3.txt</Key><LastModified>2025-12-06T04:26:14.608Z</LastModified><ETag>&#34;53cec5e28d6e94a3991483e9dea86cd5&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>c26ae29584f33f4398072bfe9a37f455a85460237adf672922c3c7d928ba99f0/tmptsq137kv_ops0.txt</Key><LastModified>2025-12-06T04:25:59.153Z</LastModified><ETag>&#34;f697ceebb544c3f9ffe7d768f83c059d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>eea2eb3d0912c348f733308b3bc702cb37ef6eb0c96ff6b0c515cd5942a553ec/tmpg0h_zyad.txt</Key><LastModified>2025-12-06T04:29:48.556Z</LastModified><ETag>&#34;a33c5f35dbf2a7336b7535430610e358&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>fae826ba4b154dd6a512b641abf32b71b0ae3050e613292dfe675d6fca935adb/tmpug44129o_ops1.txt</Key><LastModified>2025-12-06T04:26:04.132Z</LastModified><ETag>&#34;01b0c1954a19d5d40136aa728191f1d4&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><EncodingType>url</EncodingType></ListBucketResult>'
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <function _update_status_code at 0x762d20b5bc40>
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <botocore.retryhandler.RetryHandler object at 0x762d1fe54590>
DEBUG    botocore.retryhandler:retryhandler.py:211 No retry needed.
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fe56690>>
DEBUG    botocore.hooks:hooks.py:238 Event after-call.s3.ListObjectsV2: calling handler <function decode_list_object_v2 at 0x762d20b5a8e0>
____________ TestCLIErrorHandling.test_workspace_delete_nonexistent ____________

self = <e2e.cli.test_error_handling.TestCLIErrorHandling object at 0x762d3bb95910>

    def test_workspace_delete_nonexistent(self):
        """Test deleting a workspace that doesn't exist."""
        result = subprocess.run(
            [sys.executable, "-m", "src.cli", "workspace", "delete", "999999"],
            input="yes\n",
            capture_output=True,
            text=True,
        )
        assert result.returncode != 0
>       assert "not found" in result.stderr.lower()
E       assert 'not found' in "error: notfounderror(resource='workspace', id=999999)\n"
E        +  where "error: notfounderror(resource='workspace', id=999999)\n" = <built-in method lower of str object at 0x762d2000c2d0>()
E        +    where <built-in method lower of str object at 0x762d2000c2d0> = "Error: NotFoundError(resource='workspace', id=999999)\n".lower
E        +      where "Error: NotFoundError(resource='workspace', id=999999)\n" = CompletedProcess(args=['/home/nate/.cache/pypoetry/virtualenvs/insighthub-G9Cf3wlO-py3.13/bin/python', '-m', 'src.cli', 'workspace', 'delete', '999999'], returncode=1, stdout='', stderr="Error: NotFoundError(resource='workspace', id=999999)\n").stderr

tests/e2e/cli/test_error_handling.py:63: AssertionError
------------------------------ Captured log setup ------------------------------
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x762d200184b0>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.complete
DEBUG    httpcore.http11:_trace.py:47 send_request_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_body.complete
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Sat, 06 Dec 2025 22:50:13 GMT')])
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.complete
DEBUG    httpcore.http11:_trace.py:47 response_closed.started
DEBUG    httpcore.http11:_trace.py:47 response_closed.complete
DEBUG    httpcore.connection:_trace.py:47 close.started
DEBUG    httpcore.connection:_trace.py:47 close.complete
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x762d3bb39680>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.complete
DEBUG    httpcore.http11:_trace.py:47 send_request_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_body.complete
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Sat, 06 Dec 2025 22:50:13 GMT')])
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.complete
DEBUG    httpcore.http11:_trace.py:47 response_closed.started
DEBUG    httpcore.http11:_trace.py:47 response_closed.complete
DEBUG    httpcore.connection:_trace.py:47 close.started
DEBUG    httpcore.connection:_trace.py:47 close.complete
DEBUG    botocore.hooks:hooks.py:238 Event choose-service-name: calling handler <function handle_service_name_alias at 0x762d20b58360>
DEBUG    botocore.hooks:hooks.py:238 Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x762d20cb2de0>
DEBUG    botocore.hooks:hooks.py:238 Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x762d20be2520>
DEBUG    botocore.hooks:hooks.py:238 Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x762d20cb2b60>
DEBUG    botocore.endpoint:endpoint.py:414 Setting s3 timeout as (60, 60)
DEBUG    botocore.client:client.py:286 Registering retry handlers for service: s3
DEBUG    botocore.utils:utils.py:1747 Registering S3 region redirector handler
DEBUG    botocore.utils:utils.py:1695 Registering S3Express Identity Resolver
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function set_list_objects_encoding_type_url at 0x762d20b5a7a0>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function validate_bucket_name at 0x762d20b59300>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function remove_bucket_from_url_paths_from_model at 0x762d20b5b600>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x762d2000f6b0>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method ClientCreator._inject_s3_input_parameters of <botocore.client.ClientCreator object at 0x762d1fdef8b0>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function generate_idempotent_uuid at 0x762d20b59120>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function _handle_request_validation_mode_member at 0x762d20b5bce0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x762d20b5b7e0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x762d2000f6b0>>
DEBUG    botocore.regions:regions.py:506 Calling endpoint provider with parameters: {'Bucket': 'document', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'Endpoint': 'http://localhost:9000', 'ForcePathStyle': True, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
DEBUG    botocore.regions:regions.py:521 Endpoint provider result: http://localhost:9000/document
DEBUG    botocore.regions:regions.py:691 Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
DEBUG    botocore.regions:regions.py:766 Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_expect_header at 0x762d20b596c0>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.apply_signing_cache_key of <botocore.utils.S3ExpressIdentityResolver object at 0x762d2000f230>>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_recursion_detection_header at 0x762d20b58c20>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function inject_api_version_header_if_needed at 0x762d20b5ac00>
DEBUG    botocore.endpoint:endpoint.py:114 Making request for OperationModel(name=ListObjectsV2) with params: {'url_path': '?list-type=2', 'query_string': {'encoding-type': 'url'}, 'method': 'GET', 'headers': {'User-Agent': 'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1'}, 'body': b'', 'auth_path': '/document/', 'url': 'http://localhost:9000/document?list-type=2&encoding-type=url', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x762d20b77250>, 'has_streaming_input': False, 'auth_type': 'v4', 'unsigned_payload': None, 'auth_options': ['aws.auth#sigv4'], 'encoding_type_auto_set': True, 's3_redirect': {'redirected': False, 'bucket': 'document', 'params': {'Bucket': 'document', 'EncodingType': 'url'}}, 'input_params': {'Bucket': 'document'}, 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 'endpoint_properties': {'authSchemes': [{'disableDoubleEncoding': True, 'name': 'sigv4', 'signingName': 's3', 'signingRegion': 'us-east-1'}]}}}
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x762d1fe9d550>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x762d1fdef8b0>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <function set_operation_specific_signer at 0x762d20b58ea0>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function remove_arn_from_signing_path at 0x762d20b5b740>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function _set_extra_headers_for_unsigned_request at 0x762d20b5bd80>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.resolve_s3express_identity of <botocore.utils.S3ExpressIdentityResolver object at 0x762d2000f230>>
DEBUG    botocore.auth:auth.py:429 Calculating signature using v4 auth.
DEBUG    botocore.auth:auth.py:430 CanonicalRequest:
GET
/document
encoding-type=url&list-type=2
host:localhost:9000
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20251206T225013Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
DEBUG    botocore.auth:auth.py:432 StringToSign:
AWS4-HMAC-SHA256
20251206T225013Z
20251206/us-east-1/s3/aws4_request
b7895fe8d4590c654142d44e9f403b765f23faeacd3ed2e4a6a2478751efb68d
DEBUG    botocore.auth:auth.py:434 Signature:
a115d94c2ddca91a01aff162ca693857d71b116621fc8fc7ec6a3040f10bb85e
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method UserAgentString.rebuild_and_replace_user_agent_handler of <botocore.useragent.UserAgentString object at 0x762d1fdee990>>
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <function add_retry_headers at 0x762d20b5b560>
DEBUG    botocore.endpoint:endpoint.py:263 Sending http request: <AWSPreparedRequest stream_output=False, method=GET, url=http://localhost:9000/document?list-type=2&encoding-type=url, headers={'User-Agent': b'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1', 'X-Amz-Date': b'20251206T225013Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=minioadmin/20251206/us-east-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=a115d94c2ddca91a01aff162ca693857d71b116621fc8fc7ec6a3040f10bb85e', 'amz-sdk-invocation-id': b'd72d3a59-5eed-4ab7-88a5-417c8e274699', 'amz-sdk-request': b'attempt=1'}>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function _handle_200_error at 0x762d20b5bb00>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function handle_expires_header at 0x762d20b5b920>
DEBUG    botocore.parsers:parsers.py:255 Response headers: {'Accept-Ranges': 'bytes', 'Content-Length': '1651', 'Content-Type': 'application/xml', 'Server': 'MinIO', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'Vary': 'Origin, Accept-Encoding', 'X-Amz-Id-2': 'dd9025bab4ad464b049177c95eb6ebf374d3b3fd1af9251148b658df7ac2e3e8', 'X-Amz-Request-Id': '187EC20110970B60', 'X-Content-Type-Options': 'nosniff', 'X-Ratelimit-Limit': '4101', 'X-Ratelimit-Remaining': '4101', 'X-Xss-Protection': '1; mode=block', 'Date': 'Sat, 06 Dec 2025 22:50:13 GMT'}
DEBUG    botocore.parsers:parsers.py:256 Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<ListBucketResult xmlns="http://s3.amazonaws.com/doc/2006-03-01/"><Name>document</Name><Prefix></Prefix><KeyCount>5</KeyCount><MaxKeys>1000</MaxKeys><IsTruncated>false</IsTruncated><Contents><Key>117b0b2c981e75201b42a3f484ce0597efc559bf6d13288eacc4a717fa2fc736/tmpfexropfo_ops2.txt</Key><LastModified>2025-12-06T04:26:08.867Z</LastModified><ETag>&#34;5e0d22fc93f0f5ce7afce9aa02b0bc7d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>61b46b03f15f3c81f3640916be69f1d34fdd8191644e3d689a4c50cb9bc91d23/tmp2fa0p4_o_ops3.txt</Key><LastModified>2025-12-06T04:26:14.608Z</LastModified><ETag>&#34;53cec5e28d6e94a3991483e9dea86cd5&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>c26ae29584f33f4398072bfe9a37f455a85460237adf672922c3c7d928ba99f0/tmptsq137kv_ops0.txt</Key><LastModified>2025-12-06T04:25:59.153Z</LastModified><ETag>&#34;f697ceebb544c3f9ffe7d768f83c059d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>eea2eb3d0912c348f733308b3bc702cb37ef6eb0c96ff6b0c515cd5942a553ec/tmpg0h_zyad.txt</Key><LastModified>2025-12-06T04:29:48.556Z</LastModified><ETag>&#34;a33c5f35dbf2a7336b7535430610e358&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>fae826ba4b154dd6a512b641abf32b71b0ae3050e613292dfe675d6fca935adb/tmpug44129o_ops1.txt</Key><LastModified>2025-12-06T04:26:04.132Z</LastModified><ETag>&#34;01b0c1954a19d5d40136aa728191f1d4&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><EncodingType>url</EncodingType></ListBucketResult>'
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <function _update_status_code at 0x762d20b5bc40>
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <botocore.retryhandler.RetryHandler object at 0x762d2000ca10>
DEBUG    botocore.retryhandler:retryhandler.py:211 No retry needed.
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x762d2000f6b0>>
DEBUG    botocore.hooks:hooks.py:238 Event after-call.s3.ListObjectsV2: calling handler <function decode_list_object_v2 at 0x762d20b5a8e0>
---------------------------- Captured log teardown -----------------------------
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x762d1fdf4910>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.complete
DEBUG    httpcore.http11:_trace.py:47 send_request_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_body.complete
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Sat, 06 Dec 2025 22:50:24 GMT')])
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.complete
DEBUG    httpcore.http11:_trace.py:47 response_closed.started
DEBUG    httpcore.http11:_trace.py:47 response_closed.complete
DEBUG    httpcore.connection:_trace.py:47 close.started
DEBUG    httpcore.connection:_trace.py:47 close.complete
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function set_list_objects_encoding_type_url at 0x762d20b5a7a0>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function validate_bucket_name at 0x762d20b59300>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function remove_bucket_from_url_paths_from_model at 0x762d20b5b600>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x762d2000f6b0>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method ClientCreator._inject_s3_input_parameters of <botocore.client.ClientCreator object at 0x762d1fdef8b0>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function generate_idempotent_uuid at 0x762d20b59120>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function _handle_request_validation_mode_member at 0x762d20b5bce0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x762d20b5b7e0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x762d2000f6b0>>
DEBUG    botocore.regions:regions.py:506 Calling endpoint provider with parameters: {'Bucket': 'document', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'Endpoint': 'http://localhost:9000', 'ForcePathStyle': True, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
DEBUG    botocore.regions:regions.py:521 Endpoint provider result: http://localhost:9000/document
DEBUG    botocore.regions:regions.py:691 Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
DEBUG    botocore.regions:regions.py:766 Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_expect_header at 0x762d20b596c0>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.apply_signing_cache_key of <botocore.utils.S3ExpressIdentityResolver object at 0x762d2000f230>>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_recursion_detection_header at 0x762d20b58c20>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function inject_api_version_header_if_needed at 0x762d20b5ac00>
DEBUG    botocore.endpoint:endpoint.py:114 Making request for OperationModel(name=ListObjectsV2) with params: {'url_path': '?list-type=2', 'query_string': {'encoding-type': 'url'}, 'method': 'GET', 'headers': {'User-Agent': 'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1'}, 'body': b'', 'auth_path': '/document/', 'url': 'http://localhost:9000/document?list-type=2&encoding-type=url', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x762d20b77250>, 'has_streaming_input': False, 'auth_type': 'v4', 'unsigned_payload': None, 'auth_options': ['aws.auth#sigv4'], 'encoding_type_auto_set': True, 's3_redirect': {'redirected': False, 'bucket': 'document', 'params': {'Bucket': 'document', 'EncodingType': 'url'}}, 'input_params': {'Bucket': 'document'}, 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 'endpoint_properties': {'authSchemes': [{'disableDoubleEncoding': True, 'name': 'sigv4', 'signingName': 's3', 'signingRegion': 'us-east-1'}]}}}
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x762d1fe9d550>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x762d1fdef8b0>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <function set_operation_specific_signer at 0x762d20b58ea0>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function remove_arn_from_signing_path at 0x762d20b5b740>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function _set_extra_headers_for_unsigned_request at 0x762d20b5bd80>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.resolve_s3express_identity of <botocore.utils.S3ExpressIdentityResolver object at 0x762d2000f230>>
DEBUG    botocore.auth:auth.py:429 Calculating signature using v4 auth.
DEBUG    botocore.auth:auth.py:430 CanonicalRequest:
GET
/document
encoding-type=url&list-type=2
host:localhost:9000
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20251206T225024Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
DEBUG    botocore.auth:auth.py:432 StringToSign:
AWS4-HMAC-SHA256
20251206T225024Z
20251206/us-east-1/s3/aws4_request
9b1ee4d16279b9c7daf3cdeaf1744cd2d17c2f6a69f68c2b141a18f37a9558c6
DEBUG    botocore.auth:auth.py:434 Signature:
8e1a936d7b0abcd342234278e83235121326f56ccf0bd86692eca20f5875feff
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method UserAgentString.rebuild_and_replace_user_agent_handler of <botocore.useragent.UserAgentString object at 0x762d1fdee990>>
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <function add_retry_headers at 0x762d20b5b560>
DEBUG    botocore.endpoint:endpoint.py:263 Sending http request: <AWSPreparedRequest stream_output=False, method=GET, url=http://localhost:9000/document?list-type=2&encoding-type=url, headers={'User-Agent': b'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1', 'X-Amz-Date': b'20251206T225024Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=minioadmin/20251206/us-east-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=8e1a936d7b0abcd342234278e83235121326f56ccf0bd86692eca20f5875feff', 'amz-sdk-invocation-id': b'3c5741ba-bd94-4623-95ce-eb48640386af', 'amz-sdk-request': b'attempt=1'}>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function _handle_200_error at 0x762d20b5bb00>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function handle_expires_header at 0x762d20b5b920>
DEBUG    botocore.parsers:parsers.py:255 Response headers: {'Accept-Ranges': 'bytes', 'Content-Length': '1651', 'Content-Type': 'application/xml', 'Server': 'MinIO', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'Vary': 'Origin, Accept-Encoding', 'X-Amz-Id-2': 'dd9025bab4ad464b049177c95eb6ebf374d3b3fd1af9251148b658df7ac2e3e8', 'X-Amz-Request-Id': '187EC203AA7FE710', 'X-Content-Type-Options': 'nosniff', 'X-Ratelimit-Limit': '4101', 'X-Ratelimit-Remaining': '4101', 'X-Xss-Protection': '1; mode=block', 'Date': 'Sat, 06 Dec 2025 22:50:24 GMT'}
DEBUG    botocore.parsers:parsers.py:256 Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<ListBucketResult xmlns="http://s3.amazonaws.com/doc/2006-03-01/"><Name>document</Name><Prefix></Prefix><KeyCount>5</KeyCount><MaxKeys>1000</MaxKeys><IsTruncated>false</IsTruncated><Contents><Key>117b0b2c981e75201b42a3f484ce0597efc559bf6d13288eacc4a717fa2fc736/tmpfexropfo_ops2.txt</Key><LastModified>2025-12-06T04:26:08.867Z</LastModified><ETag>&#34;5e0d22fc93f0f5ce7afce9aa02b0bc7d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>61b46b03f15f3c81f3640916be69f1d34fdd8191644e3d689a4c50cb9bc91d23/tmp2fa0p4_o_ops3.txt</Key><LastModified>2025-12-06T04:26:14.608Z</LastModified><ETag>&#34;53cec5e28d6e94a3991483e9dea86cd5&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>c26ae29584f33f4398072bfe9a37f455a85460237adf672922c3c7d928ba99f0/tmptsq137kv_ops0.txt</Key><LastModified>2025-12-06T04:25:59.153Z</LastModified><ETag>&#34;f697ceebb544c3f9ffe7d768f83c059d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>eea2eb3d0912c348f733308b3bc702cb37ef6eb0c96ff6b0c515cd5942a553ec/tmpg0h_zyad.txt</Key><LastModified>2025-12-06T04:29:48.556Z</LastModified><ETag>&#34;a33c5f35dbf2a7336b7535430610e358&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>fae826ba4b154dd6a512b641abf32b71b0ae3050e613292dfe675d6fca935adb/tmpug44129o_ops1.txt</Key><LastModified>2025-12-06T04:26:04.132Z</LastModified><ETag>&#34;01b0c1954a19d5d40136aa728191f1d4&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><EncodingType>url</EncodingType></ListBucketResult>'
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <function _update_status_code at 0x762d20b5bc40>
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <botocore.retryhandler.RetryHandler object at 0x762d2000ca10>
DEBUG    botocore.retryhandler:retryhandler.py:211 No retry needed.
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x762d2000f6b0>>
DEBUG    botocore.hooks:hooks.py:238 Event after-call.s3.ListObjectsV2: calling handler <function decode_list_object_v2 at 0x762d20b5a8e0>
__ TestRAGConfigCombinations.test_vector_character_chunking_ollama_embedding ___

self = <e2e.cli.test_rag_combinations.TestRAGConfigCombinations object at 0x762d3bb3ec10>

    def test_vector_character_chunking_ollama_embedding(self):
        """Test vector RAG with character chunking and ollama embedding."""
        result = subprocess.run(
            [sys.executable, "-m", "src.cli", "default-rag-config", "new"],
            input="vector\ncharacter\n800\n150\nollama\n3\nnone\n",
            capture_output=True,
            text=True,
        )
>       assert result.returncode == 0
E       assert 1 == 0
E        +  where 1 = CompletedProcess(args=['/home/nate/.cache/pypoetry/virtualenvs/insighthub-G9Cf3wlO-py3.13/bin/python', '-m', 'src.cli', 'default-rag-config', 'new'], returncode=1, stdout='\nAvailable RAG types:\n  - vector: Traditional vector similarity search with embeddings\n  - graph: Knowledge graph-based retrieval with entity relationships\n\nRAG type [vector]: \nAvailable chunking algorithms:\n  - sentence: Split by sentence boundaries\n  - character: Fixed character size chunks\n  - semantic: Semantically coherent chunks\n\nAvailable embedding algorithms:\n  - nomic-embed-text: Nomic AI embedding model (274M params)\n  - all-MiniLM-L6-v2: Sentence-BERT embedding model\n  - mxbai-embed-large: Large multilingual embedding model\n\nAvailable reranking algorithms:\n  - none: Return results as-is from vector search\n  - cross-encoder: Rerank using cross-encoder model for better relevance\n  - bm25: Rerank using BM25 algorithm for keyword-based relevance\n  - rrf: Combine multiple rankings using RRF algorithm\n\nChunking algorithm [sentence]: Chunk size [1000]: Chunk overlap [200]: Embedding algorithm [nomic-embed-text]: Top K [5]: Rerank algorithm [none]: ', stderr="Error: Invalid embedding algorithm 'ollama'\n").returncode

tests/e2e/cli/test_rag_combinations.py:51: AssertionError
------------------------------ Captured log setup ------------------------------
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x762d2105e170>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.complete
DEBUG    httpcore.http11:_trace.py:47 send_request_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_body.complete
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Sat, 06 Dec 2025 22:59:33 GMT')])
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.complete
DEBUG    httpcore.http11:_trace.py:47 response_closed.started
DEBUG    httpcore.http11:_trace.py:47 response_closed.complete
DEBUG    httpcore.connection:_trace.py:47 close.started
DEBUG    httpcore.connection:_trace.py:47 close.complete
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x762d1ff61770>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.complete
DEBUG    httpcore.http11:_trace.py:47 send_request_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_body.complete
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'content-type', b'application/json'), (b'date', b'Sat, 06 Dec 2025 22:59:33 GMT')])
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.complete
DEBUG    httpcore.http11:_trace.py:47 response_closed.started
DEBUG    httpcore.http11:_trace.py:47 response_closed.complete
DEBUG    httpcore.connection:_trace.py:47 close.started
DEBUG    httpcore.connection:_trace.py:47 close.complete
DEBUG    botocore.hooks:hooks.py:238 Event choose-service-name: calling handler <function handle_service_name_alias at 0x762d20b58360>
DEBUG    botocore.hooks:hooks.py:238 Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x762d20cb2de0>
DEBUG    botocore.hooks:hooks.py:238 Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x762d20be2520>
DEBUG    botocore.hooks:hooks.py:238 Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x762d20cb2b60>
DEBUG    botocore.endpoint:endpoint.py:414 Setting s3 timeout as (60, 60)
DEBUG    botocore.client:client.py:286 Registering retry handlers for service: s3
DEBUG    botocore.utils:utils.py:1747 Registering S3 region redirector handler
DEBUG    botocore.utils:utils.py:1695 Registering S3Express Identity Resolver
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function set_list_objects_encoding_type_url at 0x762d20b5a7a0>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function validate_bucket_name at 0x762d20b59300>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function remove_bucket_from_url_paths_from_model at 0x762d20b5b600>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fec7f50>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method ClientCreator._inject_s3_input_parameters of <botocore.client.ClientCreator object at 0x762d1fe6aba0>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function generate_idempotent_uuid at 0x762d20b59120>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function _handle_request_validation_mode_member at 0x762d20b5bce0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x762d20b5b7e0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fec7f50>>
DEBUG    botocore.regions:regions.py:506 Calling endpoint provider with parameters: {'Bucket': 'document', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'Endpoint': 'http://localhost:9000', 'ForcePathStyle': True, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
DEBUG    botocore.regions:regions.py:521 Endpoint provider result: http://localhost:9000/document
DEBUG    botocore.regions:regions.py:691 Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
DEBUG    botocore.regions:regions.py:766 Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_expect_header at 0x762d20b596c0>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.apply_signing_cache_key of <botocore.utils.S3ExpressIdentityResolver object at 0x762d1fec76b0>>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_recursion_detection_header at 0x762d20b58c20>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function inject_api_version_header_if_needed at 0x762d20b5ac00>
DEBUG    botocore.endpoint:endpoint.py:114 Making request for OperationModel(name=ListObjectsV2) with params: {'url_path': '?list-type=2', 'query_string': {'encoding-type': 'url'}, 'method': 'GET', 'headers': {'User-Agent': 'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1'}, 'body': b'', 'auth_path': '/document/', 'url': 'http://localhost:9000/document?list-type=2&encoding-type=url', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x762d3af06d50>, 'has_streaming_input': False, 'auth_type': 'v4', 'unsigned_payload': None, 'auth_options': ['aws.auth#sigv4'], 'encoding_type_auto_set': True, 's3_redirect': {'redirected': False, 'bucket': 'document', 'params': {'Bucket': 'document', 'EncodingType': 'url'}}, 'input_params': {'Bucket': 'document'}, 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 'endpoint_properties': {'authSchemes': [{'disableDoubleEncoding': True, 'name': 'sigv4', 'signingName': 's3', 'signingRegion': 'us-east-1'}]}}}
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x762d2007f0d0>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x762d1fe6aba0>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <function set_operation_specific_signer at 0x762d20b58ea0>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function remove_arn_from_signing_path at 0x762d20b5b740>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function _set_extra_headers_for_unsigned_request at 0x762d20b5bd80>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.resolve_s3express_identity of <botocore.utils.S3ExpressIdentityResolver object at 0x762d1fec76b0>>
DEBUG    botocore.auth:auth.py:429 Calculating signature using v4 auth.
DEBUG    botocore.auth:auth.py:430 CanonicalRequest:
GET
/document
encoding-type=url&list-type=2
host:localhost:9000
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20251206T225933Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
DEBUG    botocore.auth:auth.py:432 StringToSign:
AWS4-HMAC-SHA256
20251206T225933Z
20251206/us-east-1/s3/aws4_request
7964363e93fbac119e2a60aa44a4b13c1e3428515444d1c4afedbae0446e20f8
DEBUG    botocore.auth:auth.py:434 Signature:
755edceb8e18efc50eb40eca214d800611f89f14e0cf88394dea19d94e276903
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method UserAgentString.rebuild_and_replace_user_agent_handler of <botocore.useragent.UserAgentString object at 0x762d1fe6b540>>
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <function add_retry_headers at 0x762d20b5b560>
DEBUG    botocore.endpoint:endpoint.py:263 Sending http request: <AWSPreparedRequest stream_output=False, method=GET, url=http://localhost:9000/document?list-type=2&encoding-type=url, headers={'User-Agent': b'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1', 'X-Amz-Date': b'20251206T225933Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=minioadmin/20251206/us-east-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=755edceb8e18efc50eb40eca214d800611f89f14e0cf88394dea19d94e276903', 'amz-sdk-invocation-id': b'14cb0537-8add-4a3c-92c0-85b5476e0ea2', 'amz-sdk-request': b'attempt=1'}>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function _handle_200_error at 0x762d20b5bb00>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function handle_expires_header at 0x762d20b5b920>
DEBUG    botocore.parsers:parsers.py:255 Response headers: {'Accept-Ranges': 'bytes', 'Content-Length': '1651', 'Content-Type': 'application/xml', 'Server': 'MinIO', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'Vary': 'Origin, Accept-Encoding', 'X-Amz-Id-2': 'dd9025bab4ad464b049177c95eb6ebf374d3b3fd1af9251148b658df7ac2e3e8', 'X-Amz-Request-Id': '187EC2836A4919C8', 'X-Content-Type-Options': 'nosniff', 'X-Ratelimit-Limit': '4101', 'X-Ratelimit-Remaining': '4101', 'X-Xss-Protection': '1; mode=block', 'Date': 'Sat, 06 Dec 2025 22:59:33 GMT'}
DEBUG    botocore.parsers:parsers.py:256 Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<ListBucketResult xmlns="http://s3.amazonaws.com/doc/2006-03-01/"><Name>document</Name><Prefix></Prefix><KeyCount>5</KeyCount><MaxKeys>1000</MaxKeys><IsTruncated>false</IsTruncated><Contents><Key>117b0b2c981e75201b42a3f484ce0597efc559bf6d13288eacc4a717fa2fc736/tmpfexropfo_ops2.txt</Key><LastModified>2025-12-06T04:26:08.867Z</LastModified><ETag>&#34;5e0d22fc93f0f5ce7afce9aa02b0bc7d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>61b46b03f15f3c81f3640916be69f1d34fdd8191644e3d689a4c50cb9bc91d23/tmp2fa0p4_o_ops3.txt</Key><LastModified>2025-12-06T04:26:14.608Z</LastModified><ETag>&#34;53cec5e28d6e94a3991483e9dea86cd5&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>c26ae29584f33f4398072bfe9a37f455a85460237adf672922c3c7d928ba99f0/tmptsq137kv_ops0.txt</Key><LastModified>2025-12-06T04:25:59.153Z</LastModified><ETag>&#34;f697ceebb544c3f9ffe7d768f83c059d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>eea2eb3d0912c348f733308b3bc702cb37ef6eb0c96ff6b0c515cd5942a553ec/tmpg0h_zyad.txt</Key><LastModified>2025-12-06T04:29:48.556Z</LastModified><ETag>&#34;a33c5f35dbf2a7336b7535430610e358&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>fae826ba4b154dd6a512b641abf32b71b0ae3050e613292dfe675d6fca935adb/tmpug44129o_ops1.txt</Key><LastModified>2025-12-06T04:26:04.132Z</LastModified><ETag>&#34;01b0c1954a19d5d40136aa728191f1d4&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><EncodingType>url</EncodingType></ListBucketResult>'
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <function _update_status_code at 0x762d20b5bc40>
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <botocore.retryhandler.RetryHandler object at 0x762d1fec5010>
DEBUG    botocore.retryhandler:retryhandler.py:211 No retry needed.
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fec7f50>>
DEBUG    botocore.hooks:hooks.py:238 Event after-call.s3.ListObjectsV2: calling handler <function decode_list_object_v2 at 0x762d20b5a8e0>
---------------------------- Captured log teardown -----------------------------
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x762d1fcfc3c0>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.complete
DEBUG    httpcore.http11:_trace.py:47 send_request_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_body.complete
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'content-encoding', b'gzip'), (b'date', b'Sat, 06 Dec 2025 22:59:43 GMT')])
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.complete
DEBUG    httpcore.http11:_trace.py:47 response_closed.started
DEBUG    httpcore.http11:_trace.py:47 response_closed.complete
DEBUG    httpcore.connection:_trace.py:47 close.started
DEBUG    httpcore.connection:_trace.py:47 close.complete
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function set_list_objects_encoding_type_url at 0x762d20b5a7a0>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function validate_bucket_name at 0x762d20b59300>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function remove_bucket_from_url_paths_from_model at 0x762d20b5b600>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fec7f50>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method ClientCreator._inject_s3_input_parameters of <botocore.client.ClientCreator object at 0x762d1fe6aba0>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function generate_idempotent_uuid at 0x762d20b59120>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function _handle_request_validation_mode_member at 0x762d20b5bce0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x762d20b5b7e0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fec7f50>>
DEBUG    botocore.regions:regions.py:506 Calling endpoint provider with parameters: {'Bucket': 'document', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'Endpoint': 'http://localhost:9000', 'ForcePathStyle': True, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
DEBUG    botocore.regions:regions.py:521 Endpoint provider result: http://localhost:9000/document
DEBUG    botocore.regions:regions.py:691 Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
DEBUG    botocore.regions:regions.py:766 Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_expect_header at 0x762d20b596c0>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.apply_signing_cache_key of <botocore.utils.S3ExpressIdentityResolver object at 0x762d1fec76b0>>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_recursion_detection_header at 0x762d20b58c20>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function inject_api_version_header_if_needed at 0x762d20b5ac00>
DEBUG    botocore.endpoint:endpoint.py:114 Making request for OperationModel(name=ListObjectsV2) with params: {'url_path': '?list-type=2', 'query_string': {'encoding-type': 'url'}, 'method': 'GET', 'headers': {'User-Agent': 'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1'}, 'body': b'', 'auth_path': '/document/', 'url': 'http://localhost:9000/document?list-type=2&encoding-type=url', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x762d3af06d50>, 'has_streaming_input': False, 'auth_type': 'v4', 'unsigned_payload': None, 'auth_options': ['aws.auth#sigv4'], 'encoding_type_auto_set': True, 's3_redirect': {'redirected': False, 'bucket': 'document', 'params': {'Bucket': 'document', 'EncodingType': 'url'}}, 'input_params': {'Bucket': 'document'}, 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 'endpoint_properties': {'authSchemes': [{'disableDoubleEncoding': True, 'name': 'sigv4', 'signingName': 's3', 'signingRegion': 'us-east-1'}]}}}
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x762d2007f0d0>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x762d1fe6aba0>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <function set_operation_specific_signer at 0x762d20b58ea0>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function remove_arn_from_signing_path at 0x762d20b5b740>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function _set_extra_headers_for_unsigned_request at 0x762d20b5bd80>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.resolve_s3express_identity of <botocore.utils.S3ExpressIdentityResolver object at 0x762d1fec76b0>>
DEBUG    botocore.auth:auth.py:429 Calculating signature using v4 auth.
DEBUG    botocore.auth:auth.py:430 CanonicalRequest:
GET
/document
encoding-type=url&list-type=2
host:localhost:9000
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20251206T225943Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
DEBUG    botocore.auth:auth.py:432 StringToSign:
AWS4-HMAC-SHA256
20251206T225943Z
20251206/us-east-1/s3/aws4_request
c31185bb5083b064668c1b7f3bc5afe4215fc40fb143a9dde73cc572440ad184
DEBUG    botocore.auth:auth.py:434 Signature:
0c211ec073ce922e447a580b07b451981a1c1af4a9c79cfb5bda459fcf891b9b
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method UserAgentString.rebuild_and_replace_user_agent_handler of <botocore.useragent.UserAgentString object at 0x762d1fe6b540>>
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <function add_retry_headers at 0x762d20b5b560>
DEBUG    botocore.endpoint:endpoint.py:263 Sending http request: <AWSPreparedRequest stream_output=False, method=GET, url=http://localhost:9000/document?list-type=2&encoding-type=url, headers={'User-Agent': b'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1', 'X-Amz-Date': b'20251206T225943Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=minioadmin/20251206/us-east-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=0c211ec073ce922e447a580b07b451981a1c1af4a9c79cfb5bda459fcf891b9b', 'amz-sdk-invocation-id': b'68f3f5fd-c75b-4b35-80eb-bccbaa9e87f4', 'amz-sdk-request': b'attempt=1'}>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function _handle_200_error at 0x762d20b5bb00>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function handle_expires_header at 0x762d20b5b920>
DEBUG    botocore.parsers:parsers.py:255 Response headers: {'Accept-Ranges': 'bytes', 'Content-Length': '1651', 'Content-Type': 'application/xml', 'Server': 'MinIO', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'Vary': 'Origin, Accept-Encoding', 'X-Amz-Id-2': 'dd9025bab4ad464b049177c95eb6ebf374d3b3fd1af9251148b658df7ac2e3e8', 'X-Amz-Request-Id': '187EC285C1FBBC95', 'X-Content-Type-Options': 'nosniff', 'X-Ratelimit-Limit': '4101', 'X-Ratelimit-Remaining': '4101', 'X-Xss-Protection': '1; mode=block', 'Date': 'Sat, 06 Dec 2025 22:59:43 GMT'}
DEBUG    botocore.parsers:parsers.py:256 Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<ListBucketResult xmlns="http://s3.amazonaws.com/doc/2006-03-01/"><Name>document</Name><Prefix></Prefix><KeyCount>5</KeyCount><MaxKeys>1000</MaxKeys><IsTruncated>false</IsTruncated><Contents><Key>117b0b2c981e75201b42a3f484ce0597efc559bf6d13288eacc4a717fa2fc736/tmpfexropfo_ops2.txt</Key><LastModified>2025-12-06T04:26:08.867Z</LastModified><ETag>&#34;5e0d22fc93f0f5ce7afce9aa02b0bc7d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>61b46b03f15f3c81f3640916be69f1d34fdd8191644e3d689a4c50cb9bc91d23/tmp2fa0p4_o_ops3.txt</Key><LastModified>2025-12-06T04:26:14.608Z</LastModified><ETag>&#34;53cec5e28d6e94a3991483e9dea86cd5&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>c26ae29584f33f4398072bfe9a37f455a85460237adf672922c3c7d928ba99f0/tmptsq137kv_ops0.txt</Key><LastModified>2025-12-06T04:25:59.153Z</LastModified><ETag>&#34;f697ceebb544c3f9ffe7d768f83c059d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>eea2eb3d0912c348f733308b3bc702cb37ef6eb0c96ff6b0c515cd5942a553ec/tmpg0h_zyad.txt</Key><LastModified>2025-12-06T04:29:48.556Z</LastModified><ETag>&#34;a33c5f35dbf2a7336b7535430610e358&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>fae826ba4b154dd6a512b641abf32b71b0ae3050e613292dfe675d6fca935adb/tmpug44129o_ops1.txt</Key><LastModified>2025-12-06T04:26:04.132Z</LastModified><ETag>&#34;01b0c1954a19d5d40136aa728191f1d4&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><EncodingType>url</EncodingType></ListBucketResult>'
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <function _update_status_code at 0x762d20b5bc40>
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <botocore.retryhandler.RetryHandler object at 0x762d1fec5010>
DEBUG    botocore.retryhandler:retryhandler.py:211 No retry needed.
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fec7f50>>
DEBUG    botocore.hooks:hooks.py:238 Event after-call.s3.ListObjectsV2: calling handler <function decode_list_object_v2 at 0x762d20b5a8e0>
_ TestRAGConfigCombinations.test_vector_semantic_chunking_huggingface_embedding _

self = <e2e.cli.test_rag_combinations.TestRAGConfigCombinations object at 0x762d3bba6780>

    def test_vector_semantic_chunking_huggingface_embedding(self):
        """Test vector RAG with semantic chunking and huggingface embedding."""
        result = subprocess.run(
            [sys.executable, "-m", "src.cli", "default-rag-config", "new"],
            input="vector\nsemantic\n1200\n250\nhuggingface\n7\nnone\n",
            capture_output=True,
            text=True,
        )
>       assert result.returncode == 0
E       assert 1 == 0
E        +  where 1 = CompletedProcess(args=['/home/nate/.cache/pypoetry/virtualenvs/insighthub-G9Cf3wlO-py3.13/bin/python', '-m', 'src.cli', 'default-rag-config', 'new'], returncode=1, stdout='\nAvailable RAG types:\n  - vector: Traditional vector similarity search with embeddings\n  - graph: Knowledge graph-based retrieval with entity relationships\n\nRAG type [vector]: \nAvailable chunking algorithms:\n  - sentence: Split by sentence boundaries\n  - character: Fixed character size chunks\n  - semantic: Semantically coherent chunks\n\nAvailable embedding algorithms:\n  - nomic-embed-text: Nomic AI embedding model (274M params)\n  - all-MiniLM-L6-v2: Sentence-BERT embedding model\n  - mxbai-embed-large: Large multilingual embedding model\n\nAvailable reranking algorithms:\n  - none: Return results as-is from vector search\n  - cross-encoder: Rerank using cross-encoder model for better relevance\n  - bm25: Rerank using BM25 algorithm for keyword-based relevance\n  - rrf: Combine multiple rankings using RRF algorithm\n\nChunking algorithm [sentence]: Chunk size [1000]: Chunk overlap [200]: Embedding algorithm [nomic-embed-text]: Top K [5]: Rerank algorithm [none]: ', stderr="Error: Invalid embedding algorithm 'huggingface'\n").returncode

tests/e2e/cli/test_rag_combinations.py:66: AssertionError
------------------------------ Captured log setup ------------------------------
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x762d2009e490>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.complete
DEBUG    httpcore.http11:_trace.py:47 send_request_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_body.complete
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Sat, 06 Dec 2025 22:59:43 GMT')])
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.complete
DEBUG    httpcore.http11:_trace.py:47 response_closed.started
DEBUG    httpcore.http11:_trace.py:47 response_closed.complete
DEBUG    httpcore.connection:_trace.py:47 close.started
DEBUG    httpcore.connection:_trace.py:47 close.complete
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x762d2027b6b0>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.complete
DEBUG    httpcore.http11:_trace.py:47 send_request_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_body.complete
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Sat, 06 Dec 2025 22:59:43 GMT')])
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.complete
DEBUG    httpcore.http11:_trace.py:47 response_closed.started
DEBUG    httpcore.http11:_trace.py:47 response_closed.complete
DEBUG    httpcore.connection:_trace.py:47 close.started
DEBUG    httpcore.connection:_trace.py:47 close.complete
DEBUG    botocore.hooks:hooks.py:238 Event choose-service-name: calling handler <function handle_service_name_alias at 0x762d20b58360>
DEBUG    botocore.hooks:hooks.py:238 Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x762d20cb2de0>
DEBUG    botocore.hooks:hooks.py:238 Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x762d20be2520>
DEBUG    botocore.hooks:hooks.py:238 Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x762d20cb2b60>
DEBUG    botocore.endpoint:endpoint.py:414 Setting s3 timeout as (60, 60)
DEBUG    botocore.client:client.py:286 Registering retry handlers for service: s3
DEBUG    botocore.utils:utils.py:1747 Registering S3 region redirector handler
DEBUG    botocore.utils:utils.py:1695 Registering S3Express Identity Resolver
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function set_list_objects_encoding_type_url at 0x762d20b5a7a0>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function validate_bucket_name at 0x762d20b59300>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function remove_bucket_from_url_paths_from_model at 0x762d20b5b600>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fe0c2f0>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method ClientCreator._inject_s3_input_parameters of <botocore.client.ClientCreator object at 0x762d1feb2620>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function generate_idempotent_uuid at 0x762d20b59120>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function _handle_request_validation_mode_member at 0x762d20b5bce0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x762d20b5b7e0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fe0c2f0>>
DEBUG    botocore.regions:regions.py:506 Calling endpoint provider with parameters: {'Bucket': 'document', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'Endpoint': 'http://localhost:9000', 'ForcePathStyle': True, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
DEBUG    botocore.regions:regions.py:521 Endpoint provider result: http://localhost:9000/document
DEBUG    botocore.regions:regions.py:691 Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
DEBUG    botocore.regions:regions.py:766 Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_expect_header at 0x762d20b596c0>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.apply_signing_cache_key of <botocore.utils.S3ExpressIdentityResolver object at 0x762d1fe0fcb0>>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_recursion_detection_header at 0x762d20b58c20>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function inject_api_version_header_if_needed at 0x762d20b5ac00>
DEBUG    botocore.endpoint:endpoint.py:114 Making request for OperationModel(name=ListObjectsV2) with params: {'url_path': '?list-type=2', 'query_string': {'encoding-type': 'url'}, 'method': 'GET', 'headers': {'User-Agent': 'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1'}, 'body': b'', 'auth_path': '/document/', 'url': 'http://localhost:9000/document?list-type=2&encoding-type=url', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x762d215e0690>, 'has_streaming_input': False, 'auth_type': 'v4', 'unsigned_payload': None, 'auth_options': ['aws.auth#sigv4'], 'encoding_type_auto_set': True, 's3_redirect': {'redirected': False, 'bucket': 'document', 'params': {'Bucket': 'document', 'EncodingType': 'url'}}, 'input_params': {'Bucket': 'document'}, 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 'endpoint_properties': {'authSchemes': [{'disableDoubleEncoding': True, 'name': 'sigv4', 'signingName': 's3', 'signingRegion': 'us-east-1'}]}}}
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x762d1ff9a350>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x762d1feb2620>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <function set_operation_specific_signer at 0x762d20b58ea0>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function remove_arn_from_signing_path at 0x762d20b5b740>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function _set_extra_headers_for_unsigned_request at 0x762d20b5bd80>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.resolve_s3express_identity of <botocore.utils.S3ExpressIdentityResolver object at 0x762d1fe0fcb0>>
DEBUG    botocore.auth:auth.py:429 Calculating signature using v4 auth.
DEBUG    botocore.auth:auth.py:430 CanonicalRequest:
GET
/document
encoding-type=url&list-type=2
host:localhost:9000
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20251206T225943Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
DEBUG    botocore.auth:auth.py:432 StringToSign:
AWS4-HMAC-SHA256
20251206T225943Z
20251206/us-east-1/s3/aws4_request
c31185bb5083b064668c1b7f3bc5afe4215fc40fb143a9dde73cc572440ad184
DEBUG    botocore.auth:auth.py:434 Signature:
0c211ec073ce922e447a580b07b451981a1c1af4a9c79cfb5bda459fcf891b9b
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method UserAgentString.rebuild_and_replace_user_agent_handler of <botocore.useragent.UserAgentString object at 0x762d1feb0ec0>>
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <function add_retry_headers at 0x762d20b5b560>
DEBUG    botocore.endpoint:endpoint.py:263 Sending http request: <AWSPreparedRequest stream_output=False, method=GET, url=http://localhost:9000/document?list-type=2&encoding-type=url, headers={'User-Agent': b'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1', 'X-Amz-Date': b'20251206T225943Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=minioadmin/20251206/us-east-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=0c211ec073ce922e447a580b07b451981a1c1af4a9c79cfb5bda459fcf891b9b', 'amz-sdk-invocation-id': b'70bc4fe2-1990-4df9-9897-37957ba4c80d', 'amz-sdk-request': b'attempt=1'}>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function _handle_200_error at 0x762d20b5bb00>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function handle_expires_header at 0x762d20b5b920>
DEBUG    botocore.parsers:parsers.py:255 Response headers: {'Accept-Ranges': 'bytes', 'Content-Length': '1651', 'Content-Type': 'application/xml', 'Server': 'MinIO', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'Vary': 'Origin, Accept-Encoding', 'X-Amz-Id-2': 'dd9025bab4ad464b049177c95eb6ebf374d3b3fd1af9251148b658df7ac2e3e8', 'X-Amz-Request-Id': '187EC285C640E0A7', 'X-Content-Type-Options': 'nosniff', 'X-Ratelimit-Limit': '4101', 'X-Ratelimit-Remaining': '4101', 'X-Xss-Protection': '1; mode=block', 'Date': 'Sat, 06 Dec 2025 22:59:43 GMT'}
DEBUG    botocore.parsers:parsers.py:256 Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<ListBucketResult xmlns="http://s3.amazonaws.com/doc/2006-03-01/"><Name>document</Name><Prefix></Prefix><KeyCount>5</KeyCount><MaxKeys>1000</MaxKeys><IsTruncated>false</IsTruncated><Contents><Key>117b0b2c981e75201b42a3f484ce0597efc559bf6d13288eacc4a717fa2fc736/tmpfexropfo_ops2.txt</Key><LastModified>2025-12-06T04:26:08.867Z</LastModified><ETag>&#34;5e0d22fc93f0f5ce7afce9aa02b0bc7d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>61b46b03f15f3c81f3640916be69f1d34fdd8191644e3d689a4c50cb9bc91d23/tmp2fa0p4_o_ops3.txt</Key><LastModified>2025-12-06T04:26:14.608Z</LastModified><ETag>&#34;53cec5e28d6e94a3991483e9dea86cd5&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>c26ae29584f33f4398072bfe9a37f455a85460237adf672922c3c7d928ba99f0/tmptsq137kv_ops0.txt</Key><LastModified>2025-12-06T04:25:59.153Z</LastModified><ETag>&#34;f697ceebb544c3f9ffe7d768f83c059d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>eea2eb3d0912c348f733308b3bc702cb37ef6eb0c96ff6b0c515cd5942a553ec/tmpg0h_zyad.txt</Key><LastModified>2025-12-06T04:29:48.556Z</LastModified><ETag>&#34;a33c5f35dbf2a7336b7535430610e358&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>fae826ba4b154dd6a512b641abf32b71b0ae3050e613292dfe675d6fca935adb/tmpug44129o_ops1.txt</Key><LastModified>2025-12-06T04:26:04.132Z</LastModified><ETag>&#34;01b0c1954a19d5d40136aa728191f1d4&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><EncodingType>url</EncodingType></ListBucketResult>'
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <function _update_status_code at 0x762d20b5bc40>
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <botocore.retryhandler.RetryHandler object at 0x762d1fe0c350>
DEBUG    botocore.retryhandler:retryhandler.py:211 No retry needed.
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fe0c2f0>>
DEBUG    botocore.hooks:hooks.py:238 Event after-call.s3.ListObjectsV2: calling handler <function decode_list_object_v2 at 0x762d20b5a8e0>
---------------------------- Captured log teardown -----------------------------
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x762d1feb9810>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.complete
DEBUG    httpcore.http11:_trace.py:47 send_request_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_body.complete
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Sat, 06 Dec 2025 22:59:50 GMT')])
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.complete
DEBUG    httpcore.http11:_trace.py:47 response_closed.started
DEBUG    httpcore.http11:_trace.py:47 response_closed.complete
DEBUG    httpcore.connection:_trace.py:47 close.started
DEBUG    httpcore.connection:_trace.py:47 close.complete
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function set_list_objects_encoding_type_url at 0x762d20b5a7a0>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function validate_bucket_name at 0x762d20b59300>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function remove_bucket_from_url_paths_from_model at 0x762d20b5b600>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fe0c2f0>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method ClientCreator._inject_s3_input_parameters of <botocore.client.ClientCreator object at 0x762d1feb2620>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function generate_idempotent_uuid at 0x762d20b59120>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function _handle_request_validation_mode_member at 0x762d20b5bce0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x762d20b5b7e0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fe0c2f0>>
DEBUG    botocore.regions:regions.py:506 Calling endpoint provider with parameters: {'Bucket': 'document', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'Endpoint': 'http://localhost:9000', 'ForcePathStyle': True, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
DEBUG    botocore.regions:regions.py:521 Endpoint provider result: http://localhost:9000/document
DEBUG    botocore.regions:regions.py:691 Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
DEBUG    botocore.regions:regions.py:766 Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_expect_header at 0x762d20b596c0>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.apply_signing_cache_key of <botocore.utils.S3ExpressIdentityResolver object at 0x762d1fe0fcb0>>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_recursion_detection_header at 0x762d20b58c20>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function inject_api_version_header_if_needed at 0x762d20b5ac00>
DEBUG    botocore.endpoint:endpoint.py:114 Making request for OperationModel(name=ListObjectsV2) with params: {'url_path': '?list-type=2', 'query_string': {'encoding-type': 'url'}, 'method': 'GET', 'headers': {'User-Agent': 'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1'}, 'body': b'', 'auth_path': '/document/', 'url': 'http://localhost:9000/document?list-type=2&encoding-type=url', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x762d215e0690>, 'has_streaming_input': False, 'auth_type': 'v4', 'unsigned_payload': None, 'auth_options': ['aws.auth#sigv4'], 'encoding_type_auto_set': True, 's3_redirect': {'redirected': False, 'bucket': 'document', 'params': {'Bucket': 'document', 'EncodingType': 'url'}}, 'input_params': {'Bucket': 'document'}, 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 'endpoint_properties': {'authSchemes': [{'disableDoubleEncoding': True, 'name': 'sigv4', 'signingName': 's3', 'signingRegion': 'us-east-1'}]}}}
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x762d1ff9a350>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x762d1feb2620>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <function set_operation_specific_signer at 0x762d20b58ea0>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function remove_arn_from_signing_path at 0x762d20b5b740>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function _set_extra_headers_for_unsigned_request at 0x762d20b5bd80>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.resolve_s3express_identity of <botocore.utils.S3ExpressIdentityResolver object at 0x762d1fe0fcb0>>
DEBUG    botocore.auth:auth.py:429 Calculating signature using v4 auth.
DEBUG    botocore.auth:auth.py:430 CanonicalRequest:
GET
/document
encoding-type=url&list-type=2
host:localhost:9000
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20251206T225951Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
DEBUG    botocore.auth:auth.py:432 StringToSign:
AWS4-HMAC-SHA256
20251206T225951Z
20251206/us-east-1/s3/aws4_request
e3f3eb037f23a2dff96d334dc4fa597c496fdd3ec8ceb5086e679dd539dee72f
DEBUG    botocore.auth:auth.py:434 Signature:
e37d896a7189dce06707a1c86851e310ba2a159da9ff6a6328ee25eb35b47009
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method UserAgentString.rebuild_and_replace_user_agent_handler of <botocore.useragent.UserAgentString object at 0x762d1feb0ec0>>
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <function add_retry_headers at 0x762d20b5b560>
DEBUG    botocore.endpoint:endpoint.py:263 Sending http request: <AWSPreparedRequest stream_output=False, method=GET, url=http://localhost:9000/document?list-type=2&encoding-type=url, headers={'User-Agent': b'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1', 'X-Amz-Date': b'20251206T225951Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=minioadmin/20251206/us-east-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=e37d896a7189dce06707a1c86851e310ba2a159da9ff6a6328ee25eb35b47009', 'amz-sdk-invocation-id': b'2db9103a-33ca-4237-87e4-d612f8d81771', 'amz-sdk-request': b'attempt=1'}>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function _handle_200_error at 0x762d20b5bb00>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function handle_expires_header at 0x762d20b5b920>
DEBUG    botocore.parsers:parsers.py:255 Response headers: {'Accept-Ranges': 'bytes', 'Content-Length': '1651', 'Content-Type': 'application/xml', 'Server': 'MinIO', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'Vary': 'Origin, Accept-Encoding', 'X-Amz-Id-2': 'dd9025bab4ad464b049177c95eb6ebf374d3b3fd1af9251148b658df7ac2e3e8', 'X-Amz-Request-Id': '187EC287815EB402', 'X-Content-Type-Options': 'nosniff', 'X-Ratelimit-Limit': '4101', 'X-Ratelimit-Remaining': '4101', 'X-Xss-Protection': '1; mode=block', 'Date': 'Sat, 06 Dec 2025 22:59:51 GMT'}
DEBUG    botocore.parsers:parsers.py:256 Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<ListBucketResult xmlns="http://s3.amazonaws.com/doc/2006-03-01/"><Name>document</Name><Prefix></Prefix><KeyCount>5</KeyCount><MaxKeys>1000</MaxKeys><IsTruncated>false</IsTruncated><Contents><Key>117b0b2c981e75201b42a3f484ce0597efc559bf6d13288eacc4a717fa2fc736/tmpfexropfo_ops2.txt</Key><LastModified>2025-12-06T04:26:08.867Z</LastModified><ETag>&#34;5e0d22fc93f0f5ce7afce9aa02b0bc7d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>61b46b03f15f3c81f3640916be69f1d34fdd8191644e3d689a4c50cb9bc91d23/tmp2fa0p4_o_ops3.txt</Key><LastModified>2025-12-06T04:26:14.608Z</LastModified><ETag>&#34;53cec5e28d6e94a3991483e9dea86cd5&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>c26ae29584f33f4398072bfe9a37f455a85460237adf672922c3c7d928ba99f0/tmptsq137kv_ops0.txt</Key><LastModified>2025-12-06T04:25:59.153Z</LastModified><ETag>&#34;f697ceebb544c3f9ffe7d768f83c059d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>eea2eb3d0912c348f733308b3bc702cb37ef6eb0c96ff6b0c515cd5942a553ec/tmpg0h_zyad.txt</Key><LastModified>2025-12-06T04:29:48.556Z</LastModified><ETag>&#34;a33c5f35dbf2a7336b7535430610e358&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>fae826ba4b154dd6a512b641abf32b71b0ae3050e613292dfe675d6fca935adb/tmpug44129o_ops1.txt</Key><LastModified>2025-12-06T04:26:04.132Z</LastModified><ETag>&#34;01b0c1954a19d5d40136aa728191f1d4&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><EncodingType>url</EncodingType></ListBucketResult>'
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <function _update_status_code at 0x762d20b5bc40>
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <botocore.retryhandler.RetryHandler object at 0x762d1fe0c350>
DEBUG    botocore.retryhandler:retryhandler.py:211 No retry needed.
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fe0c2f0>>
DEBUG    botocore.hooks:hooks.py:238 Event after-call.s3.ListObjectsV2: calling handler <function decode_list_object_v2 at 0x762d20b5a8e0>
_____ TestRAGConfigCombinations.test_vector_dummy_chunking_dummy_embedding _____

self = <e2e.cli.test_rag_combinations.TestRAGConfigCombinations object at 0x762d3bba68b0>

    def test_vector_dummy_chunking_dummy_embedding(self):
        """Test vector RAG with dummy chunking and dummy embedding."""
        result = subprocess.run(
            [sys.executable, "-m", "src.cli", "default-rag-config", "new"],
            input="vector\ndummy\n500\n100\ndummy\n2\nnone\n",
            capture_output=True,
            text=True,
        )
>       assert result.returncode == 0
E       assert 1 == 0
E        +  where 1 = CompletedProcess(args=['/home/nate/.cache/pypoetry/virtualenvs/insighthub-G9Cf3wlO-py3.13/bin/python', '-m', 'src.cli', 'default-rag-config', 'new'], returncode=1, stdout='\nAvailable RAG types:\n  - vector: Traditional vector similarity search with embeddings\n  - graph: Knowledge graph-based retrieval with entity relationships\n\nRAG type [vector]: \nAvailable chunking algorithms:\n  - sentence: Split by sentence boundaries\n  - character: Fixed character size chunks\n  - semantic: Semantically coherent chunks\n\nAvailable embedding algorithms:\n  - nomic-embed-text: Nomic AI embedding model (274M params)\n  - all-MiniLM-L6-v2: Sentence-BERT embedding model\n  - mxbai-embed-large: Large multilingual embedding model\n\nAvailable reranking algorithms:\n  - none: Return results as-is from vector search\n  - cross-encoder: Rerank using cross-encoder model for better relevance\n  - bm25: Rerank using BM25 algorithm for keyword-based relevance\n  - rrf: Combine multiple rankings using RRF algorithm\n\nChunking algorithm [sentence]: Chunk size [1000]: Chunk overlap [200]: Embedding algorithm [nomic-embed-text]: Top K [5]: Rerank algorithm [none]: ', stderr="Error: Invalid chunking algorithm 'dummy'\n").returncode

tests/e2e/cli/test_rag_combinations.py:81: AssertionError
------------------------------ Captured log setup ------------------------------
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x762d1ff61a40>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.complete
DEBUG    httpcore.http11:_trace.py:47 send_request_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_body.complete
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'content-type', b'application/json'), (b'date', b'Sat, 06 Dec 2025 22:59:50 GMT')])
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.complete
DEBUG    httpcore.http11:_trace.py:47 response_closed.started
DEBUG    httpcore.http11:_trace.py:47 response_closed.complete
DEBUG    httpcore.connection:_trace.py:47 close.started
DEBUG    httpcore.connection:_trace.py:47 close.complete
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x762d1fcfecb0>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.complete
DEBUG    httpcore.http11:_trace.py:47 send_request_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_body.complete
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'content-encoding', b'gzip'), (b'content-type', b'application/json'), (b'date', b'Sat, 06 Dec 2025 22:59:50 GMT')])
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.complete
DEBUG    httpcore.http11:_trace.py:47 response_closed.started
DEBUG    httpcore.http11:_trace.py:47 response_closed.complete
DEBUG    httpcore.connection:_trace.py:47 close.started
DEBUG    httpcore.connection:_trace.py:47 close.complete
DEBUG    botocore.hooks:hooks.py:238 Event choose-service-name: calling handler <function handle_service_name_alias at 0x762d20b58360>
DEBUG    botocore.hooks:hooks.py:238 Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x762d20cb2de0>
DEBUG    botocore.hooks:hooks.py:238 Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x762d20be2520>
DEBUG    botocore.hooks:hooks.py:238 Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x762d20cb2b60>
DEBUG    botocore.endpoint:endpoint.py:414 Setting s3 timeout as (60, 60)
DEBUG    botocore.client:client.py:286 Registering retry handlers for service: s3
DEBUG    botocore.utils:utils.py:1747 Registering S3 region redirector handler
DEBUG    botocore.utils:utils.py:1695 Registering S3Express Identity Resolver
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function set_list_objects_encoding_type_url at 0x762d20b5a7a0>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function validate_bucket_name at 0x762d20b59300>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function remove_bucket_from_url_paths_from_model at 0x762d20b5b600>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1ffdc230>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method ClientCreator._inject_s3_input_parameters of <botocore.client.ClientCreator object at 0x762d1fe6aba0>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function generate_idempotent_uuid at 0x762d20b59120>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function _handle_request_validation_mode_member at 0x762d20b5bce0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x762d20b5b7e0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1ffdc230>>
DEBUG    botocore.regions:regions.py:506 Calling endpoint provider with parameters: {'Bucket': 'document', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'Endpoint': 'http://localhost:9000', 'ForcePathStyle': True, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
DEBUG    botocore.regions:regions.py:521 Endpoint provider result: http://localhost:9000/document
DEBUG    botocore.regions:regions.py:691 Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
DEBUG    botocore.regions:regions.py:766 Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_expect_header at 0x762d20b596c0>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.apply_signing_cache_key of <botocore.utils.S3ExpressIdentityResolver object at 0x762d1ffdc4d0>>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_recursion_detection_header at 0x762d20b58c20>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function inject_api_version_header_if_needed at 0x762d20b5ac00>
DEBUG    botocore.endpoint:endpoint.py:114 Making request for OperationModel(name=ListObjectsV2) with params: {'url_path': '?list-type=2', 'query_string': {'encoding-type': 'url'}, 'method': 'GET', 'headers': {'User-Agent': 'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1'}, 'body': b'', 'auth_path': '/document/', 'url': 'http://localhost:9000/document?list-type=2&encoding-type=url', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x762d3af06d50>, 'has_streaming_input': False, 'auth_type': 'v4', 'unsigned_payload': None, 'auth_options': ['aws.auth#sigv4'], 'encoding_type_auto_set': True, 's3_redirect': {'redirected': False, 'bucket': 'document', 'params': {'Bucket': 'document', 'EncodingType': 'url'}}, 'input_params': {'Bucket': 'document'}, 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 'endpoint_properties': {'authSchemes': [{'disableDoubleEncoding': True, 'name': 'sigv4', 'signingName': 's3', 'signingRegion': 'us-east-1'}]}}}
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x762d1ff9a650>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x762d1fe6aba0>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <function set_operation_specific_signer at 0x762d20b58ea0>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function remove_arn_from_signing_path at 0x762d20b5b740>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function _set_extra_headers_for_unsigned_request at 0x762d20b5bd80>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.resolve_s3express_identity of <botocore.utils.S3ExpressIdentityResolver object at 0x762d1ffdc4d0>>
DEBUG    botocore.auth:auth.py:429 Calculating signature using v4 auth.
DEBUG    botocore.auth:auth.py:430 CanonicalRequest:
GET
/document
encoding-type=url&list-type=2
host:localhost:9000
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20251206T225951Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
DEBUG    botocore.auth:auth.py:432 StringToSign:
AWS4-HMAC-SHA256
20251206T225951Z
20251206/us-east-1/s3/aws4_request
e3f3eb037f23a2dff96d334dc4fa597c496fdd3ec8ceb5086e679dd539dee72f
DEBUG    botocore.auth:auth.py:434 Signature:
e37d896a7189dce06707a1c86851e310ba2a159da9ff6a6328ee25eb35b47009
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method UserAgentString.rebuild_and_replace_user_agent_handler of <botocore.useragent.UserAgentString object at 0x762d1feb3070>>
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <function add_retry_headers at 0x762d20b5b560>
DEBUG    botocore.endpoint:endpoint.py:263 Sending http request: <AWSPreparedRequest stream_output=False, method=GET, url=http://localhost:9000/document?list-type=2&encoding-type=url, headers={'User-Agent': b'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1', 'X-Amz-Date': b'20251206T225951Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=minioadmin/20251206/us-east-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=e37d896a7189dce06707a1c86851e310ba2a159da9ff6a6328ee25eb35b47009', 'amz-sdk-invocation-id': b'd3f29080-3403-4739-b891-4ca0f97f0879', 'amz-sdk-request': b'attempt=1'}>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function _handle_200_error at 0x762d20b5bb00>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function handle_expires_header at 0x762d20b5b920>
DEBUG    botocore.parsers:parsers.py:255 Response headers: {'Accept-Ranges': 'bytes', 'Content-Length': '1651', 'Content-Type': 'application/xml', 'Server': 'MinIO', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'Vary': 'Origin, Accept-Encoding', 'X-Amz-Id-2': 'dd9025bab4ad464b049177c95eb6ebf374d3b3fd1af9251148b658df7ac2e3e8', 'X-Amz-Request-Id': '187EC28786A4A4BA', 'X-Content-Type-Options': 'nosniff', 'X-Ratelimit-Limit': '4101', 'X-Ratelimit-Remaining': '4101', 'X-Xss-Protection': '1; mode=block', 'Date': 'Sat, 06 Dec 2025 22:59:51 GMT'}
DEBUG    botocore.parsers:parsers.py:256 Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<ListBucketResult xmlns="http://s3.amazonaws.com/doc/2006-03-01/"><Name>document</Name><Prefix></Prefix><KeyCount>5</KeyCount><MaxKeys>1000</MaxKeys><IsTruncated>false</IsTruncated><Contents><Key>117b0b2c981e75201b42a3f484ce0597efc559bf6d13288eacc4a717fa2fc736/tmpfexropfo_ops2.txt</Key><LastModified>2025-12-06T04:26:08.867Z</LastModified><ETag>&#34;5e0d22fc93f0f5ce7afce9aa02b0bc7d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>61b46b03f15f3c81f3640916be69f1d34fdd8191644e3d689a4c50cb9bc91d23/tmp2fa0p4_o_ops3.txt</Key><LastModified>2025-12-06T04:26:14.608Z</LastModified><ETag>&#34;53cec5e28d6e94a3991483e9dea86cd5&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>c26ae29584f33f4398072bfe9a37f455a85460237adf672922c3c7d928ba99f0/tmptsq137kv_ops0.txt</Key><LastModified>2025-12-06T04:25:59.153Z</LastModified><ETag>&#34;f697ceebb544c3f9ffe7d768f83c059d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>eea2eb3d0912c348f733308b3bc702cb37ef6eb0c96ff6b0c515cd5942a553ec/tmpg0h_zyad.txt</Key><LastModified>2025-12-06T04:29:48.556Z</LastModified><ETag>&#34;a33c5f35dbf2a7336b7535430610e358&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>fae826ba4b154dd6a512b641abf32b71b0ae3050e613292dfe675d6fca935adb/tmpug44129o_ops1.txt</Key><LastModified>2025-12-06T04:26:04.132Z</LastModified><ETag>&#34;01b0c1954a19d5d40136aa728191f1d4&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><EncodingType>url</EncodingType></ListBucketResult>'
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <function _update_status_code at 0x762d20b5bc40>
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <botocore.retryhandler.RetryHandler object at 0x762d1ffdcdd0>
DEBUG    botocore.retryhandler:retryhandler.py:211 No retry needed.
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1ffdc230>>
DEBUG    botocore.hooks:hooks.py:238 Event after-call.s3.ListObjectsV2: calling handler <function decode_list_object_v2 at 0x762d20b5a8e0>
---------------------------- Captured log teardown -----------------------------
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x762d1fdf5ef0>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.complete
DEBUG    httpcore.http11:_trace.py:47 send_request_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_body.complete
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'content-encoding', b'gzip'), (b'date', b'Sat, 06 Dec 2025 22:59:59 GMT')])
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.complete
DEBUG    httpcore.http11:_trace.py:47 response_closed.started
DEBUG    httpcore.http11:_trace.py:47 response_closed.complete
DEBUG    httpcore.connection:_trace.py:47 close.started
DEBUG    httpcore.connection:_trace.py:47 close.complete
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function set_list_objects_encoding_type_url at 0x762d20b5a7a0>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function validate_bucket_name at 0x762d20b59300>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function remove_bucket_from_url_paths_from_model at 0x762d20b5b600>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1ffdc230>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method ClientCreator._inject_s3_input_parameters of <botocore.client.ClientCreator object at 0x762d1fe6aba0>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function generate_idempotent_uuid at 0x762d20b59120>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function _handle_request_validation_mode_member at 0x762d20b5bce0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x762d20b5b7e0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1ffdc230>>
DEBUG    botocore.regions:regions.py:506 Calling endpoint provider with parameters: {'Bucket': 'document', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'Endpoint': 'http://localhost:9000', 'ForcePathStyle': True, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
DEBUG    botocore.regions:regions.py:521 Endpoint provider result: http://localhost:9000/document
DEBUG    botocore.regions:regions.py:691 Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
DEBUG    botocore.regions:regions.py:766 Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_expect_header at 0x762d20b596c0>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.apply_signing_cache_key of <botocore.utils.S3ExpressIdentityResolver object at 0x762d1ffdc4d0>>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_recursion_detection_header at 0x762d20b58c20>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function inject_api_version_header_if_needed at 0x762d20b5ac00>
DEBUG    botocore.endpoint:endpoint.py:114 Making request for OperationModel(name=ListObjectsV2) with params: {'url_path': '?list-type=2', 'query_string': {'encoding-type': 'url'}, 'method': 'GET', 'headers': {'User-Agent': 'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1'}, 'body': b'', 'auth_path': '/document/', 'url': 'http://localhost:9000/document?list-type=2&encoding-type=url', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x762d3af06d50>, 'has_streaming_input': False, 'auth_type': 'v4', 'unsigned_payload': None, 'auth_options': ['aws.auth#sigv4'], 'encoding_type_auto_set': True, 's3_redirect': {'redirected': False, 'bucket': 'document', 'params': {'Bucket': 'document', 'EncodingType': 'url'}}, 'input_params': {'Bucket': 'document'}, 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 'endpoint_properties': {'authSchemes': [{'disableDoubleEncoding': True, 'name': 'sigv4', 'signingName': 's3', 'signingRegion': 'us-east-1'}]}}}
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x762d1ff9a650>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x762d1fe6aba0>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <function set_operation_specific_signer at 0x762d20b58ea0>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function remove_arn_from_signing_path at 0x762d20b5b740>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function _set_extra_headers_for_unsigned_request at 0x762d20b5bd80>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.resolve_s3express_identity of <botocore.utils.S3ExpressIdentityResolver object at 0x762d1ffdc4d0>>
DEBUG    botocore.auth:auth.py:429 Calculating signature using v4 auth.
DEBUG    botocore.auth:auth.py:430 CanonicalRequest:
GET
/document
encoding-type=url&list-type=2
host:localhost:9000
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20251206T230000Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
DEBUG    botocore.auth:auth.py:432 StringToSign:
AWS4-HMAC-SHA256
20251206T230000Z
20251206/us-east-1/s3/aws4_request
a9e54129c3d9d33b945c78cde71379272b523f89e92c9c38bf08a4d461776510
DEBUG    botocore.auth:auth.py:434 Signature:
5a18725ec0230754fb2df37dcb25d3acd0e24081ade8a419ca445a01379ad381
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method UserAgentString.rebuild_and_replace_user_agent_handler of <botocore.useragent.UserAgentString object at 0x762d1feb3070>>
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <function add_retry_headers at 0x762d20b5b560>
DEBUG    botocore.endpoint:endpoint.py:263 Sending http request: <AWSPreparedRequest stream_output=False, method=GET, url=http://localhost:9000/document?list-type=2&encoding-type=url, headers={'User-Agent': b'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1', 'X-Amz-Date': b'20251206T230000Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=minioadmin/20251206/us-east-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=5a18725ec0230754fb2df37dcb25d3acd0e24081ade8a419ca445a01379ad381', 'amz-sdk-invocation-id': b'3bc3be2e-97a0-4d71-ab5d-5dec68e36693', 'amz-sdk-request': b'attempt=1'}>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function _handle_200_error at 0x762d20b5bb00>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function handle_expires_header at 0x762d20b5b920>
DEBUG    botocore.parsers:parsers.py:255 Response headers: {'Accept-Ranges': 'bytes', 'Content-Length': '1651', 'Content-Type': 'application/xml', 'Server': 'MinIO', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'Vary': 'Origin, Accept-Encoding', 'X-Amz-Id-2': 'dd9025bab4ad464b049177c95eb6ebf374d3b3fd1af9251148b658df7ac2e3e8', 'X-Amz-Request-Id': '187EC289914DECBB', 'X-Content-Type-Options': 'nosniff', 'X-Ratelimit-Limit': '4101', 'X-Ratelimit-Remaining': '4101', 'X-Xss-Protection': '1; mode=block', 'Date': 'Sat, 06 Dec 2025 23:00:00 GMT'}
DEBUG    botocore.parsers:parsers.py:256 Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<ListBucketResult xmlns="http://s3.amazonaws.com/doc/2006-03-01/"><Name>document</Name><Prefix></Prefix><KeyCount>5</KeyCount><MaxKeys>1000</MaxKeys><IsTruncated>false</IsTruncated><Contents><Key>117b0b2c981e75201b42a3f484ce0597efc559bf6d13288eacc4a717fa2fc736/tmpfexropfo_ops2.txt</Key><LastModified>2025-12-06T04:26:08.867Z</LastModified><ETag>&#34;5e0d22fc93f0f5ce7afce9aa02b0bc7d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>61b46b03f15f3c81f3640916be69f1d34fdd8191644e3d689a4c50cb9bc91d23/tmp2fa0p4_o_ops3.txt</Key><LastModified>2025-12-06T04:26:14.608Z</LastModified><ETag>&#34;53cec5e28d6e94a3991483e9dea86cd5&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>c26ae29584f33f4398072bfe9a37f455a85460237adf672922c3c7d928ba99f0/tmptsq137kv_ops0.txt</Key><LastModified>2025-12-06T04:25:59.153Z</LastModified><ETag>&#34;f697ceebb544c3f9ffe7d768f83c059d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>eea2eb3d0912c348f733308b3bc702cb37ef6eb0c96ff6b0c515cd5942a553ec/tmpg0h_zyad.txt</Key><LastModified>2025-12-06T04:29:48.556Z</LastModified><ETag>&#34;a33c5f35dbf2a7336b7535430610e358&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>fae826ba4b154dd6a512b641abf32b71b0ae3050e613292dfe675d6fca935adb/tmpug44129o_ops1.txt</Key><LastModified>2025-12-06T04:26:04.132Z</LastModified><ETag>&#34;01b0c1954a19d5d40136aa728191f1d4&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><EncodingType>url</EncodingType></ListBucketResult>'
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <function _update_status_code at 0x762d20b5bc40>
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <botocore.retryhandler.RetryHandler object at 0x762d1ffdcdd0>
DEBUG    botocore.retryhandler:retryhandler.py:211 No retry needed.
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1ffdc230>>
DEBUG    botocore.hooks:hooks.py:238 Event after-call.s3.ListObjectsV2: calling handler <function decode_list_object_v2 at 0x762d20b5a8e0>
__________ TestRAGConfigCombinations.test_vector_with_dummy_reranking __________

self = <e2e.cli.test_rag_combinations.TestRAGConfigCombinations object at 0x762d3b710170>

    def test_vector_with_dummy_reranking(self):
        """Test vector RAG with dummy reranking algorithm."""
        result = subprocess.run(
            [sys.executable, "-m", "src.cli", "default-rag-config", "new"],
            input="vector\nsentence\n1000\n200\nnomic-embed-text\n5\ndummy\n",
            capture_output=True,
            text=True,
        )
>       assert result.returncode == 0
E       assert 1 == 0
E        +  where 1 = CompletedProcess(args=['/home/nate/.cache/pypoetry/virtualenvs/insighthub-G9Cf3wlO-py3.13/bin/python', '-m', 'src.cli', 'default-rag-config', 'new'], returncode=1, stdout='\nAvailable RAG types:\n  - vector: Traditional vector similarity search with embeddings\n  - graph: Knowledge graph-based retrieval with entity relationships\n\nRAG type [vector]: \nAvailable chunking algorithms:\n  - sentence: Split by sentence boundaries\n  - character: Fixed character size chunks\n  - semantic: Semantically coherent chunks\n\nAvailable embedding algorithms:\n  - nomic-embed-text: Nomic AI embedding model (274M params)\n  - all-MiniLM-L6-v2: Sentence-BERT embedding model\n  - mxbai-embed-large: Large multilingual embedding model\n\nAvailable reranking algorithms:\n  - none: Return results as-is from vector search\n  - cross-encoder: Rerank using cross-encoder model for better relevance\n  - bm25: Rerank using BM25 algorithm for keyword-based relevance\n  - rrf: Combine multiple rankings using RRF algorithm\n\nChunking algorithm [sentence]: Chunk size [1000]: Chunk overlap [200]: Embedding algorithm [nomic-embed-text]: Top K [5]: Rerank algorithm [none]: ', stderr="Error: Invalid reranking algorithm 'dummy'\n").returncode

tests/e2e/cli/test_rag_combinations.py:95: AssertionError
------------------------------ Captured log setup ------------------------------
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x762d3bb38f00>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.complete
DEBUG    httpcore.http11:_trace.py:47 send_request_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_body.complete
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Sat, 06 Dec 2025 22:59:59 GMT')])
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.complete
DEBUG    httpcore.http11:_trace.py:47 response_closed.started
DEBUG    httpcore.http11:_trace.py:47 response_closed.complete
DEBUG    httpcore.connection:_trace.py:47 close.started
DEBUG    httpcore.connection:_trace.py:47 close.complete
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x762d1feb9f40>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.complete
DEBUG    httpcore.http11:_trace.py:47 send_request_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_body.complete
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Sat, 06 Dec 2025 22:59:59 GMT')])
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.complete
DEBUG    httpcore.http11:_trace.py:47 response_closed.started
DEBUG    httpcore.http11:_trace.py:47 response_closed.complete
DEBUG    httpcore.connection:_trace.py:47 close.started
DEBUG    httpcore.connection:_trace.py:47 close.complete
DEBUG    botocore.hooks:hooks.py:238 Event choose-service-name: calling handler <function handle_service_name_alias at 0x762d20b58360>
DEBUG    botocore.hooks:hooks.py:238 Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x762d20cb2de0>
DEBUG    botocore.hooks:hooks.py:238 Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x762d20be2520>
DEBUG    botocore.hooks:hooks.py:238 Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x762d20cb2b60>
DEBUG    botocore.endpoint:endpoint.py:414 Setting s3 timeout as (60, 60)
DEBUG    botocore.client:client.py:286 Registering retry handlers for service: s3
DEBUG    botocore.utils:utils.py:1747 Registering S3 region redirector handler
DEBUG    botocore.utils:utils.py:1695 Registering S3Express Identity Resolver
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function set_list_objects_encoding_type_url at 0x762d20b5a7a0>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function validate_bucket_name at 0x762d20b59300>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function remove_bucket_from_url_paths_from_model at 0x762d20b5b600>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x762d2005ca70>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method ClientCreator._inject_s3_input_parameters of <botocore.client.ClientCreator object at 0x762d1feb0470>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function generate_idempotent_uuid at 0x762d20b59120>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function _handle_request_validation_mode_member at 0x762d20b5bce0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x762d20b5b7e0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x762d2005ca70>>
DEBUG    botocore.regions:regions.py:506 Calling endpoint provider with parameters: {'Bucket': 'document', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'Endpoint': 'http://localhost:9000', 'ForcePathStyle': True, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
DEBUG    botocore.regions:regions.py:521 Endpoint provider result: http://localhost:9000/document
DEBUG    botocore.regions:regions.py:691 Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
DEBUG    botocore.regions:regions.py:766 Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_expect_header at 0x762d20b596c0>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.apply_signing_cache_key of <botocore.utils.S3ExpressIdentityResolver object at 0x762d2005f050>>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_recursion_detection_header at 0x762d20b58c20>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function inject_api_version_header_if_needed at 0x762d20b5ac00>
DEBUG    botocore.endpoint:endpoint.py:114 Making request for OperationModel(name=ListObjectsV2) with params: {'url_path': '?list-type=2', 'query_string': {'encoding-type': 'url'}, 'method': 'GET', 'headers': {'User-Agent': 'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1'}, 'body': b'', 'auth_path': '/document/', 'url': 'http://localhost:9000/document?list-type=2&encoding-type=url', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x762d215e0690>, 'has_streaming_input': False, 'auth_type': 'v4', 'unsigned_payload': None, 'auth_options': ['aws.auth#sigv4'], 'encoding_type_auto_set': True, 's3_redirect': {'redirected': False, 'bucket': 'document', 'params': {'Bucket': 'document', 'EncodingType': 'url'}}, 'input_params': {'Bucket': 'document'}, 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 'endpoint_properties': {'authSchemes': [{'disableDoubleEncoding': True, 'name': 'sigv4', 'signingName': 's3', 'signingRegion': 'us-east-1'}]}}}
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x762d1ff57750>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x762d1feb0470>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <function set_operation_specific_signer at 0x762d20b58ea0>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function remove_arn_from_signing_path at 0x762d20b5b740>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function _set_extra_headers_for_unsigned_request at 0x762d20b5bd80>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.resolve_s3express_identity of <botocore.utils.S3ExpressIdentityResolver object at 0x762d2005f050>>
DEBUG    botocore.auth:auth.py:429 Calculating signature using v4 auth.
DEBUG    botocore.auth:auth.py:430 CanonicalRequest:
GET
/document
encoding-type=url&list-type=2
host:localhost:9000
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20251206T230000Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
DEBUG    botocore.auth:auth.py:432 StringToSign:
AWS4-HMAC-SHA256
20251206T230000Z
20251206/us-east-1/s3/aws4_request
a9e54129c3d9d33b945c78cde71379272b523f89e92c9c38bf08a4d461776510
DEBUG    botocore.auth:auth.py:434 Signature:
5a18725ec0230754fb2df37dcb25d3acd0e24081ade8a419ca445a01379ad381
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method UserAgentString.rebuild_and_replace_user_agent_handler of <botocore.useragent.UserAgentString object at 0x762d1feb1bd0>>
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <function add_retry_headers at 0x762d20b5b560>
DEBUG    botocore.endpoint:endpoint.py:263 Sending http request: <AWSPreparedRequest stream_output=False, method=GET, url=http://localhost:9000/document?list-type=2&encoding-type=url, headers={'User-Agent': b'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1', 'X-Amz-Date': b'20251206T230000Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=minioadmin/20251206/us-east-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=5a18725ec0230754fb2df37dcb25d3acd0e24081ade8a419ca445a01379ad381', 'amz-sdk-invocation-id': b'f6e3ee82-b869-4e6d-bc58-e66f8e9bed78', 'amz-sdk-request': b'attempt=1'}>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function _handle_200_error at 0x762d20b5bb00>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function handle_expires_header at 0x762d20b5b920>
DEBUG    botocore.parsers:parsers.py:255 Response headers: {'Accept-Ranges': 'bytes', 'Content-Length': '1651', 'Content-Type': 'application/xml', 'Server': 'MinIO', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'Vary': 'Origin, Accept-Encoding', 'X-Amz-Id-2': 'dd9025bab4ad464b049177c95eb6ebf374d3b3fd1af9251148b658df7ac2e3e8', 'X-Amz-Request-Id': '187EC28995D212A0', 'X-Content-Type-Options': 'nosniff', 'X-Ratelimit-Limit': '4101', 'X-Ratelimit-Remaining': '4101', 'X-Xss-Protection': '1; mode=block', 'Date': 'Sat, 06 Dec 2025 23:00:00 GMT'}
DEBUG    botocore.parsers:parsers.py:256 Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<ListBucketResult xmlns="http://s3.amazonaws.com/doc/2006-03-01/"><Name>document</Name><Prefix></Prefix><KeyCount>5</KeyCount><MaxKeys>1000</MaxKeys><IsTruncated>false</IsTruncated><Contents><Key>117b0b2c981e75201b42a3f484ce0597efc559bf6d13288eacc4a717fa2fc736/tmpfexropfo_ops2.txt</Key><LastModified>2025-12-06T04:26:08.867Z</LastModified><ETag>&#34;5e0d22fc93f0f5ce7afce9aa02b0bc7d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>61b46b03f15f3c81f3640916be69f1d34fdd8191644e3d689a4c50cb9bc91d23/tmp2fa0p4_o_ops3.txt</Key><LastModified>2025-12-06T04:26:14.608Z</LastModified><ETag>&#34;53cec5e28d6e94a3991483e9dea86cd5&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>c26ae29584f33f4398072bfe9a37f455a85460237adf672922c3c7d928ba99f0/tmptsq137kv_ops0.txt</Key><LastModified>2025-12-06T04:25:59.153Z</LastModified><ETag>&#34;f697ceebb544c3f9ffe7d768f83c059d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>eea2eb3d0912c348f733308b3bc702cb37ef6eb0c96ff6b0c515cd5942a553ec/tmpg0h_zyad.txt</Key><LastModified>2025-12-06T04:29:48.556Z</LastModified><ETag>&#34;a33c5f35dbf2a7336b7535430610e358&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>fae826ba4b154dd6a512b641abf32b71b0ae3050e613292dfe675d6fca935adb/tmpug44129o_ops1.txt</Key><LastModified>2025-12-06T04:26:04.132Z</LastModified><ETag>&#34;01b0c1954a19d5d40136aa728191f1d4&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><EncodingType>url</EncodingType></ListBucketResult>'
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <function _update_status_code at 0x762d20b5bc40>
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <botocore.retryhandler.RetryHandler object at 0x762d2005e4b0>
DEBUG    botocore.retryhandler:retryhandler.py:211 No retry needed.
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x762d2005ca70>>
DEBUG    botocore.hooks:hooks.py:238 Event after-call.s3.ListObjectsV2: calling handler <function decode_list_object_v2 at 0x762d20b5a8e0>
---------------------------- Captured log teardown -----------------------------
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x762d1fe06e40>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.complete
DEBUG    httpcore.http11:_trace.py:47 send_request_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_body.complete
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Sat, 06 Dec 2025 23:00:08 GMT')])
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.complete
DEBUG    httpcore.http11:_trace.py:47 response_closed.started
DEBUG    httpcore.http11:_trace.py:47 response_closed.complete
DEBUG    httpcore.connection:_trace.py:47 close.started
DEBUG    httpcore.connection:_trace.py:47 close.complete
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function set_list_objects_encoding_type_url at 0x762d20b5a7a0>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function validate_bucket_name at 0x762d20b59300>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function remove_bucket_from_url_paths_from_model at 0x762d20b5b600>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x762d2005ca70>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method ClientCreator._inject_s3_input_parameters of <botocore.client.ClientCreator object at 0x762d1feb0470>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function generate_idempotent_uuid at 0x762d20b59120>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function _handle_request_validation_mode_member at 0x762d20b5bce0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x762d20b5b7e0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x762d2005ca70>>
DEBUG    botocore.regions:regions.py:506 Calling endpoint provider with parameters: {'Bucket': 'document', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'Endpoint': 'http://localhost:9000', 'ForcePathStyle': True, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
DEBUG    botocore.regions:regions.py:521 Endpoint provider result: http://localhost:9000/document
DEBUG    botocore.regions:regions.py:691 Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
DEBUG    botocore.regions:regions.py:766 Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_expect_header at 0x762d20b596c0>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.apply_signing_cache_key of <botocore.utils.S3ExpressIdentityResolver object at 0x762d2005f050>>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_recursion_detection_header at 0x762d20b58c20>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function inject_api_version_header_if_needed at 0x762d20b5ac00>
DEBUG    botocore.endpoint:endpoint.py:114 Making request for OperationModel(name=ListObjectsV2) with params: {'url_path': '?list-type=2', 'query_string': {'encoding-type': 'url'}, 'method': 'GET', 'headers': {'User-Agent': 'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1'}, 'body': b'', 'auth_path': '/document/', 'url': 'http://localhost:9000/document?list-type=2&encoding-type=url', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x762d215e0690>, 'has_streaming_input': False, 'auth_type': 'v4', 'unsigned_payload': None, 'auth_options': ['aws.auth#sigv4'], 'encoding_type_auto_set': True, 's3_redirect': {'redirected': False, 'bucket': 'document', 'params': {'Bucket': 'document', 'EncodingType': 'url'}}, 'input_params': {'Bucket': 'document'}, 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 'endpoint_properties': {'authSchemes': [{'disableDoubleEncoding': True, 'name': 'sigv4', 'signingName': 's3', 'signingRegion': 'us-east-1'}]}}}
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x762d1ff57750>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x762d1feb0470>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <function set_operation_specific_signer at 0x762d20b58ea0>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function remove_arn_from_signing_path at 0x762d20b5b740>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function _set_extra_headers_for_unsigned_request at 0x762d20b5bd80>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.resolve_s3express_identity of <botocore.utils.S3ExpressIdentityResolver object at 0x762d2005f050>>
DEBUG    botocore.auth:auth.py:429 Calculating signature using v4 auth.
DEBUG    botocore.auth:auth.py:430 CanonicalRequest:
GET
/document
encoding-type=url&list-type=2
host:localhost:9000
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20251206T230008Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
DEBUG    botocore.auth:auth.py:432 StringToSign:
AWS4-HMAC-SHA256
20251206T230008Z
20251206/us-east-1/s3/aws4_request
aa989a4ff652bdc24f38e127f4b0f96730eee8386e13f501551372572cd084bc
DEBUG    botocore.auth:auth.py:434 Signature:
c265d2059917357bae29b851fff19ec898638730e3ed5d69b647485e4432997b
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method UserAgentString.rebuild_and_replace_user_agent_handler of <botocore.useragent.UserAgentString object at 0x762d1feb1bd0>>
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <function add_retry_headers at 0x762d20b5b560>
DEBUG    botocore.endpoint:endpoint.py:263 Sending http request: <AWSPreparedRequest stream_output=False, method=GET, url=http://localhost:9000/document?list-type=2&encoding-type=url, headers={'User-Agent': b'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1', 'X-Amz-Date': b'20251206T230008Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=minioadmin/20251206/us-east-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=c265d2059917357bae29b851fff19ec898638730e3ed5d69b647485e4432997b', 'amz-sdk-invocation-id': b'ae090fbd-2852-47ea-9549-238b07d5fc31', 'amz-sdk-request': b'attempt=1'}>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function _handle_200_error at 0x762d20b5bb00>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function handle_expires_header at 0x762d20b5b920>
DEBUG    botocore.parsers:parsers.py:255 Response headers: {'Accept-Ranges': 'bytes', 'Content-Length': '1651', 'Content-Type': 'application/xml', 'Server': 'MinIO', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'Vary': 'Origin, Accept-Encoding', 'X-Amz-Id-2': 'dd9025bab4ad464b049177c95eb6ebf374d3b3fd1af9251148b658df7ac2e3e8', 'X-Amz-Request-Id': '187EC28B8A6CF27F', 'X-Content-Type-Options': 'nosniff', 'X-Ratelimit-Limit': '4101', 'X-Ratelimit-Remaining': '4101', 'X-Xss-Protection': '1; mode=block', 'Date': 'Sat, 06 Dec 2025 23:00:08 GMT'}
DEBUG    botocore.parsers:parsers.py:256 Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<ListBucketResult xmlns="http://s3.amazonaws.com/doc/2006-03-01/"><Name>document</Name><Prefix></Prefix><KeyCount>5</KeyCount><MaxKeys>1000</MaxKeys><IsTruncated>false</IsTruncated><Contents><Key>117b0b2c981e75201b42a3f484ce0597efc559bf6d13288eacc4a717fa2fc736/tmpfexropfo_ops2.txt</Key><LastModified>2025-12-06T04:26:08.867Z</LastModified><ETag>&#34;5e0d22fc93f0f5ce7afce9aa02b0bc7d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>61b46b03f15f3c81f3640916be69f1d34fdd8191644e3d689a4c50cb9bc91d23/tmp2fa0p4_o_ops3.txt</Key><LastModified>2025-12-06T04:26:14.608Z</LastModified><ETag>&#34;53cec5e28d6e94a3991483e9dea86cd5&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>c26ae29584f33f4398072bfe9a37f455a85460237adf672922c3c7d928ba99f0/tmptsq137kv_ops0.txt</Key><LastModified>2025-12-06T04:25:59.153Z</LastModified><ETag>&#34;f697ceebb544c3f9ffe7d768f83c059d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>eea2eb3d0912c348f733308b3bc702cb37ef6eb0c96ff6b0c515cd5942a553ec/tmpg0h_zyad.txt</Key><LastModified>2025-12-06T04:29:48.556Z</LastModified><ETag>&#34;a33c5f35dbf2a7336b7535430610e358&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>fae826ba4b154dd6a512b641abf32b71b0ae3050e613292dfe675d6fca935adb/tmpug44129o_ops1.txt</Key><LastModified>2025-12-06T04:26:04.132Z</LastModified><ETag>&#34;01b0c1954a19d5d40136aa728191f1d4&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><EncodingType>url</EncodingType></ListBucketResult>'
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <function _update_status_code at 0x762d20b5bc40>
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <botocore.retryhandler.RetryHandler object at 0x762d2005e4b0>
DEBUG    botocore.retryhandler:retryhandler.py:211 No retry needed.
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x762d2005ca70>>
DEBUG    botocore.hooks:hooks.py:238 Event after-call.s3.ListObjectsV2: calling handler <function decode_list_object_v2 at 0x762d20b5a8e0>
_________ TestRAGConfigCombinations.test_graph_dummy_dependency_leiden _________

self = <e2e.cli.test_rag_combinations.TestRAGConfigCombinations object at 0x762d3bbe2cf0>

    def test_graph_dummy_dependency_leiden(self):
        """Test graph RAG with dummy entity extraction."""
        result = subprocess.run(
            [sys.executable, "-m", "src.cli", "default-rag-config", "new"],
            input="graph\ndummy\ndependency-parsing\nleiden\n",
            capture_output=True,
            text=True,
        )
>       assert result.returncode == 0
E       assert 1 == 0
E        +  where 1 = CompletedProcess(args=['/home/nate/.cache/pypoetry/virtualenvs/insighthub-G9Cf3wlO-py3.13/bin/python', '-m', 'src.cli', 'default-rag-config', 'new'], returncode=1, stdout='\nAvailable RAG types:\n  - vector: Traditional vector similarity search with embeddings\n  - graph: Knowledge graph-based retrieval with entity relationships\n\nRAG type [vector]: \nAvailable entity extraction algorithms:\n  - spacy: spaCy NLP-based entity extraction\n  - llm: Use LLM to extract entities\n\nAvailable relationship extraction algorithms:\n  - dependency-parsing: Parse grammatical dependencies to extract relationships\n  - llm: Use LLM to extract relationships\n\nAvailable clustering algorithms:\n  - leiden: Leiden community detection algorithm\n  - louvain: Louvain community detection algorithm\n\nEntity extraction algorithm [spacy]: Relationship extraction algorithm [dependency-parsing]: Clustering algorithm [leiden]: ', stderr="Error: Invalid entity extraction algorithm 'dummy'\n").returncode

tests/e2e/cli/test_rag_combinations.py:178: AssertionError
------------------------------ Captured log setup ------------------------------
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x762d1fe05b80>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.complete
DEBUG    httpcore.http11:_trace.py:47 send_request_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_body.complete
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Sat, 06 Dec 2025 23:01:04 GMT')])
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.complete
DEBUG    httpcore.http11:_trace.py:47 response_closed.started
DEBUG    httpcore.http11:_trace.py:47 response_closed.complete
DEBUG    httpcore.connection:_trace.py:47 close.started
DEBUG    httpcore.connection:_trace.py:47 close.complete
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x762d1feb9220>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.complete
DEBUG    httpcore.http11:_trace.py:47 send_request_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_body.complete
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Sat, 06 Dec 2025 23:01:04 GMT')])
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.complete
DEBUG    httpcore.http11:_trace.py:47 response_closed.started
DEBUG    httpcore.http11:_trace.py:47 response_closed.complete
DEBUG    httpcore.connection:_trace.py:47 close.started
DEBUG    httpcore.connection:_trace.py:47 close.complete
DEBUG    botocore.hooks:hooks.py:238 Event choose-service-name: calling handler <function handle_service_name_alias at 0x762d20b58360>
DEBUG    botocore.hooks:hooks.py:238 Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x762d20cb2de0>
DEBUG    botocore.hooks:hooks.py:238 Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x762d20be2520>
DEBUG    botocore.hooks:hooks.py:238 Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x762d20cb2b60>
DEBUG    botocore.endpoint:endpoint.py:414 Setting s3 timeout as (60, 60)
DEBUG    botocore.client:client.py:286 Registering retry handlers for service: s3
DEBUG    botocore.utils:utils.py:1747 Registering S3 region redirector handler
DEBUG    botocore.utils:utils.py:1695 Registering S3Express Identity Resolver
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function set_list_objects_encoding_type_url at 0x762d20b5a7a0>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function validate_bucket_name at 0x762d20b59300>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function remove_bucket_from_url_paths_from_model at 0x762d20b5b600>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x762d20078470>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method ClientCreator._inject_s3_input_parameters of <botocore.client.ClientCreator object at 0x762d1feb3ee0>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function generate_idempotent_uuid at 0x762d20b59120>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function _handle_request_validation_mode_member at 0x762d20b5bce0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x762d20b5b7e0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x762d20078470>>
DEBUG    botocore.regions:regions.py:506 Calling endpoint provider with parameters: {'Bucket': 'document', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'Endpoint': 'http://localhost:9000', 'ForcePathStyle': True, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
DEBUG    botocore.regions:regions.py:521 Endpoint provider result: http://localhost:9000/document
DEBUG    botocore.regions:regions.py:691 Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
DEBUG    botocore.regions:regions.py:766 Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_expect_header at 0x762d20b596c0>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.apply_signing_cache_key of <botocore.utils.S3ExpressIdentityResolver object at 0x762d20079f70>>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_recursion_detection_header at 0x762d20b58c20>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function inject_api_version_header_if_needed at 0x762d20b5ac00>
DEBUG    botocore.endpoint:endpoint.py:114 Making request for OperationModel(name=ListObjectsV2) with params: {'url_path': '?list-type=2', 'query_string': {'encoding-type': 'url'}, 'method': 'GET', 'headers': {'User-Agent': 'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1'}, 'body': b'', 'auth_path': '/document/', 'url': 'http://localhost:9000/document?list-type=2&encoding-type=url', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x762d3af06d50>, 'has_streaming_input': False, 'auth_type': 'v4', 'unsigned_payload': None, 'auth_options': ['aws.auth#sigv4'], 'encoding_type_auto_set': True, 's3_redirect': {'redirected': False, 'bucket': 'document', 'params': {'Bucket': 'document', 'EncodingType': 'url'}}, 'input_params': {'Bucket': 'document'}, 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 'endpoint_properties': {'authSchemes': [{'disableDoubleEncoding': True, 'name': 'sigv4', 'signingName': 's3', 'signingRegion': 'us-east-1'}]}}}
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x762d210840d0>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x762d1feb3ee0>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <function set_operation_specific_signer at 0x762d20b58ea0>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function remove_arn_from_signing_path at 0x762d20b5b740>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function _set_extra_headers_for_unsigned_request at 0x762d20b5bd80>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.resolve_s3express_identity of <botocore.utils.S3ExpressIdentityResolver object at 0x762d20079f70>>
DEBUG    botocore.auth:auth.py:429 Calculating signature using v4 auth.
DEBUG    botocore.auth:auth.py:430 CanonicalRequest:
GET
/document
encoding-type=url&list-type=2
host:localhost:9000
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20251206T230104Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
DEBUG    botocore.auth:auth.py:432 StringToSign:
AWS4-HMAC-SHA256
20251206T230104Z
20251206/us-east-1/s3/aws4_request
3985bba0b68dd91ed0c702ccfd1eb6419ddf33b96ca37bb552ce5a265a3a5b12
DEBUG    botocore.auth:auth.py:434 Signature:
c118574271a6eb4195b0631fdd54a45fdebe60ac13c3068a7ee72a08b20dc9dd
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method UserAgentString.rebuild_and_replace_user_agent_handler of <botocore.useragent.UserAgentString object at 0x762d1feb20a0>>
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <function add_retry_headers at 0x762d20b5b560>
DEBUG    botocore.endpoint:endpoint.py:263 Sending http request: <AWSPreparedRequest stream_output=False, method=GET, url=http://localhost:9000/document?list-type=2&encoding-type=url, headers={'User-Agent': b'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1', 'X-Amz-Date': b'20251206T230104Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=minioadmin/20251206/us-east-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=c118574271a6eb4195b0631fdd54a45fdebe60ac13c3068a7ee72a08b20dc9dd', 'amz-sdk-invocation-id': b'51ce8e93-2aa3-443c-983d-e9ab11ad3ec3', 'amz-sdk-request': b'attempt=1'}>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function _handle_200_error at 0x762d20b5bb00>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function handle_expires_header at 0x762d20b5b920>
DEBUG    botocore.parsers:parsers.py:255 Response headers: {'Accept-Ranges': 'bytes', 'Content-Length': '1651', 'Content-Type': 'application/xml', 'Server': 'MinIO', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'Vary': 'Origin, Accept-Encoding', 'X-Amz-Id-2': 'dd9025bab4ad464b049177c95eb6ebf374d3b3fd1af9251148b658df7ac2e3e8', 'X-Amz-Request-Id': '187EC298A8393670', 'X-Content-Type-Options': 'nosniff', 'X-Ratelimit-Limit': '4101', 'X-Ratelimit-Remaining': '4101', 'X-Xss-Protection': '1; mode=block', 'Date': 'Sat, 06 Dec 2025 23:01:04 GMT'}
DEBUG    botocore.parsers:parsers.py:256 Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<ListBucketResult xmlns="http://s3.amazonaws.com/doc/2006-03-01/"><Name>document</Name><Prefix></Prefix><KeyCount>5</KeyCount><MaxKeys>1000</MaxKeys><IsTruncated>false</IsTruncated><Contents><Key>117b0b2c981e75201b42a3f484ce0597efc559bf6d13288eacc4a717fa2fc736/tmpfexropfo_ops2.txt</Key><LastModified>2025-12-06T04:26:08.867Z</LastModified><ETag>&#34;5e0d22fc93f0f5ce7afce9aa02b0bc7d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>61b46b03f15f3c81f3640916be69f1d34fdd8191644e3d689a4c50cb9bc91d23/tmp2fa0p4_o_ops3.txt</Key><LastModified>2025-12-06T04:26:14.608Z</LastModified><ETag>&#34;53cec5e28d6e94a3991483e9dea86cd5&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>c26ae29584f33f4398072bfe9a37f455a85460237adf672922c3c7d928ba99f0/tmptsq137kv_ops0.txt</Key><LastModified>2025-12-06T04:25:59.153Z</LastModified><ETag>&#34;f697ceebb544c3f9ffe7d768f83c059d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>eea2eb3d0912c348f733308b3bc702cb37ef6eb0c96ff6b0c515cd5942a553ec/tmpg0h_zyad.txt</Key><LastModified>2025-12-06T04:29:48.556Z</LastModified><ETag>&#34;a33c5f35dbf2a7336b7535430610e358&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>fae826ba4b154dd6a512b641abf32b71b0ae3050e613292dfe675d6fca935adb/tmpug44129o_ops1.txt</Key><LastModified>2025-12-06T04:26:04.132Z</LastModified><ETag>&#34;01b0c1954a19d5d40136aa728191f1d4&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><EncodingType>url</EncodingType></ListBucketResult>'
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <function _update_status_code at 0x762d20b5bc40>
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <botocore.retryhandler.RetryHandler object at 0x762d20078830>
DEBUG    botocore.retryhandler:retryhandler.py:211 No retry needed.
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x762d20078470>>
DEBUG    botocore.hooks:hooks.py:238 Event after-call.s3.ListObjectsV2: calling handler <function decode_list_object_v2 at 0x762d20b5a8e0>
---------------------------- Captured log teardown -----------------------------
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x762d1fe4a580>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.complete
DEBUG    httpcore.http11:_trace.py:47 send_request_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_body.complete
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Sat, 06 Dec 2025 23:01:14 GMT')])
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.complete
DEBUG    httpcore.http11:_trace.py:47 response_closed.started
DEBUG    httpcore.http11:_trace.py:47 response_closed.complete
DEBUG    httpcore.connection:_trace.py:47 close.started
DEBUG    httpcore.connection:_trace.py:47 close.complete
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function set_list_objects_encoding_type_url at 0x762d20b5a7a0>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function validate_bucket_name at 0x762d20b59300>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function remove_bucket_from_url_paths_from_model at 0x762d20b5b600>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x762d20078470>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method ClientCreator._inject_s3_input_parameters of <botocore.client.ClientCreator object at 0x762d1feb3ee0>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function generate_idempotent_uuid at 0x762d20b59120>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function _handle_request_validation_mode_member at 0x762d20b5bce0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x762d20b5b7e0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x762d20078470>>
DEBUG    botocore.regions:regions.py:506 Calling endpoint provider with parameters: {'Bucket': 'document', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'Endpoint': 'http://localhost:9000', 'ForcePathStyle': True, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
DEBUG    botocore.regions:regions.py:521 Endpoint provider result: http://localhost:9000/document
DEBUG    botocore.regions:regions.py:691 Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
DEBUG    botocore.regions:regions.py:766 Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_expect_header at 0x762d20b596c0>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.apply_signing_cache_key of <botocore.utils.S3ExpressIdentityResolver object at 0x762d20079f70>>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_recursion_detection_header at 0x762d20b58c20>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function inject_api_version_header_if_needed at 0x762d20b5ac00>
DEBUG    botocore.endpoint:endpoint.py:114 Making request for OperationModel(name=ListObjectsV2) with params: {'url_path': '?list-type=2', 'query_string': {'encoding-type': 'url'}, 'method': 'GET', 'headers': {'User-Agent': 'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1'}, 'body': b'', 'auth_path': '/document/', 'url': 'http://localhost:9000/document?list-type=2&encoding-type=url', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x762d3af06d50>, 'has_streaming_input': False, 'auth_type': 'v4', 'unsigned_payload': None, 'auth_options': ['aws.auth#sigv4'], 'encoding_type_auto_set': True, 's3_redirect': {'redirected': False, 'bucket': 'document', 'params': {'Bucket': 'document', 'EncodingType': 'url'}}, 'input_params': {'Bucket': 'document'}, 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 'endpoint_properties': {'authSchemes': [{'disableDoubleEncoding': True, 'name': 'sigv4', 'signingName': 's3', 'signingRegion': 'us-east-1'}]}}}
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x762d210840d0>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x762d1feb3ee0>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <function set_operation_specific_signer at 0x762d20b58ea0>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function remove_arn_from_signing_path at 0x762d20b5b740>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function _set_extra_headers_for_unsigned_request at 0x762d20b5bd80>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.resolve_s3express_identity of <botocore.utils.S3ExpressIdentityResolver object at 0x762d20079f70>>
DEBUG    botocore.auth:auth.py:429 Calculating signature using v4 auth.
DEBUG    botocore.auth:auth.py:430 CanonicalRequest:
GET
/document
encoding-type=url&list-type=2
host:localhost:9000
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20251206T230115Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
DEBUG    botocore.auth:auth.py:432 StringToSign:
AWS4-HMAC-SHA256
20251206T230115Z
20251206/us-east-1/s3/aws4_request
48232d510d72bc722c73c214a04f1cd54b783cf6086bdb2d699ad92408f0dd9e
DEBUG    botocore.auth:auth.py:434 Signature:
8231a9d9aa7692dcbcaa40c1aa81de78a20fde4b9dd7a2dfa11eea695b5d9e6d
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method UserAgentString.rebuild_and_replace_user_agent_handler of <botocore.useragent.UserAgentString object at 0x762d1feb20a0>>
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <function add_retry_headers at 0x762d20b5b560>
DEBUG    botocore.endpoint:endpoint.py:263 Sending http request: <AWSPreparedRequest stream_output=False, method=GET, url=http://localhost:9000/document?list-type=2&encoding-type=url, headers={'User-Agent': b'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1', 'X-Amz-Date': b'20251206T230115Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=minioadmin/20251206/us-east-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=8231a9d9aa7692dcbcaa40c1aa81de78a20fde4b9dd7a2dfa11eea695b5d9e6d', 'amz-sdk-invocation-id': b'5ee21930-c845-402a-a9c7-c0febe56297c', 'amz-sdk-request': b'attempt=1'}>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function _handle_200_error at 0x762d20b5bb00>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function handle_expires_header at 0x762d20b5b920>
DEBUG    botocore.parsers:parsers.py:255 Response headers: {'Accept-Ranges': 'bytes', 'Content-Length': '1651', 'Content-Type': 'application/xml', 'Server': 'MinIO', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'Vary': 'Origin, Accept-Encoding', 'X-Amz-Id-2': 'dd9025bab4ad464b049177c95eb6ebf374d3b3fd1af9251148b658df7ac2e3e8', 'X-Amz-Request-Id': '187EC29B13B9D4FA', 'X-Content-Type-Options': 'nosniff', 'X-Ratelimit-Limit': '4101', 'X-Ratelimit-Remaining': '4101', 'X-Xss-Protection': '1; mode=block', 'Date': 'Sat, 06 Dec 2025 23:01:15 GMT'}
DEBUG    botocore.parsers:parsers.py:256 Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<ListBucketResult xmlns="http://s3.amazonaws.com/doc/2006-03-01/"><Name>document</Name><Prefix></Prefix><KeyCount>5</KeyCount><MaxKeys>1000</MaxKeys><IsTruncated>false</IsTruncated><Contents><Key>117b0b2c981e75201b42a3f484ce0597efc559bf6d13288eacc4a717fa2fc736/tmpfexropfo_ops2.txt</Key><LastModified>2025-12-06T04:26:08.867Z</LastModified><ETag>&#34;5e0d22fc93f0f5ce7afce9aa02b0bc7d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>61b46b03f15f3c81f3640916be69f1d34fdd8191644e3d689a4c50cb9bc91d23/tmp2fa0p4_o_ops3.txt</Key><LastModified>2025-12-06T04:26:14.608Z</LastModified><ETag>&#34;53cec5e28d6e94a3991483e9dea86cd5&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>c26ae29584f33f4398072bfe9a37f455a85460237adf672922c3c7d928ba99f0/tmptsq137kv_ops0.txt</Key><LastModified>2025-12-06T04:25:59.153Z</LastModified><ETag>&#34;f697ceebb544c3f9ffe7d768f83c059d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>eea2eb3d0912c348f733308b3bc702cb37ef6eb0c96ff6b0c515cd5942a553ec/tmpg0h_zyad.txt</Key><LastModified>2025-12-06T04:29:48.556Z</LastModified><ETag>&#34;a33c5f35dbf2a7336b7535430610e358&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>fae826ba4b154dd6a512b641abf32b71b0ae3050e613292dfe675d6fca935adb/tmpug44129o_ops1.txt</Key><LastModified>2025-12-06T04:26:04.132Z</LastModified><ETag>&#34;01b0c1954a19d5d40136aa728191f1d4&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><EncodingType>url</EncodingType></ListBucketResult>'
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <function _update_status_code at 0x762d20b5bc40>
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <botocore.retryhandler.RetryHandler object at 0x762d20078830>
DEBUG    botocore.retryhandler:retryhandler.py:211 No retry needed.
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x762d20078470>>
DEBUG    botocore.hooks:hooks.py:238 Event after-call.s3.ListObjectsV2: calling handler <function decode_list_object_v2 at 0x762d20b5a8e0>
___________ TestRAGConfigCombinations.test_graph_spacy_dummy_leiden ____________

self = <e2e.cli.test_rag_combinations.TestRAGConfigCombinations object at 0x762d3bbe2f90>

    def test_graph_spacy_dummy_leiden(self):
        """Test graph RAG with dummy relationship extraction."""
        result = subprocess.run(
            [sys.executable, "-m", "src.cli", "default-rag-config", "new"],
            input="graph\nspacy\ndummy\nleiden\n",
            capture_output=True,
            text=True,
        )
>       assert result.returncode == 0
E       assert 1 == 0
E        +  where 1 = CompletedProcess(args=['/home/nate/.cache/pypoetry/virtualenvs/insighthub-G9Cf3wlO-py3.13/bin/python', '-m', 'src.cli', 'default-rag-config', 'new'], returncode=1, stdout='\nAvailable RAG types:\n  - vector: Traditional vector similarity search with embeddings\n  - graph: Knowledge graph-based retrieval with entity relationships\n\nRAG type [vector]: \nAvailable entity extraction algorithms:\n  - spacy: spaCy NLP-based entity extraction\n  - llm: Use LLM to extract entities\n\nAvailable relationship extraction algorithms:\n  - dependency-parsing: Parse grammatical dependencies to extract relationships\n  - llm: Use LLM to extract relationships\n\nAvailable clustering algorithms:\n  - leiden: Leiden community detection algorithm\n  - louvain: Louvain community detection algorithm\n\nEntity extraction algorithm [spacy]: Relationship extraction algorithm [dependency-parsing]: Clustering algorithm [leiden]: ', stderr="Error: Invalid relationship extraction algorithm 'dummy'\n").returncode

tests/e2e/cli/test_rag_combinations.py:193: AssertionError
------------------------------ Captured log setup ------------------------------
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x762d1fe496d0>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.complete
DEBUG    httpcore.http11:_trace.py:47 send_request_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_body.complete
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'content-type', b'application/json'), (b'date', b'Sat, 06 Dec 2025 23:01:15 GMT')])
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.complete
DEBUG    httpcore.http11:_trace.py:47 response_closed.started
DEBUG    httpcore.http11:_trace.py:47 response_closed.complete
DEBUG    httpcore.connection:_trace.py:47 close.started
DEBUG    httpcore.connection:_trace.py:47 close.complete
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x762d2105f570>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.complete
DEBUG    httpcore.http11:_trace.py:47 send_request_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_body.complete
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'content-encoding', b'gzip'), (b'content-type', b'application/json'), (b'date', b'Sat, 06 Dec 2025 23:01:15 GMT')])
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.complete
DEBUG    httpcore.http11:_trace.py:47 response_closed.started
DEBUG    httpcore.http11:_trace.py:47 response_closed.complete
DEBUG    httpcore.connection:_trace.py:47 close.started
DEBUG    httpcore.connection:_trace.py:47 close.complete
DEBUG    botocore.hooks:hooks.py:238 Event choose-service-name: calling handler <function handle_service_name_alias at 0x762d20b58360>
DEBUG    botocore.hooks:hooks.py:238 Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x762d20cb2de0>
DEBUG    botocore.hooks:hooks.py:238 Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x762d20be2520>
DEBUG    botocore.hooks:hooks.py:238 Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x762d20cb2b60>
DEBUG    botocore.endpoint:endpoint.py:414 Setting s3 timeout as (60, 60)
DEBUG    botocore.client:client.py:286 Registering retry handlers for service: s3
DEBUG    botocore.utils:utils.py:1747 Registering S3 region redirector handler
DEBUG    botocore.utils:utils.py:1695 Registering S3Express Identity Resolver
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function set_list_objects_encoding_type_url at 0x762d20b5a7a0>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function validate_bucket_name at 0x762d20b59300>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function remove_bucket_from_url_paths_from_model at 0x762d20b5b600>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1ffdc2f0>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method ClientCreator._inject_s3_input_parameters of <botocore.client.ClientCreator object at 0x762d1feb3b70>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function generate_idempotent_uuid at 0x762d20b59120>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function _handle_request_validation_mode_member at 0x762d20b5bce0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x762d20b5b7e0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1ffdc2f0>>
DEBUG    botocore.regions:regions.py:506 Calling endpoint provider with parameters: {'Bucket': 'document', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'Endpoint': 'http://localhost:9000', 'ForcePathStyle': True, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
DEBUG    botocore.regions:regions.py:521 Endpoint provider result: http://localhost:9000/document
DEBUG    botocore.regions:regions.py:691 Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
DEBUG    botocore.regions:regions.py:766 Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_expect_header at 0x762d20b596c0>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.apply_signing_cache_key of <botocore.utils.S3ExpressIdentityResolver object at 0x762d1ffde090>>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_recursion_detection_header at 0x762d20b58c20>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function inject_api_version_header_if_needed at 0x762d20b5ac00>
DEBUG    botocore.endpoint:endpoint.py:114 Making request for OperationModel(name=ListObjectsV2) with params: {'url_path': '?list-type=2', 'query_string': {'encoding-type': 'url'}, 'method': 'GET', 'headers': {'User-Agent': 'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1'}, 'body': b'', 'auth_path': '/document/', 'url': 'http://localhost:9000/document?list-type=2&encoding-type=url', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x762d215e0690>, 'has_streaming_input': False, 'auth_type': 'v4', 'unsigned_payload': None, 'auth_options': ['aws.auth#sigv4'], 'encoding_type_auto_set': True, 's3_redirect': {'redirected': False, 'bucket': 'document', 'params': {'Bucket': 'document', 'EncodingType': 'url'}}, 'input_params': {'Bucket': 'document'}, 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 'endpoint_properties': {'authSchemes': [{'disableDoubleEncoding': True, 'name': 'sigv4', 'signingName': 's3', 'signingRegion': 'us-east-1'}]}}}
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x762d1fe89450>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x762d1feb3b70>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <function set_operation_specific_signer at 0x762d20b58ea0>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function remove_arn_from_signing_path at 0x762d20b5b740>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function _set_extra_headers_for_unsigned_request at 0x762d20b5bd80>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.resolve_s3express_identity of <botocore.utils.S3ExpressIdentityResolver object at 0x762d1ffde090>>
DEBUG    botocore.auth:auth.py:429 Calculating signature using v4 auth.
DEBUG    botocore.auth:auth.py:430 CanonicalRequest:
GET
/document
encoding-type=url&list-type=2
host:localhost:9000
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20251206T230115Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
DEBUG    botocore.auth:auth.py:432 StringToSign:
AWS4-HMAC-SHA256
20251206T230115Z
20251206/us-east-1/s3/aws4_request
48232d510d72bc722c73c214a04f1cd54b783cf6086bdb2d699ad92408f0dd9e
DEBUG    botocore.auth:auth.py:434 Signature:
8231a9d9aa7692dcbcaa40c1aa81de78a20fde4b9dd7a2dfa11eea695b5d9e6d
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method UserAgentString.rebuild_and_replace_user_agent_handler of <botocore.useragent.UserAgentString object at 0x762d1feb3280>>
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <function add_retry_headers at 0x762d20b5b560>
DEBUG    botocore.endpoint:endpoint.py:263 Sending http request: <AWSPreparedRequest stream_output=False, method=GET, url=http://localhost:9000/document?list-type=2&encoding-type=url, headers={'User-Agent': b'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1', 'X-Amz-Date': b'20251206T230115Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=minioadmin/20251206/us-east-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=8231a9d9aa7692dcbcaa40c1aa81de78a20fde4b9dd7a2dfa11eea695b5d9e6d', 'amz-sdk-invocation-id': b'b7b978d3-8437-4316-8018-2a895ecd341c', 'amz-sdk-request': b'attempt=1'}>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function _handle_200_error at 0x762d20b5bb00>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function handle_expires_header at 0x762d20b5b920>
DEBUG    botocore.parsers:parsers.py:255 Response headers: {'Accept-Ranges': 'bytes', 'Content-Length': '1651', 'Content-Type': 'application/xml', 'Server': 'MinIO', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'Vary': 'Origin, Accept-Encoding', 'X-Amz-Id-2': 'dd9025bab4ad464b049177c95eb6ebf374d3b3fd1af9251148b658df7ac2e3e8', 'X-Amz-Request-Id': '187EC29B180A2C8F', 'X-Content-Type-Options': 'nosniff', 'X-Ratelimit-Limit': '4101', 'X-Ratelimit-Remaining': '4101', 'X-Xss-Protection': '1; mode=block', 'Date': 'Sat, 06 Dec 2025 23:01:15 GMT'}
DEBUG    botocore.parsers:parsers.py:256 Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<ListBucketResult xmlns="http://s3.amazonaws.com/doc/2006-03-01/"><Name>document</Name><Prefix></Prefix><KeyCount>5</KeyCount><MaxKeys>1000</MaxKeys><IsTruncated>false</IsTruncated><Contents><Key>117b0b2c981e75201b42a3f484ce0597efc559bf6d13288eacc4a717fa2fc736/tmpfexropfo_ops2.txt</Key><LastModified>2025-12-06T04:26:08.867Z</LastModified><ETag>&#34;5e0d22fc93f0f5ce7afce9aa02b0bc7d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>61b46b03f15f3c81f3640916be69f1d34fdd8191644e3d689a4c50cb9bc91d23/tmp2fa0p4_o_ops3.txt</Key><LastModified>2025-12-06T04:26:14.608Z</LastModified><ETag>&#34;53cec5e28d6e94a3991483e9dea86cd5&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>c26ae29584f33f4398072bfe9a37f455a85460237adf672922c3c7d928ba99f0/tmptsq137kv_ops0.txt</Key><LastModified>2025-12-06T04:25:59.153Z</LastModified><ETag>&#34;f697ceebb544c3f9ffe7d768f83c059d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>eea2eb3d0912c348f733308b3bc702cb37ef6eb0c96ff6b0c515cd5942a553ec/tmpg0h_zyad.txt</Key><LastModified>2025-12-06T04:29:48.556Z</LastModified><ETag>&#34;a33c5f35dbf2a7336b7535430610e358&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>fae826ba4b154dd6a512b641abf32b71b0ae3050e613292dfe675d6fca935adb/tmpug44129o_ops1.txt</Key><LastModified>2025-12-06T04:26:04.132Z</LastModified><ETag>&#34;01b0c1954a19d5d40136aa728191f1d4&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><EncodingType>url</EncodingType></ListBucketResult>'
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <function _update_status_code at 0x762d20b5bc40>
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <botocore.retryhandler.RetryHandler object at 0x762d1ffdfe30>
DEBUG    botocore.retryhandler:retryhandler.py:211 No retry needed.
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1ffdc2f0>>
DEBUG    botocore.hooks:hooks.py:238 Event after-call.s3.ListObjectsV2: calling handler <function decode_list_object_v2 at 0x762d20b5a8e0>
---------------------------- Captured log teardown -----------------------------
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x762d2105e7b0>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.complete
DEBUG    httpcore.http11:_trace.py:47 send_request_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_body.complete
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Sat, 06 Dec 2025 23:01:26 GMT')])
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.complete
DEBUG    httpcore.http11:_trace.py:47 response_closed.started
DEBUG    httpcore.http11:_trace.py:47 response_closed.complete
DEBUG    httpcore.connection:_trace.py:47 close.started
DEBUG    httpcore.connection:_trace.py:47 close.complete
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function set_list_objects_encoding_type_url at 0x762d20b5a7a0>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function validate_bucket_name at 0x762d20b59300>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function remove_bucket_from_url_paths_from_model at 0x762d20b5b600>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1ffdc2f0>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method ClientCreator._inject_s3_input_parameters of <botocore.client.ClientCreator object at 0x762d1feb3b70>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function generate_idempotent_uuid at 0x762d20b59120>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function _handle_request_validation_mode_member at 0x762d20b5bce0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x762d20b5b7e0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1ffdc2f0>>
DEBUG    botocore.regions:regions.py:506 Calling endpoint provider with parameters: {'Bucket': 'document', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'Endpoint': 'http://localhost:9000', 'ForcePathStyle': True, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
DEBUG    botocore.regions:regions.py:521 Endpoint provider result: http://localhost:9000/document
DEBUG    botocore.regions:regions.py:691 Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
DEBUG    botocore.regions:regions.py:766 Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_expect_header at 0x762d20b596c0>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.apply_signing_cache_key of <botocore.utils.S3ExpressIdentityResolver object at 0x762d1ffde090>>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_recursion_detection_header at 0x762d20b58c20>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function inject_api_version_header_if_needed at 0x762d20b5ac00>
DEBUG    botocore.endpoint:endpoint.py:114 Making request for OperationModel(name=ListObjectsV2) with params: {'url_path': '?list-type=2', 'query_string': {'encoding-type': 'url'}, 'method': 'GET', 'headers': {'User-Agent': 'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1'}, 'body': b'', 'auth_path': '/document/', 'url': 'http://localhost:9000/document?list-type=2&encoding-type=url', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x762d215e0690>, 'has_streaming_input': False, 'auth_type': 'v4', 'unsigned_payload': None, 'auth_options': ['aws.auth#sigv4'], 'encoding_type_auto_set': True, 's3_redirect': {'redirected': False, 'bucket': 'document', 'params': {'Bucket': 'document', 'EncodingType': 'url'}}, 'input_params': {'Bucket': 'document'}, 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 'endpoint_properties': {'authSchemes': [{'disableDoubleEncoding': True, 'name': 'sigv4', 'signingName': 's3', 'signingRegion': 'us-east-1'}]}}}
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x762d1fe89450>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x762d1feb3b70>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <function set_operation_specific_signer at 0x762d20b58ea0>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function remove_arn_from_signing_path at 0x762d20b5b740>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function _set_extra_headers_for_unsigned_request at 0x762d20b5bd80>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.resolve_s3express_identity of <botocore.utils.S3ExpressIdentityResolver object at 0x762d1ffde090>>
DEBUG    botocore.auth:auth.py:429 Calculating signature using v4 auth.
DEBUG    botocore.auth:auth.py:430 CanonicalRequest:
GET
/document
encoding-type=url&list-type=2
host:localhost:9000
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20251206T230126Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
DEBUG    botocore.auth:auth.py:432 StringToSign:
AWS4-HMAC-SHA256
20251206T230126Z
20251206/us-east-1/s3/aws4_request
c470dcd984ced822849fb0fccd2e2c13a931fdebb7af50a19f0ec0cc8aabed47
DEBUG    botocore.auth:auth.py:434 Signature:
1cbd2c714196ec87433f6a21b0792d78eb77f5aa3c8d4bcaeaf06d6f8f6e18ba
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method UserAgentString.rebuild_and_replace_user_agent_handler of <botocore.useragent.UserAgentString object at 0x762d1feb3280>>
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <function add_retry_headers at 0x762d20b5b560>
DEBUG    botocore.endpoint:endpoint.py:263 Sending http request: <AWSPreparedRequest stream_output=False, method=GET, url=http://localhost:9000/document?list-type=2&encoding-type=url, headers={'User-Agent': b'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1', 'X-Amz-Date': b'20251206T230126Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=minioadmin/20251206/us-east-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=1cbd2c714196ec87433f6a21b0792d78eb77f5aa3c8d4bcaeaf06d6f8f6e18ba', 'amz-sdk-invocation-id': b'6c39bf6c-db73-4eb4-a5a8-c046e8c32dde', 'amz-sdk-request': b'attempt=1'}>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function _handle_200_error at 0x762d20b5bb00>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function handle_expires_header at 0x762d20b5b920>
DEBUG    botocore.parsers:parsers.py:255 Response headers: {'Accept-Ranges': 'bytes', 'Content-Length': '1651', 'Content-Type': 'application/xml', 'Server': 'MinIO', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'Vary': 'Origin, Accept-Encoding', 'X-Amz-Id-2': 'dd9025bab4ad464b049177c95eb6ebf374d3b3fd1af9251148b658df7ac2e3e8', 'X-Amz-Request-Id': '187EC29DC4EDF8C2', 'X-Content-Type-Options': 'nosniff', 'X-Ratelimit-Limit': '4101', 'X-Ratelimit-Remaining': '4101', 'X-Xss-Protection': '1; mode=block', 'Date': 'Sat, 06 Dec 2025 23:01:26 GMT'}
DEBUG    botocore.parsers:parsers.py:256 Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<ListBucketResult xmlns="http://s3.amazonaws.com/doc/2006-03-01/"><Name>document</Name><Prefix></Prefix><KeyCount>5</KeyCount><MaxKeys>1000</MaxKeys><IsTruncated>false</IsTruncated><Contents><Key>117b0b2c981e75201b42a3f484ce0597efc559bf6d13288eacc4a717fa2fc736/tmpfexropfo_ops2.txt</Key><LastModified>2025-12-06T04:26:08.867Z</LastModified><ETag>&#34;5e0d22fc93f0f5ce7afce9aa02b0bc7d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>61b46b03f15f3c81f3640916be69f1d34fdd8191644e3d689a4c50cb9bc91d23/tmp2fa0p4_o_ops3.txt</Key><LastModified>2025-12-06T04:26:14.608Z</LastModified><ETag>&#34;53cec5e28d6e94a3991483e9dea86cd5&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>c26ae29584f33f4398072bfe9a37f455a85460237adf672922c3c7d928ba99f0/tmptsq137kv_ops0.txt</Key><LastModified>2025-12-06T04:25:59.153Z</LastModified><ETag>&#34;f697ceebb544c3f9ffe7d768f83c059d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>eea2eb3d0912c348f733308b3bc702cb37ef6eb0c96ff6b0c515cd5942a553ec/tmpg0h_zyad.txt</Key><LastModified>2025-12-06T04:29:48.556Z</LastModified><ETag>&#34;a33c5f35dbf2a7336b7535430610e358&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>fae826ba4b154dd6a512b641abf32b71b0ae3050e613292dfe675d6fca935adb/tmpug44129o_ops1.txt</Key><LastModified>2025-12-06T04:26:04.132Z</LastModified><ETag>&#34;01b0c1954a19d5d40136aa728191f1d4&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><EncodingType>url</EncodingType></ListBucketResult>'
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <function _update_status_code at 0x762d20b5bc40>
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <botocore.retryhandler.RetryHandler object at 0x762d1ffdfe30>
DEBUG    botocore.retryhandler:retryhandler.py:211 No retry needed.
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1ffdc2f0>>
DEBUG    botocore.hooks:hooks.py:238 Event after-call.s3.ListObjectsV2: calling handler <function decode_list_object_v2 at 0x762d20b5a8e0>
____ TestRAGConfigCombinations.test_graph_spacy_dependency_dummy_clustering ____

self = <e2e.cli.test_rag_combinations.TestRAGConfigCombinations object at 0x762d3bbdca10>

    def test_graph_spacy_dependency_dummy_clustering(self):
        """Test graph RAG with dummy clustering."""
        result = subprocess.run(
            [sys.executable, "-m", "src.cli", "default-rag-config", "new"],
            input="graph\nspacy\ndependency-parsing\ndummy\n",
            capture_output=True,
            text=True,
        )
>       assert result.returncode == 0
E       assert 1 == 0
E        +  where 1 = CompletedProcess(args=['/home/nate/.cache/pypoetry/virtualenvs/insighthub-G9Cf3wlO-py3.13/bin/python', '-m', 'src.cli', 'default-rag-config', 'new'], returncode=1, stdout='\nAvailable RAG types:\n  - vector: Traditional vector similarity search with embeddings\n  - graph: Knowledge graph-based retrieval with entity relationships\n\nRAG type [vector]: \nAvailable entity extraction algorithms:\n  - spacy: spaCy NLP-based entity extraction\n  - llm: Use LLM to extract entities\n\nAvailable relationship extraction algorithms:\n  - dependency-parsing: Parse grammatical dependencies to extract relationships\n  - llm: Use LLM to extract relationships\n\nAvailable clustering algorithms:\n  - leiden: Leiden community detection algorithm\n  - louvain: Louvain community detection algorithm\n\nEntity extraction algorithm [spacy]: Relationship extraction algorithm [dependency-parsing]: Clustering algorithm [leiden]: ', stderr="Error: Invalid clustering algorithm 'dummy'\n").returncode

tests/e2e/cli/test_rag_combinations.py:207: AssertionError
------------------------------ Captured log setup ------------------------------
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x762d200187d0>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.complete
DEBUG    httpcore.http11:_trace.py:47 send_request_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_body.complete
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Sat, 06 Dec 2025 23:01:26 GMT')])
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.complete
DEBUG    httpcore.http11:_trace.py:47 response_closed.started
DEBUG    httpcore.http11:_trace.py:47 response_closed.complete
DEBUG    httpcore.connection:_trace.py:47 close.started
DEBUG    httpcore.connection:_trace.py:47 close.complete
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x762d1ff34a50>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.complete
DEBUG    httpcore.http11:_trace.py:47 send_request_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_body.complete
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Sat, 06 Dec 2025 23:01:26 GMT')])
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.complete
DEBUG    httpcore.http11:_trace.py:47 response_closed.started
DEBUG    httpcore.http11:_trace.py:47 response_closed.complete
DEBUG    httpcore.connection:_trace.py:47 close.started
DEBUG    httpcore.connection:_trace.py:47 close.complete
DEBUG    botocore.hooks:hooks.py:238 Event choose-service-name: calling handler <function handle_service_name_alias at 0x762d20b58360>
DEBUG    botocore.hooks:hooks.py:238 Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x762d20cb2de0>
DEBUG    botocore.hooks:hooks.py:238 Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x762d20be2520>
DEBUG    botocore.hooks:hooks.py:238 Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x762d20cb2b60>
DEBUG    botocore.endpoint:endpoint.py:414 Setting s3 timeout as (60, 60)
DEBUG    botocore.client:client.py:286 Registering retry handlers for service: s3
DEBUG    botocore.utils:utils.py:1747 Registering S3 region redirector handler
DEBUG    botocore.utils:utils.py:1695 Registering S3Express Identity Resolver
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function set_list_objects_encoding_type_url at 0x762d20b5a7a0>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function validate_bucket_name at 0x762d20b59300>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function remove_bucket_from_url_paths_from_model at 0x762d20b5b600>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fdff0b0>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method ClientCreator._inject_s3_input_parameters of <botocore.client.ClientCreator object at 0x762d1feb3070>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function generate_idempotent_uuid at 0x762d20b59120>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function _handle_request_validation_mode_member at 0x762d20b5bce0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x762d20b5b7e0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fdff0b0>>
DEBUG    botocore.regions:regions.py:506 Calling endpoint provider with parameters: {'Bucket': 'document', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'Endpoint': 'http://localhost:9000', 'ForcePathStyle': True, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
DEBUG    botocore.regions:regions.py:521 Endpoint provider result: http://localhost:9000/document
DEBUG    botocore.regions:regions.py:691 Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
DEBUG    botocore.regions:regions.py:766 Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_expect_header at 0x762d20b596c0>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.apply_signing_cache_key of <botocore.utils.S3ExpressIdentityResolver object at 0x762d1fdffe30>>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_recursion_detection_header at 0x762d20b58c20>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function inject_api_version_header_if_needed at 0x762d20b5ac00>
DEBUG    botocore.endpoint:endpoint.py:114 Making request for OperationModel(name=ListObjectsV2) with params: {'url_path': '?list-type=2', 'query_string': {'encoding-type': 'url'}, 'method': 'GET', 'headers': {'User-Agent': 'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1'}, 'body': b'', 'auth_path': '/document/', 'url': 'http://localhost:9000/document?list-type=2&encoding-type=url', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x762d3af06d50>, 'has_streaming_input': False, 'auth_type': 'v4', 'unsigned_payload': None, 'auth_options': ['aws.auth#sigv4'], 'encoding_type_auto_set': True, 's3_redirect': {'redirected': False, 'bucket': 'document', 'params': {'Bucket': 'document', 'EncodingType': 'url'}}, 'input_params': {'Bucket': 'document'}, 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 'endpoint_properties': {'authSchemes': [{'disableDoubleEncoding': True, 'name': 'sigv4', 'signingName': 's3', 'signingRegion': 'us-east-1'}]}}}
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x762d1ff9afd0>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x762d1feb3070>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <function set_operation_specific_signer at 0x762d20b58ea0>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function remove_arn_from_signing_path at 0x762d20b5b740>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function _set_extra_headers_for_unsigned_request at 0x762d20b5bd80>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.resolve_s3express_identity of <botocore.utils.S3ExpressIdentityResolver object at 0x762d1fdffe30>>
DEBUG    botocore.auth:auth.py:429 Calculating signature using v4 auth.
DEBUG    botocore.auth:auth.py:430 CanonicalRequest:
GET
/document
encoding-type=url&list-type=2
host:localhost:9000
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20251206T230126Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
DEBUG    botocore.auth:auth.py:432 StringToSign:
AWS4-HMAC-SHA256
20251206T230126Z
20251206/us-east-1/s3/aws4_request
c470dcd984ced822849fb0fccd2e2c13a931fdebb7af50a19f0ec0cc8aabed47
DEBUG    botocore.auth:auth.py:434 Signature:
1cbd2c714196ec87433f6a21b0792d78eb77f5aa3c8d4bcaeaf06d6f8f6e18ba
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method UserAgentString.rebuild_and_replace_user_agent_handler of <botocore.useragent.UserAgentString object at 0x762d1feb3ee0>>
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <function add_retry_headers at 0x762d20b5b560>
DEBUG    botocore.endpoint:endpoint.py:263 Sending http request: <AWSPreparedRequest stream_output=False, method=GET, url=http://localhost:9000/document?list-type=2&encoding-type=url, headers={'User-Agent': b'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1', 'X-Amz-Date': b'20251206T230126Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=minioadmin/20251206/us-east-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=1cbd2c714196ec87433f6a21b0792d78eb77f5aa3c8d4bcaeaf06d6f8f6e18ba', 'amz-sdk-invocation-id': b'b75d3c74-91fb-4535-8e0a-da1436cafdef', 'amz-sdk-request': b'attempt=1'}>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function _handle_200_error at 0x762d20b5bb00>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function handle_expires_header at 0x762d20b5b920>
DEBUG    botocore.parsers:parsers.py:255 Response headers: {'Accept-Ranges': 'bytes', 'Content-Length': '1651', 'Content-Type': 'application/xml', 'Server': 'MinIO', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'Vary': 'Origin, Accept-Encoding', 'X-Amz-Id-2': 'dd9025bab4ad464b049177c95eb6ebf374d3b3fd1af9251148b658df7ac2e3e8', 'X-Amz-Request-Id': '187EC29DCA3EC057', 'X-Content-Type-Options': 'nosniff', 'X-Ratelimit-Limit': '4101', 'X-Ratelimit-Remaining': '4101', 'X-Xss-Protection': '1; mode=block', 'Date': 'Sat, 06 Dec 2025 23:01:26 GMT'}
DEBUG    botocore.parsers:parsers.py:256 Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<ListBucketResult xmlns="http://s3.amazonaws.com/doc/2006-03-01/"><Name>document</Name><Prefix></Prefix><KeyCount>5</KeyCount><MaxKeys>1000</MaxKeys><IsTruncated>false</IsTruncated><Contents><Key>117b0b2c981e75201b42a3f484ce0597efc559bf6d13288eacc4a717fa2fc736/tmpfexropfo_ops2.txt</Key><LastModified>2025-12-06T04:26:08.867Z</LastModified><ETag>&#34;5e0d22fc93f0f5ce7afce9aa02b0bc7d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>61b46b03f15f3c81f3640916be69f1d34fdd8191644e3d689a4c50cb9bc91d23/tmp2fa0p4_o_ops3.txt</Key><LastModified>2025-12-06T04:26:14.608Z</LastModified><ETag>&#34;53cec5e28d6e94a3991483e9dea86cd5&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>c26ae29584f33f4398072bfe9a37f455a85460237adf672922c3c7d928ba99f0/tmptsq137kv_ops0.txt</Key><LastModified>2025-12-06T04:25:59.153Z</LastModified><ETag>&#34;f697ceebb544c3f9ffe7d768f83c059d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>eea2eb3d0912c348f733308b3bc702cb37ef6eb0c96ff6b0c515cd5942a553ec/tmpg0h_zyad.txt</Key><LastModified>2025-12-06T04:29:48.556Z</LastModified><ETag>&#34;a33c5f35dbf2a7336b7535430610e358&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>fae826ba4b154dd6a512b641abf32b71b0ae3050e613292dfe675d6fca935adb/tmpug44129o_ops1.txt</Key><LastModified>2025-12-06T04:26:04.132Z</LastModified><ETag>&#34;01b0c1954a19d5d40136aa728191f1d4&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><EncodingType>url</EncodingType></ListBucketResult>'
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <function _update_status_code at 0x762d20b5bc40>
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <botocore.retryhandler.RetryHandler object at 0x762d1fdfcbf0>
DEBUG    botocore.retryhandler:retryhandler.py:211 No retry needed.
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fdff0b0>>
DEBUG    botocore.hooks:hooks.py:238 Event after-call.s3.ListObjectsV2: calling handler <function decode_list_object_v2 at 0x762d20b5a8e0>
---------------------------- Captured log teardown -----------------------------
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x762d1fdf6620>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.complete
DEBUG    httpcore.http11:_trace.py:47 send_request_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_body.complete
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'content-type', b'application/json'), (b'date', b'Sat, 06 Dec 2025 23:01:33 GMT')])
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.complete
DEBUG    httpcore.http11:_trace.py:47 response_closed.started
DEBUG    httpcore.http11:_trace.py:47 response_closed.complete
DEBUG    httpcore.connection:_trace.py:47 close.started
DEBUG    httpcore.connection:_trace.py:47 close.complete
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function set_list_objects_encoding_type_url at 0x762d20b5a7a0>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function validate_bucket_name at 0x762d20b59300>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function remove_bucket_from_url_paths_from_model at 0x762d20b5b600>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fdff0b0>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method ClientCreator._inject_s3_input_parameters of <botocore.client.ClientCreator object at 0x762d1feb3070>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function generate_idempotent_uuid at 0x762d20b59120>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function _handle_request_validation_mode_member at 0x762d20b5bce0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x762d20b5b7e0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fdff0b0>>
DEBUG    botocore.regions:regions.py:506 Calling endpoint provider with parameters: {'Bucket': 'document', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'Endpoint': 'http://localhost:9000', 'ForcePathStyle': True, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
DEBUG    botocore.regions:regions.py:521 Endpoint provider result: http://localhost:9000/document
DEBUG    botocore.regions:regions.py:691 Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
DEBUG    botocore.regions:regions.py:766 Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_expect_header at 0x762d20b596c0>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.apply_signing_cache_key of <botocore.utils.S3ExpressIdentityResolver object at 0x762d1fdffe30>>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_recursion_detection_header at 0x762d20b58c20>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function inject_api_version_header_if_needed at 0x762d20b5ac00>
DEBUG    botocore.endpoint:endpoint.py:114 Making request for OperationModel(name=ListObjectsV2) with params: {'url_path': '?list-type=2', 'query_string': {'encoding-type': 'url'}, 'method': 'GET', 'headers': {'User-Agent': 'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1'}, 'body': b'', 'auth_path': '/document/', 'url': 'http://localhost:9000/document?list-type=2&encoding-type=url', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x762d3af06d50>, 'has_streaming_input': False, 'auth_type': 'v4', 'unsigned_payload': None, 'auth_options': ['aws.auth#sigv4'], 'encoding_type_auto_set': True, 's3_redirect': {'redirected': False, 'bucket': 'document', 'params': {'Bucket': 'document', 'EncodingType': 'url'}}, 'input_params': {'Bucket': 'document'}, 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 'endpoint_properties': {'authSchemes': [{'disableDoubleEncoding': True, 'name': 'sigv4', 'signingName': 's3', 'signingRegion': 'us-east-1'}]}}}
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x762d1ff9afd0>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x762d1feb3070>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <function set_operation_specific_signer at 0x762d20b58ea0>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function remove_arn_from_signing_path at 0x762d20b5b740>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function _set_extra_headers_for_unsigned_request at 0x762d20b5bd80>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.resolve_s3express_identity of <botocore.utils.S3ExpressIdentityResolver object at 0x762d1fdffe30>>
DEBUG    botocore.auth:auth.py:429 Calculating signature using v4 auth.
DEBUG    botocore.auth:auth.py:430 CanonicalRequest:
GET
/document
encoding-type=url&list-type=2
host:localhost:9000
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20251206T230134Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
DEBUG    botocore.auth:auth.py:432 StringToSign:
AWS4-HMAC-SHA256
20251206T230134Z
20251206/us-east-1/s3/aws4_request
1d3ae8e9966a22ddd8bb4e903fdb1f381fa9adf4115ed4f2d523ccf0313e33fe
DEBUG    botocore.auth:auth.py:434 Signature:
8623c15d38199f8596d9580fb09ca1f552a9303cfb20817f47b475fa8e5b050b
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method UserAgentString.rebuild_and_replace_user_agent_handler of <botocore.useragent.UserAgentString object at 0x762d1feb3ee0>>
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <function add_retry_headers at 0x762d20b5b560>
DEBUG    botocore.endpoint:endpoint.py:263 Sending http request: <AWSPreparedRequest stream_output=False, method=GET, url=http://localhost:9000/document?list-type=2&encoding-type=url, headers={'User-Agent': b'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1', 'X-Amz-Date': b'20251206T230134Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=minioadmin/20251206/us-east-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=8623c15d38199f8596d9580fb09ca1f552a9303cfb20817f47b475fa8e5b050b', 'amz-sdk-invocation-id': b'0e1466bf-d751-4c70-8411-e5de301c866f', 'amz-sdk-request': b'attempt=1'}>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function _handle_200_error at 0x762d20b5bb00>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function handle_expires_header at 0x762d20b5b920>
DEBUG    botocore.parsers:parsers.py:255 Response headers: {'Accept-Ranges': 'bytes', 'Content-Length': '1651', 'Content-Type': 'application/xml', 'Server': 'MinIO', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'Vary': 'Origin, Accept-Encoding', 'X-Amz-Id-2': 'dd9025bab4ad464b049177c95eb6ebf374d3b3fd1af9251148b658df7ac2e3e8', 'X-Amz-Request-Id': '187EC29F7D24D0EB', 'X-Content-Type-Options': 'nosniff', 'X-Ratelimit-Limit': '4101', 'X-Ratelimit-Remaining': '4101', 'X-Xss-Protection': '1; mode=block', 'Date': 'Sat, 06 Dec 2025 23:01:34 GMT'}
DEBUG    botocore.parsers:parsers.py:256 Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<ListBucketResult xmlns="http://s3.amazonaws.com/doc/2006-03-01/"><Name>document</Name><Prefix></Prefix><KeyCount>5</KeyCount><MaxKeys>1000</MaxKeys><IsTruncated>false</IsTruncated><Contents><Key>117b0b2c981e75201b42a3f484ce0597efc559bf6d13288eacc4a717fa2fc736/tmpfexropfo_ops2.txt</Key><LastModified>2025-12-06T04:26:08.867Z</LastModified><ETag>&#34;5e0d22fc93f0f5ce7afce9aa02b0bc7d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>61b46b03f15f3c81f3640916be69f1d34fdd8191644e3d689a4c50cb9bc91d23/tmp2fa0p4_o_ops3.txt</Key><LastModified>2025-12-06T04:26:14.608Z</LastModified><ETag>&#34;53cec5e28d6e94a3991483e9dea86cd5&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>c26ae29584f33f4398072bfe9a37f455a85460237adf672922c3c7d928ba99f0/tmptsq137kv_ops0.txt</Key><LastModified>2025-12-06T04:25:59.153Z</LastModified><ETag>&#34;f697ceebb544c3f9ffe7d768f83c059d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>eea2eb3d0912c348f733308b3bc702cb37ef6eb0c96ff6b0c515cd5942a553ec/tmpg0h_zyad.txt</Key><LastModified>2025-12-06T04:29:48.556Z</LastModified><ETag>&#34;a33c5f35dbf2a7336b7535430610e358&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>fae826ba4b154dd6a512b641abf32b71b0ae3050e613292dfe675d6fca935adb/tmpug44129o_ops1.txt</Key><LastModified>2025-12-06T04:26:04.132Z</LastModified><ETag>&#34;01b0c1954a19d5d40136aa728191f1d4&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><EncodingType>url</EncodingType></ListBucketResult>'
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <function _update_status_code at 0x762d20b5bc40>
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <botocore.retryhandler.RetryHandler object at 0x762d1fdfcbf0>
DEBUG    botocore.retryhandler:retryhandler.py:211 No retry needed.
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fdff0b0>>
DEBUG    botocore.hooks:hooks.py:238 Event after-call.s3.ListObjectsV2: calling handler <function decode_list_object_v2 at 0x762d20b5a8e0>
________________ TestRAGConfigCombinations.test_graph_all_dummy ________________

self = <e2e.cli.test_rag_combinations.TestRAGConfigCombinations object at 0x762d3bb46ed0>

    def test_graph_all_dummy(self):
        """Test graph RAG with all dummy algorithms."""
        result = subprocess.run(
            [sys.executable, "-m", "src.cli", "default-rag-config", "new"],
            input="graph\ndummy\ndummy\ndummy\n",
            capture_output=True,
            text=True,
        )
>       assert result.returncode == 0
E       assert 1 == 0
E        +  where 1 = CompletedProcess(args=['/home/nate/.cache/pypoetry/virtualenvs/insighthub-G9Cf3wlO-py3.13/bin/python', '-m', 'src.cli', 'default-rag-config', 'new'], returncode=1, stdout='\nAvailable RAG types:\n  - vector: Traditional vector similarity search with embeddings\n  - graph: Knowledge graph-based retrieval with entity relationships\n\nRAG type [vector]: \nAvailable entity extraction algorithms:\n  - spacy: spaCy NLP-based entity extraction\n  - llm: Use LLM to extract entities\n\nAvailable relationship extraction algorithms:\n  - dependency-parsing: Parse grammatical dependencies to extract relationships\n  - llm: Use LLM to extract relationships\n\nAvailable clustering algorithms:\n  - leiden: Leiden community detection algorithm\n  - louvain: Louvain community detection algorithm\n\nEntity extraction algorithm [spacy]: Relationship extraction algorithm [dependency-parsing]: Clustering algorithm [leiden]: ', stderr="Error: Invalid entity extraction algorithm 'dummy'\n").returncode

tests/e2e/cli/test_rag_combinations.py:221: AssertionError
------------------------------ Captured log setup ------------------------------
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x762d2027bcf0>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.complete
DEBUG    httpcore.http11:_trace.py:47 send_request_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_body.complete
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'content-encoding', b'gzip'), (b'content-type', b'application/json'), (b'date', b'Sat, 06 Dec 2025 23:01:33 GMT')])
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.complete
DEBUG    httpcore.http11:_trace.py:47 response_closed.started
DEBUG    httpcore.http11:_trace.py:47 response_closed.complete
DEBUG    httpcore.connection:_trace.py:47 close.started
DEBUG    httpcore.connection:_trace.py:47 close.complete
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x762d1fcfcfa0>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.complete
DEBUG    httpcore.http11:_trace.py:47 send_request_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_body.complete
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'content-encoding', b'gzip'), (b'date', b'Sat, 06 Dec 2025 23:01:33 GMT')])
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.complete
DEBUG    httpcore.http11:_trace.py:47 response_closed.started
DEBUG    httpcore.http11:_trace.py:47 response_closed.complete
DEBUG    httpcore.connection:_trace.py:47 close.started
DEBUG    httpcore.connection:_trace.py:47 close.complete
DEBUG    botocore.hooks:hooks.py:238 Event choose-service-name: calling handler <function handle_service_name_alias at 0x762d20b58360>
DEBUG    botocore.hooks:hooks.py:238 Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x762d20cb2de0>
DEBUG    botocore.hooks:hooks.py:238 Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x762d20be2520>
DEBUG    botocore.hooks:hooks.py:238 Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x762d20cb2b60>
DEBUG    botocore.endpoint:endpoint.py:414 Setting s3 timeout as (60, 60)
DEBUG    botocore.client:client.py:286 Registering retry handlers for service: s3
DEBUG    botocore.utils:utils.py:1747 Registering S3 region redirector handler
DEBUG    botocore.utils:utils.py:1695 Registering S3Express Identity Resolver
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function set_list_objects_encoding_type_url at 0x762d20b5a7a0>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function validate_bucket_name at 0x762d20b59300>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function remove_bucket_from_url_paths_from_model at 0x762d20b5b600>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x762d2009a990>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method ClientCreator._inject_s3_input_parameters of <botocore.client.ClientCreator object at 0x762d1feb3280>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function generate_idempotent_uuid at 0x762d20b59120>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function _handle_request_validation_mode_member at 0x762d20b5bce0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x762d20b5b7e0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x762d2009a990>>
DEBUG    botocore.regions:regions.py:506 Calling endpoint provider with parameters: {'Bucket': 'document', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'Endpoint': 'http://localhost:9000', 'ForcePathStyle': True, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
DEBUG    botocore.regions:regions.py:521 Endpoint provider result: http://localhost:9000/document
DEBUG    botocore.regions:regions.py:691 Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
DEBUG    botocore.regions:regions.py:766 Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_expect_header at 0x762d20b596c0>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.apply_signing_cache_key of <botocore.utils.S3ExpressIdentityResolver object at 0x762d20099550>>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_recursion_detection_header at 0x762d20b58c20>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function inject_api_version_header_if_needed at 0x762d20b5ac00>
DEBUG    botocore.endpoint:endpoint.py:114 Making request for OperationModel(name=ListObjectsV2) with params: {'url_path': '?list-type=2', 'query_string': {'encoding-type': 'url'}, 'method': 'GET', 'headers': {'User-Agent': 'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1'}, 'body': b'', 'auth_path': '/document/', 'url': 'http://localhost:9000/document?list-type=2&encoding-type=url', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x762d215e0690>, 'has_streaming_input': False, 'auth_type': 'v4', 'unsigned_payload': None, 'auth_options': ['aws.auth#sigv4'], 'encoding_type_auto_set': True, 's3_redirect': {'redirected': False, 'bucket': 'document', 'params': {'Bucket': 'document', 'EncodingType': 'url'}}, 'input_params': {'Bucket': 'document'}, 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 'endpoint_properties': {'authSchemes': [{'disableDoubleEncoding': True, 'name': 'sigv4', 'signingName': 's3', 'signingRegion': 'us-east-1'}]}}}
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x762d1ff890d0>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x762d1feb3280>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <function set_operation_specific_signer at 0x762d20b58ea0>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function remove_arn_from_signing_path at 0x762d20b5b740>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function _set_extra_headers_for_unsigned_request at 0x762d20b5bd80>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.resolve_s3express_identity of <botocore.utils.S3ExpressIdentityResolver object at 0x762d20099550>>
DEBUG    botocore.auth:auth.py:429 Calculating signature using v4 auth.
DEBUG    botocore.auth:auth.py:430 CanonicalRequest:
GET
/document
encoding-type=url&list-type=2
host:localhost:9000
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20251206T230134Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
DEBUG    botocore.auth:auth.py:432 StringToSign:
AWS4-HMAC-SHA256
20251206T230134Z
20251206/us-east-1/s3/aws4_request
1d3ae8e9966a22ddd8bb4e903fdb1f381fa9adf4115ed4f2d523ccf0313e33fe
DEBUG    botocore.auth:auth.py:434 Signature:
8623c15d38199f8596d9580fb09ca1f552a9303cfb20817f47b475fa8e5b050b
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method UserAgentString.rebuild_and_replace_user_agent_handler of <botocore.useragent.UserAgentString object at 0x762d1fe324c0>>
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <function add_retry_headers at 0x762d20b5b560>
DEBUG    botocore.endpoint:endpoint.py:263 Sending http request: <AWSPreparedRequest stream_output=False, method=GET, url=http://localhost:9000/document?list-type=2&encoding-type=url, headers={'User-Agent': b'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1', 'X-Amz-Date': b'20251206T230134Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=minioadmin/20251206/us-east-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=8623c15d38199f8596d9580fb09ca1f552a9303cfb20817f47b475fa8e5b050b', 'amz-sdk-invocation-id': b'1b6e12cd-ec61-4cc8-ba8e-d368d96ecd60', 'amz-sdk-request': b'attempt=1'}>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function _handle_200_error at 0x762d20b5bb00>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function handle_expires_header at 0x762d20b5b920>
DEBUG    botocore.parsers:parsers.py:255 Response headers: {'Accept-Ranges': 'bytes', 'Content-Length': '1651', 'Content-Type': 'application/xml', 'Server': 'MinIO', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'Vary': 'Origin, Accept-Encoding', 'X-Amz-Id-2': 'dd9025bab4ad464b049177c95eb6ebf374d3b3fd1af9251148b658df7ac2e3e8', 'X-Amz-Request-Id': '187EC29F813364D2', 'X-Content-Type-Options': 'nosniff', 'X-Ratelimit-Limit': '4101', 'X-Ratelimit-Remaining': '4101', 'X-Xss-Protection': '1; mode=block', 'Date': 'Sat, 06 Dec 2025 23:01:34 GMT'}
DEBUG    botocore.parsers:parsers.py:256 Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<ListBucketResult xmlns="http://s3.amazonaws.com/doc/2006-03-01/"><Name>document</Name><Prefix></Prefix><KeyCount>5</KeyCount><MaxKeys>1000</MaxKeys><IsTruncated>false</IsTruncated><Contents><Key>117b0b2c981e75201b42a3f484ce0597efc559bf6d13288eacc4a717fa2fc736/tmpfexropfo_ops2.txt</Key><LastModified>2025-12-06T04:26:08.867Z</LastModified><ETag>&#34;5e0d22fc93f0f5ce7afce9aa02b0bc7d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>61b46b03f15f3c81f3640916be69f1d34fdd8191644e3d689a4c50cb9bc91d23/tmp2fa0p4_o_ops3.txt</Key><LastModified>2025-12-06T04:26:14.608Z</LastModified><ETag>&#34;53cec5e28d6e94a3991483e9dea86cd5&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>c26ae29584f33f4398072bfe9a37f455a85460237adf672922c3c7d928ba99f0/tmptsq137kv_ops0.txt</Key><LastModified>2025-12-06T04:25:59.153Z</LastModified><ETag>&#34;f697ceebb544c3f9ffe7d768f83c059d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>eea2eb3d0912c348f733308b3bc702cb37ef6eb0c96ff6b0c515cd5942a553ec/tmpg0h_zyad.txt</Key><LastModified>2025-12-06T04:29:48.556Z</LastModified><ETag>&#34;a33c5f35dbf2a7336b7535430610e358&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>fae826ba4b154dd6a512b641abf32b71b0ae3050e613292dfe675d6fca935adb/tmpug44129o_ops1.txt</Key><LastModified>2025-12-06T04:26:04.132Z</LastModified><ETag>&#34;01b0c1954a19d5d40136aa728191f1d4&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><EncodingType>url</EncodingType></ListBucketResult>'
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <function _update_status_code at 0x762d20b5bc40>
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <botocore.retryhandler.RetryHandler object at 0x762d2009aff0>
DEBUG    botocore.retryhandler:retryhandler.py:211 No retry needed.
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x762d2009a990>>
DEBUG    botocore.hooks:hooks.py:238 Event after-call.s3.ListObjectsV2: calling handler <function decode_list_object_v2 at 0x762d20b5a8e0>
---------------------------- Captured log teardown -----------------------------
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x762d1fdf7cf0>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.complete
DEBUG    httpcore.http11:_trace.py:47 send_request_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_body.complete
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Sat, 06 Dec 2025 23:01:42 GMT')])
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.complete
DEBUG    httpcore.http11:_trace.py:47 response_closed.started
DEBUG    httpcore.http11:_trace.py:47 response_closed.complete
DEBUG    httpcore.connection:_trace.py:47 close.started
DEBUG    httpcore.connection:_trace.py:47 close.complete
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function set_list_objects_encoding_type_url at 0x762d20b5a7a0>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function validate_bucket_name at 0x762d20b59300>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function remove_bucket_from_url_paths_from_model at 0x762d20b5b600>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x762d2009a990>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method ClientCreator._inject_s3_input_parameters of <botocore.client.ClientCreator object at 0x762d1feb3280>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function generate_idempotent_uuid at 0x762d20b59120>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function _handle_request_validation_mode_member at 0x762d20b5bce0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x762d20b5b7e0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x762d2009a990>>
DEBUG    botocore.regions:regions.py:506 Calling endpoint provider with parameters: {'Bucket': 'document', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'Endpoint': 'http://localhost:9000', 'ForcePathStyle': True, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
DEBUG    botocore.regions:regions.py:521 Endpoint provider result: http://localhost:9000/document
DEBUG    botocore.regions:regions.py:691 Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
DEBUG    botocore.regions:regions.py:766 Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_expect_header at 0x762d20b596c0>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.apply_signing_cache_key of <botocore.utils.S3ExpressIdentityResolver object at 0x762d20099550>>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_recursion_detection_header at 0x762d20b58c20>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function inject_api_version_header_if_needed at 0x762d20b5ac00>
DEBUG    botocore.endpoint:endpoint.py:114 Making request for OperationModel(name=ListObjectsV2) with params: {'url_path': '?list-type=2', 'query_string': {'encoding-type': 'url'}, 'method': 'GET', 'headers': {'User-Agent': 'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1'}, 'body': b'', 'auth_path': '/document/', 'url': 'http://localhost:9000/document?list-type=2&encoding-type=url', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x762d215e0690>, 'has_streaming_input': False, 'auth_type': 'v4', 'unsigned_payload': None, 'auth_options': ['aws.auth#sigv4'], 'encoding_type_auto_set': True, 's3_redirect': {'redirected': False, 'bucket': 'document', 'params': {'Bucket': 'document', 'EncodingType': 'url'}}, 'input_params': {'Bucket': 'document'}, 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 'endpoint_properties': {'authSchemes': [{'disableDoubleEncoding': True, 'name': 'sigv4', 'signingName': 's3', 'signingRegion': 'us-east-1'}]}}}
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x762d1ff890d0>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x762d1feb3280>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <function set_operation_specific_signer at 0x762d20b58ea0>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function remove_arn_from_signing_path at 0x762d20b5b740>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function _set_extra_headers_for_unsigned_request at 0x762d20b5bd80>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.resolve_s3express_identity of <botocore.utils.S3ExpressIdentityResolver object at 0x762d20099550>>
DEBUG    botocore.auth:auth.py:429 Calculating signature using v4 auth.
DEBUG    botocore.auth:auth.py:430 CanonicalRequest:
GET
/document
encoding-type=url&list-type=2
host:localhost:9000
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20251206T230143Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
DEBUG    botocore.auth:auth.py:432 StringToSign:
AWS4-HMAC-SHA256
20251206T230143Z
20251206/us-east-1/s3/aws4_request
4987182ec098be19d0202980ff45685aedd255f5c7337d1d5f56699eb386abd5
DEBUG    botocore.auth:auth.py:434 Signature:
ceb51f1635735d41640a97989593469a90123273808126e6653dbfd3c3ec6ab4
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method UserAgentString.rebuild_and_replace_user_agent_handler of <botocore.useragent.UserAgentString object at 0x762d1fe324c0>>
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <function add_retry_headers at 0x762d20b5b560>
DEBUG    botocore.endpoint:endpoint.py:263 Sending http request: <AWSPreparedRequest stream_output=False, method=GET, url=http://localhost:9000/document?list-type=2&encoding-type=url, headers={'User-Agent': b'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1', 'X-Amz-Date': b'20251206T230143Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=minioadmin/20251206/us-east-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=ceb51f1635735d41640a97989593469a90123273808126e6653dbfd3c3ec6ab4', 'amz-sdk-invocation-id': b'53547231-9472-44f0-ad29-5cba3650cf83', 'amz-sdk-request': b'attempt=1'}>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function _handle_200_error at 0x762d20b5bb00>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function handle_expires_header at 0x762d20b5b920>
DEBUG    botocore.parsers:parsers.py:255 Response headers: {'Accept-Ranges': 'bytes', 'Content-Length': '1651', 'Content-Type': 'application/xml', 'Server': 'MinIO', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'Vary': 'Origin, Accept-Encoding', 'X-Amz-Id-2': 'dd9025bab4ad464b049177c95eb6ebf374d3b3fd1af9251148b658df7ac2e3e8', 'X-Amz-Request-Id': '187EC2A18ED7D88B', 'X-Content-Type-Options': 'nosniff', 'X-Ratelimit-Limit': '4101', 'X-Ratelimit-Remaining': '4101', 'X-Xss-Protection': '1; mode=block', 'Date': 'Sat, 06 Dec 2025 23:01:43 GMT'}
DEBUG    botocore.parsers:parsers.py:256 Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<ListBucketResult xmlns="http://s3.amazonaws.com/doc/2006-03-01/"><Name>document</Name><Prefix></Prefix><KeyCount>5</KeyCount><MaxKeys>1000</MaxKeys><IsTruncated>false</IsTruncated><Contents><Key>117b0b2c981e75201b42a3f484ce0597efc559bf6d13288eacc4a717fa2fc736/tmpfexropfo_ops2.txt</Key><LastModified>2025-12-06T04:26:08.867Z</LastModified><ETag>&#34;5e0d22fc93f0f5ce7afce9aa02b0bc7d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>61b46b03f15f3c81f3640916be69f1d34fdd8191644e3d689a4c50cb9bc91d23/tmp2fa0p4_o_ops3.txt</Key><LastModified>2025-12-06T04:26:14.608Z</LastModified><ETag>&#34;53cec5e28d6e94a3991483e9dea86cd5&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>c26ae29584f33f4398072bfe9a37f455a85460237adf672922c3c7d928ba99f0/tmptsq137kv_ops0.txt</Key><LastModified>2025-12-06T04:25:59.153Z</LastModified><ETag>&#34;f697ceebb544c3f9ffe7d768f83c059d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>eea2eb3d0912c348f733308b3bc702cb37ef6eb0c96ff6b0c515cd5942a553ec/tmpg0h_zyad.txt</Key><LastModified>2025-12-06T04:29:48.556Z</LastModified><ETag>&#34;a33c5f35dbf2a7336b7535430610e358&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>fae826ba4b154dd6a512b641abf32b71b0ae3050e613292dfe675d6fca935adb/tmpug44129o_ops1.txt</Key><LastModified>2025-12-06T04:26:04.132Z</LastModified><ETag>&#34;01b0c1954a19d5d40136aa728191f1d4&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><EncodingType>url</EncodingType></ListBucketResult>'
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <function _update_status_code at 0x762d20b5bc40>
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <botocore.retryhandler.RetryHandler object at 0x762d2009aff0>
DEBUG    botocore.retryhandler:retryhandler.py:211 No retry needed.
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x762d2009a990>>
DEBUG    botocore.hooks:hooks.py:238 Event after-call.s3.ListObjectsV2: calling handler <function decode_list_object_v2 at 0x762d20b5a8e0>
____________ TestRAGConfigCombinations.test_multiple_config_updates ____________

self = <e2e.cli.test_rag_combinations.TestRAGConfigCombinations object at 0x762d3bbf0890>

    def test_multiple_config_updates(self):
        """Test updating config multiple times."""
        configs = [
            "vector\nsentence\n1000\n200\nnomic-embed-text\n5\nnone\n",
            "graph\nspacy\ndependency-parsing\nleiden\n",
            "vector\ncharacter\n500\n100\ndummy\n3\nnone\n",
            "graph\ndummy\ndummy\ndummy\n",
        ]
    
        for config in configs:
            result = subprocess.run(
                [sys.executable, "-m", "src.cli", "default-rag-config", "new"],
                input=config,
                capture_output=True,
                text=True,
            )
>           assert result.returncode == 0
E           assert 1 == 0
E            +  where 1 = CompletedProcess(args=['/home/nate/.cache/pypoetry/virtualenvs/insighthub-G9Cf3wlO-py3.13/bin/python', '-m', 'src.cli', 'default-rag-config', 'new'], returncode=1, stdout='\nAvailable RAG types:\n  - vector: Traditional vector similarity search with embeddings\n  - graph: Knowledge graph-based retrieval with entity relationships\n\nRAG type [vector]: \nAvailable chunking algorithms:\n  - sentence: Split by sentence boundaries\n  - character: Fixed character size chunks\n  - semantic: Semantically coherent chunks\n\nAvailable embedding algorithms:\n  - nomic-embed-text: Nomic AI embedding model (274M params)\n  - all-MiniLM-L6-v2: Sentence-BERT embedding model\n  - mxbai-embed-large: Large multilingual embedding model\n\nAvailable reranking algorithms:\n  - none: Return results as-is from vector search\n  - cross-encoder: Rerank using cross-encoder model for better relevance\n  - bm25: Rerank using BM25 algorithm for keyword-based relevance\n  - rrf: Combine multiple rankings using RRF algorithm\n\nChunking algorithm [sentence]: Chunk size [1000]: Chunk overlap [200]: Embedding algorithm [nomic-embed-text]: Top K [5]: Rerank algorithm [none]: ', stderr="Error: Invalid embedding algorithm 'dummy'\n").returncode

tests/e2e/cli/test_rag_combinations.py:295: AssertionError
------------------------------ Captured log setup ------------------------------
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x762d1ff5d9f0>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.complete
DEBUG    httpcore.http11:_trace.py:47 send_request_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_body.complete
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'content-encoding', b'gzip'), (b'date', b'Sat, 06 Dec 2025 23:02:37 GMT')])
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.complete
DEBUG    httpcore.http11:_trace.py:47 response_closed.started
DEBUG    httpcore.http11:_trace.py:47 response_closed.complete
DEBUG    httpcore.connection:_trace.py:47 close.started
DEBUG    httpcore.connection:_trace.py:47 close.complete
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x762d1febf570>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.complete
DEBUG    httpcore.http11:_trace.py:47 send_request_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_body.complete
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Sat, 06 Dec 2025 23:02:37 GMT')])
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.complete
DEBUG    httpcore.http11:_trace.py:47 response_closed.started
DEBUG    httpcore.http11:_trace.py:47 response_closed.complete
DEBUG    httpcore.connection:_trace.py:47 close.started
DEBUG    httpcore.connection:_trace.py:47 close.complete
DEBUG    botocore.hooks:hooks.py:238 Event choose-service-name: calling handler <function handle_service_name_alias at 0x762d20b58360>
DEBUG    botocore.hooks:hooks.py:238 Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x762d20cb2de0>
DEBUG    botocore.hooks:hooks.py:238 Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x762d20be2520>
DEBUG    botocore.hooks:hooks.py:238 Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x762d20cb2b60>
DEBUG    botocore.endpoint:endpoint.py:414 Setting s3 timeout as (60, 60)
DEBUG    botocore.client:client.py:286 Registering retry handlers for service: s3
DEBUG    botocore.utils:utils.py:1747 Registering S3 region redirector handler
DEBUG    botocore.utils:utils.py:1695 Registering S3Express Identity Resolver
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function set_list_objects_encoding_type_url at 0x762d20b5a7a0>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function validate_bucket_name at 0x762d20b59300>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function remove_bucket_from_url_paths_from_model at 0x762d20b5b600>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fd5a150>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method ClientCreator._inject_s3_input_parameters of <botocore.client.ClientCreator object at 0x762d1fe31650>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function generate_idempotent_uuid at 0x762d20b59120>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function _handle_request_validation_mode_member at 0x762d20b5bce0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x762d20b5b7e0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fd5a150>>
DEBUG    botocore.regions:regions.py:506 Calling endpoint provider with parameters: {'Bucket': 'document', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'Endpoint': 'http://localhost:9000', 'ForcePathStyle': True, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
DEBUG    botocore.regions:regions.py:521 Endpoint provider result: http://localhost:9000/document
DEBUG    botocore.regions:regions.py:691 Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
DEBUG    botocore.regions:regions.py:766 Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_expect_header at 0x762d20b596c0>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.apply_signing_cache_key of <botocore.utils.S3ExpressIdentityResolver object at 0x762d1fd5a1b0>>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_recursion_detection_header at 0x762d20b58c20>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function inject_api_version_header_if_needed at 0x762d20b5ac00>
DEBUG    botocore.endpoint:endpoint.py:114 Making request for OperationModel(name=ListObjectsV2) with params: {'url_path': '?list-type=2', 'query_string': {'encoding-type': 'url'}, 'method': 'GET', 'headers': {'User-Agent': 'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1'}, 'body': b'', 'auth_path': '/document/', 'url': 'http://localhost:9000/document?list-type=2&encoding-type=url', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x762d3af06d50>, 'has_streaming_input': False, 'auth_type': 'v4', 'unsigned_payload': None, 'auth_options': ['aws.auth#sigv4'], 'encoding_type_auto_set': True, 's3_redirect': {'redirected': False, 'bucket': 'document', 'params': {'Bucket': 'document', 'EncodingType': 'url'}}, 'input_params': {'Bucket': 'document'}, 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 'endpoint_properties': {'authSchemes': [{'disableDoubleEncoding': True, 'name': 'sigv4', 'signingName': 's3', 'signingRegion': 'us-east-1'}]}}}
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x762d21224650>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x762d1fe31650>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <function set_operation_specific_signer at 0x762d20b58ea0>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function remove_arn_from_signing_path at 0x762d20b5b740>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function _set_extra_headers_for_unsigned_request at 0x762d20b5bd80>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.resolve_s3express_identity of <botocore.utils.S3ExpressIdentityResolver object at 0x762d1fd5a1b0>>
DEBUG    botocore.auth:auth.py:429 Calculating signature using v4 auth.
DEBUG    botocore.auth:auth.py:430 CanonicalRequest:
GET
/document
encoding-type=url&list-type=2
host:localhost:9000
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20251206T230238Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
DEBUG    botocore.auth:auth.py:432 StringToSign:
AWS4-HMAC-SHA256
20251206T230238Z
20251206/us-east-1/s3/aws4_request
5791205834672783dff8d364d9aff8f0e8438237266d1767059539971290b25e
DEBUG    botocore.auth:auth.py:434 Signature:
dc4bf6b9f40c17805334aa6a6f0afa22b2e5c9fb7447199dadf383eaa8d702b8
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method UserAgentString.rebuild_and_replace_user_agent_handler of <botocore.useragent.UserAgentString object at 0x762d1fe30c00>>
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <function add_retry_headers at 0x762d20b5b560>
DEBUG    botocore.endpoint:endpoint.py:263 Sending http request: <AWSPreparedRequest stream_output=False, method=GET, url=http://localhost:9000/document?list-type=2&encoding-type=url, headers={'User-Agent': b'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1', 'X-Amz-Date': b'20251206T230238Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=minioadmin/20251206/us-east-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=dc4bf6b9f40c17805334aa6a6f0afa22b2e5c9fb7447199dadf383eaa8d702b8', 'amz-sdk-invocation-id': b'b66c6870-7ae6-461b-a997-5e3a3ff5ff8e', 'amz-sdk-request': b'attempt=1'}>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function _handle_200_error at 0x762d20b5bb00>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function handle_expires_header at 0x762d20b5b920>
DEBUG    botocore.parsers:parsers.py:255 Response headers: {'Accept-Ranges': 'bytes', 'Content-Length': '1651', 'Content-Type': 'application/xml', 'Server': 'MinIO', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'Vary': 'Origin, Accept-Encoding', 'X-Amz-Id-2': 'dd9025bab4ad464b049177c95eb6ebf374d3b3fd1af9251148b658df7ac2e3e8', 'X-Amz-Request-Id': '187EC2AE5A6C887F', 'X-Content-Type-Options': 'nosniff', 'X-Ratelimit-Limit': '4101', 'X-Ratelimit-Remaining': '4101', 'X-Xss-Protection': '1; mode=block', 'Date': 'Sat, 06 Dec 2025 23:02:38 GMT'}
DEBUG    botocore.parsers:parsers.py:256 Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<ListBucketResult xmlns="http://s3.amazonaws.com/doc/2006-03-01/"><Name>document</Name><Prefix></Prefix><KeyCount>5</KeyCount><MaxKeys>1000</MaxKeys><IsTruncated>false</IsTruncated><Contents><Key>117b0b2c981e75201b42a3f484ce0597efc559bf6d13288eacc4a717fa2fc736/tmpfexropfo_ops2.txt</Key><LastModified>2025-12-06T04:26:08.867Z</LastModified><ETag>&#34;5e0d22fc93f0f5ce7afce9aa02b0bc7d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>61b46b03f15f3c81f3640916be69f1d34fdd8191644e3d689a4c50cb9bc91d23/tmp2fa0p4_o_ops3.txt</Key><LastModified>2025-12-06T04:26:14.608Z</LastModified><ETag>&#34;53cec5e28d6e94a3991483e9dea86cd5&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>c26ae29584f33f4398072bfe9a37f455a85460237adf672922c3c7d928ba99f0/tmptsq137kv_ops0.txt</Key><LastModified>2025-12-06T04:25:59.153Z</LastModified><ETag>&#34;f697ceebb544c3f9ffe7d768f83c059d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>eea2eb3d0912c348f733308b3bc702cb37ef6eb0c96ff6b0c515cd5942a553ec/tmpg0h_zyad.txt</Key><LastModified>2025-12-06T04:29:48.556Z</LastModified><ETag>&#34;a33c5f35dbf2a7336b7535430610e358&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>fae826ba4b154dd6a512b641abf32b71b0ae3050e613292dfe675d6fca935adb/tmpug44129o_ops1.txt</Key><LastModified>2025-12-06T04:26:04.132Z</LastModified><ETag>&#34;01b0c1954a19d5d40136aa728191f1d4&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><EncodingType>url</EncodingType></ListBucketResult>'
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <function _update_status_code at 0x762d20b5bc40>
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <botocore.retryhandler.RetryHandler object at 0x762d1fd5a0f0>
DEBUG    botocore.retryhandler:retryhandler.py:211 No retry needed.
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fd5a150>>
DEBUG    botocore.hooks:hooks.py:238 Event after-call.s3.ListObjectsV2: calling handler <function decode_list_object_v2 at 0x762d20b5a8e0>
---------------------------- Captured log teardown -----------------------------
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x762d1feb8780>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.complete
DEBUG    httpcore.http11:_trace.py:47 send_request_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_body.complete
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'content-type', b'application/json'), (b'date', b'Sat, 06 Dec 2025 23:03:04 GMT')])
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.complete
DEBUG    httpcore.http11:_trace.py:47 response_closed.started
DEBUG    httpcore.http11:_trace.py:47 response_closed.complete
DEBUG    httpcore.connection:_trace.py:47 close.started
DEBUG    httpcore.connection:_trace.py:47 close.complete
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function set_list_objects_encoding_type_url at 0x762d20b5a7a0>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function validate_bucket_name at 0x762d20b59300>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function remove_bucket_from_url_paths_from_model at 0x762d20b5b600>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fd5a150>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method ClientCreator._inject_s3_input_parameters of <botocore.client.ClientCreator object at 0x762d1fe31650>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function generate_idempotent_uuid at 0x762d20b59120>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function _handle_request_validation_mode_member at 0x762d20b5bce0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x762d20b5b7e0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fd5a150>>
DEBUG    botocore.regions:regions.py:506 Calling endpoint provider with parameters: {'Bucket': 'document', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'Endpoint': 'http://localhost:9000', 'ForcePathStyle': True, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
DEBUG    botocore.regions:regions.py:521 Endpoint provider result: http://localhost:9000/document
DEBUG    botocore.regions:regions.py:691 Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
DEBUG    botocore.regions:regions.py:766 Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_expect_header at 0x762d20b596c0>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.apply_signing_cache_key of <botocore.utils.S3ExpressIdentityResolver object at 0x762d1fd5a1b0>>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_recursion_detection_header at 0x762d20b58c20>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function inject_api_version_header_if_needed at 0x762d20b5ac00>
DEBUG    botocore.endpoint:endpoint.py:114 Making request for OperationModel(name=ListObjectsV2) with params: {'url_path': '?list-type=2', 'query_string': {'encoding-type': 'url'}, 'method': 'GET', 'headers': {'User-Agent': 'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1'}, 'body': b'', 'auth_path': '/document/', 'url': 'http://localhost:9000/document?list-type=2&encoding-type=url', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x762d3af06d50>, 'has_streaming_input': False, 'auth_type': 'v4', 'unsigned_payload': None, 'auth_options': ['aws.auth#sigv4'], 'encoding_type_auto_set': True, 's3_redirect': {'redirected': False, 'bucket': 'document', 'params': {'Bucket': 'document', 'EncodingType': 'url'}}, 'input_params': {'Bucket': 'document'}, 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 'endpoint_properties': {'authSchemes': [{'disableDoubleEncoding': True, 'name': 'sigv4', 'signingName': 's3', 'signingRegion': 'us-east-1'}]}}}
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x762d21224650>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x762d1fe31650>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <function set_operation_specific_signer at 0x762d20b58ea0>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function remove_arn_from_signing_path at 0x762d20b5b740>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function _set_extra_headers_for_unsigned_request at 0x762d20b5bd80>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.resolve_s3express_identity of <botocore.utils.S3ExpressIdentityResolver object at 0x762d1fd5a1b0>>
DEBUG    botocore.auth:auth.py:429 Calculating signature using v4 auth.
DEBUG    botocore.auth:auth.py:430 CanonicalRequest:
GET
/document
encoding-type=url&list-type=2
host:localhost:9000
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20251206T230304Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
DEBUG    botocore.auth:auth.py:432 StringToSign:
AWS4-HMAC-SHA256
20251206T230304Z
20251206/us-east-1/s3/aws4_request
2dd891b2d6eb220d34c86fc3efce9224a189b11d736f83f56a71d64bd1a195de
DEBUG    botocore.auth:auth.py:434 Signature:
7e80d3f1b2412273e926e9fef1c38f90026124ca3cb4453aa835f17ca69dd5b6
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method UserAgentString.rebuild_and_replace_user_agent_handler of <botocore.useragent.UserAgentString object at 0x762d1fe30c00>>
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <function add_retry_headers at 0x762d20b5b560>
DEBUG    botocore.endpoint:endpoint.py:263 Sending http request: <AWSPreparedRequest stream_output=False, method=GET, url=http://localhost:9000/document?list-type=2&encoding-type=url, headers={'User-Agent': b'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1', 'X-Amz-Date': b'20251206T230304Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=minioadmin/20251206/us-east-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=7e80d3f1b2412273e926e9fef1c38f90026124ca3cb4453aa835f17ca69dd5b6', 'amz-sdk-invocation-id': b'a495fc80-14a6-4e45-af3b-2dc8b8991d1f', 'amz-sdk-request': b'attempt=1'}>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function _handle_200_error at 0x762d20b5bb00>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function handle_expires_header at 0x762d20b5b920>
DEBUG    botocore.parsers:parsers.py:255 Response headers: {'Accept-Ranges': 'bytes', 'Content-Length': '1651', 'Content-Type': 'application/xml', 'Server': 'MinIO', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'Vary': 'Origin, Accept-Encoding', 'X-Amz-Id-2': 'dd9025bab4ad464b049177c95eb6ebf374d3b3fd1af9251148b658df7ac2e3e8', 'X-Amz-Request-Id': '187EC2B48FAB7B19', 'X-Content-Type-Options': 'nosniff', 'X-Ratelimit-Limit': '4101', 'X-Ratelimit-Remaining': '4101', 'X-Xss-Protection': '1; mode=block', 'Date': 'Sat, 06 Dec 2025 23:03:04 GMT'}
DEBUG    botocore.parsers:parsers.py:256 Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<ListBucketResult xmlns="http://s3.amazonaws.com/doc/2006-03-01/"><Name>document</Name><Prefix></Prefix><KeyCount>5</KeyCount><MaxKeys>1000</MaxKeys><IsTruncated>false</IsTruncated><Contents><Key>117b0b2c981e75201b42a3f484ce0597efc559bf6d13288eacc4a717fa2fc736/tmpfexropfo_ops2.txt</Key><LastModified>2025-12-06T04:26:08.867Z</LastModified><ETag>&#34;5e0d22fc93f0f5ce7afce9aa02b0bc7d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>61b46b03f15f3c81f3640916be69f1d34fdd8191644e3d689a4c50cb9bc91d23/tmp2fa0p4_o_ops3.txt</Key><LastModified>2025-12-06T04:26:14.608Z</LastModified><ETag>&#34;53cec5e28d6e94a3991483e9dea86cd5&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>c26ae29584f33f4398072bfe9a37f455a85460237adf672922c3c7d928ba99f0/tmptsq137kv_ops0.txt</Key><LastModified>2025-12-06T04:25:59.153Z</LastModified><ETag>&#34;f697ceebb544c3f9ffe7d768f83c059d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>eea2eb3d0912c348f733308b3bc702cb37ef6eb0c96ff6b0c515cd5942a553ec/tmpg0h_zyad.txt</Key><LastModified>2025-12-06T04:29:48.556Z</LastModified><ETag>&#34;a33c5f35dbf2a7336b7535430610e358&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>fae826ba4b154dd6a512b641abf32b71b0ae3050e613292dfe675d6fca935adb/tmpug44129o_ops1.txt</Key><LastModified>2025-12-06T04:26:04.132Z</LastModified><ETag>&#34;01b0c1954a19d5d40136aa728191f1d4&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><EncodingType>url</EncodingType></ListBucketResult>'
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <function _update_status_code at 0x762d20b5bc40>
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <botocore.retryhandler.RetryHandler object at 0x762d1fd5a0f0>
DEBUG    botocore.retryhandler:retryhandler.py:211 No retry needed.
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fd5a150>>
DEBUG    botocore.hooks:hooks.py:238 Event after-call.s3.ListObjectsV2: calling handler <function decode_list_object_v2 at 0x762d20b5a8e0>
______ TestRAGConfigCombinations.test_create_workspace_after_graph_config ______

self = <e2e.cli.test_rag_combinations.TestRAGConfigCombinations object at 0x762d3bbd2cd0>

    def test_create_workspace_after_graph_config(self):
        """Test creating workspace after setting graph config."""
        # Set graph config
        config = subprocess.run(
            [sys.executable, "-m", "src.cli", "default-rag-config", "new"],
            input="graph\nspacy\ndependency-parsing\nleiden\n",
            capture_output=True,
            text=True,
        )
        assert config.returncode == 0
    
        # Create workspace with graph type
        workspace = subprocess.run(
            [sys.executable, "-m", "src.cli", "workspace", "new"],
            input="Graph Workspace\nTest workspace\ngraph\n",
            capture_output=True,
            text=True,
        )
>       assert workspace.returncode == 0
E       AssertionError: assert 1 == 0
E        +  where 1 = CompletedProcess(args=['/home/nate/.cache/pypoetry/virtualenvs/insighthub-G9Cf3wlO-py3.13/bin/python', '-m', 'src.cli', 'workspace', 'new'], returncode=1, stdout='Workspace name: Description (optional): \nAvailable RAG types:\n  - vector: Traditional vector similarity search with embeddings\n  - graph: Knowledge graph-based retrieval with entity relationships\n\nRAG type [graph]: ', stderr='Error: Graph RAG create resources workflow not yet implemented\n').returncode

tests/e2e/cli/test_rag_combinations.py:363: AssertionError
------------------------------ Captured log setup ------------------------------
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x762d3bb61f90>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.complete
DEBUG    httpcore.http11:_trace.py:47 send_request_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_body.complete
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'content-type', b'application/json'), (b'date', b'Sat, 06 Dec 2025 23:04:00 GMT')])
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.complete
DEBUG    httpcore.http11:_trace.py:47 response_closed.started
DEBUG    httpcore.http11:_trace.py:47 response_closed.complete
DEBUG    httpcore.connection:_trace.py:47 close.started
DEBUG    httpcore.connection:_trace.py:47 close.complete
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x762d1fdf5b80>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.complete
DEBUG    httpcore.http11:_trace.py:47 send_request_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_body.complete
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'content-encoding', b'gzip'), (b'content-type', b'application/json'), (b'date', b'Sat, 06 Dec 2025 23:04:00 GMT')])
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.complete
DEBUG    httpcore.http11:_trace.py:47 response_closed.started
DEBUG    httpcore.http11:_trace.py:47 response_closed.complete
DEBUG    httpcore.connection:_trace.py:47 close.started
DEBUG    httpcore.connection:_trace.py:47 close.complete
DEBUG    botocore.hooks:hooks.py:238 Event choose-service-name: calling handler <function handle_service_name_alias at 0x762d20b58360>
DEBUG    botocore.hooks:hooks.py:238 Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x762d20cb2de0>
DEBUG    botocore.hooks:hooks.py:238 Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x762d20be2520>
DEBUG    botocore.hooks:hooks.py:238 Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x762d20cb2b60>
DEBUG    botocore.endpoint:endpoint.py:414 Setting s3 timeout as (60, 60)
DEBUG    botocore.client:client.py:286 Registering retry handlers for service: s3
DEBUG    botocore.utils:utils.py:1747 Registering S3 region redirector handler
DEBUG    botocore.utils:utils.py:1695 Registering S3Express Identity Resolver
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function set_list_objects_encoding_type_url at 0x762d20b5a7a0>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function validate_bucket_name at 0x762d20b59300>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function remove_bucket_from_url_paths_from_model at 0x762d20b5b600>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fda5f70>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method ClientCreator._inject_s3_input_parameters of <botocore.client.ClientCreator object at 0x762d1fe32ba0>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function generate_idempotent_uuid at 0x762d20b59120>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function _handle_request_validation_mode_member at 0x762d20b5bce0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x762d20b5b7e0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fda5f70>>
DEBUG    botocore.regions:regions.py:506 Calling endpoint provider with parameters: {'Bucket': 'document', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'Endpoint': 'http://localhost:9000', 'ForcePathStyle': True, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
DEBUG    botocore.regions:regions.py:521 Endpoint provider result: http://localhost:9000/document
DEBUG    botocore.regions:regions.py:691 Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
DEBUG    botocore.regions:regions.py:766 Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_expect_header at 0x762d20b596c0>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.apply_signing_cache_key of <botocore.utils.S3ExpressIdentityResolver object at 0x762d1fda5fd0>>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_recursion_detection_header at 0x762d20b58c20>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function inject_api_version_header_if_needed at 0x762d20b5ac00>
DEBUG    botocore.endpoint:endpoint.py:114 Making request for OperationModel(name=ListObjectsV2) with params: {'url_path': '?list-type=2', 'query_string': {'encoding-type': 'url'}, 'method': 'GET', 'headers': {'User-Agent': 'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1'}, 'body': b'', 'auth_path': '/document/', 'url': 'http://localhost:9000/document?list-type=2&encoding-type=url', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x762d3af06d50>, 'has_streaming_input': False, 'auth_type': 'v4', 'unsigned_payload': None, 'auth_options': ['aws.auth#sigv4'], 'encoding_type_auto_set': True, 's3_redirect': {'redirected': False, 'bucket': 'document', 'params': {'Bucket': 'document', 'EncodingType': 'url'}}, 'input_params': {'Bucket': 'document'}, 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 'endpoint_properties': {'authSchemes': [{'disableDoubleEncoding': True, 'name': 'sigv4', 'signingName': 's3', 'signingRegion': 'us-east-1'}]}}}
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x762d1ff10850>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x762d1fe32ba0>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <function set_operation_specific_signer at 0x762d20b58ea0>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function remove_arn_from_signing_path at 0x762d20b5b740>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function _set_extra_headers_for_unsigned_request at 0x762d20b5bd80>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.resolve_s3express_identity of <botocore.utils.S3ExpressIdentityResolver object at 0x762d1fda5fd0>>
DEBUG    botocore.auth:auth.py:429 Calculating signature using v4 auth.
DEBUG    botocore.auth:auth.py:430 CanonicalRequest:
GET
/document
encoding-type=url&list-type=2
host:localhost:9000
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20251206T230400Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
DEBUG    botocore.auth:auth.py:432 StringToSign:
AWS4-HMAC-SHA256
20251206T230400Z
20251206/us-east-1/s3/aws4_request
6ffe0106d64803e7c2f73a20b14b1277028fc12a107d572475c05e5c16c15643
DEBUG    botocore.auth:auth.py:434 Signature:
595faafa66fb46b644fa0a18c6f04ec28b2cdce8c8d777acdc91727f2a865a74
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method UserAgentString.rebuild_and_replace_user_agent_handler of <botocore.useragent.UserAgentString object at 0x762d1fe33070>>
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <function add_retry_headers at 0x762d20b5b560>
DEBUG    botocore.endpoint:endpoint.py:263 Sending http request: <AWSPreparedRequest stream_output=False, method=GET, url=http://localhost:9000/document?list-type=2&encoding-type=url, headers={'User-Agent': b'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1', 'X-Amz-Date': b'20251206T230400Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=minioadmin/20251206/us-east-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=595faafa66fb46b644fa0a18c6f04ec28b2cdce8c8d777acdc91727f2a865a74', 'amz-sdk-invocation-id': b'5c03b378-3a75-444a-9c0b-d1c3db996d7e', 'amz-sdk-request': b'attempt=1'}>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function _handle_200_error at 0x762d20b5bb00>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function handle_expires_header at 0x762d20b5b920>
DEBUG    botocore.parsers:parsers.py:255 Response headers: {'Accept-Ranges': 'bytes', 'Content-Length': '1651', 'Content-Type': 'application/xml', 'Server': 'MinIO', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'Vary': 'Origin, Accept-Encoding', 'X-Amz-Id-2': 'dd9025bab4ad464b049177c95eb6ebf374d3b3fd1af9251148b658df7ac2e3e8', 'X-Amz-Request-Id': '187EC2C1A887164E', 'X-Content-Type-Options': 'nosniff', 'X-Ratelimit-Limit': '4101', 'X-Ratelimit-Remaining': '4101', 'X-Xss-Protection': '1; mode=block', 'Date': 'Sat, 06 Dec 2025 23:04:00 GMT'}
DEBUG    botocore.parsers:parsers.py:256 Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<ListBucketResult xmlns="http://s3.amazonaws.com/doc/2006-03-01/"><Name>document</Name><Prefix></Prefix><KeyCount>5</KeyCount><MaxKeys>1000</MaxKeys><IsTruncated>false</IsTruncated><Contents><Key>117b0b2c981e75201b42a3f484ce0597efc559bf6d13288eacc4a717fa2fc736/tmpfexropfo_ops2.txt</Key><LastModified>2025-12-06T04:26:08.867Z</LastModified><ETag>&#34;5e0d22fc93f0f5ce7afce9aa02b0bc7d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>61b46b03f15f3c81f3640916be69f1d34fdd8191644e3d689a4c50cb9bc91d23/tmp2fa0p4_o_ops3.txt</Key><LastModified>2025-12-06T04:26:14.608Z</LastModified><ETag>&#34;53cec5e28d6e94a3991483e9dea86cd5&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>c26ae29584f33f4398072bfe9a37f455a85460237adf672922c3c7d928ba99f0/tmptsq137kv_ops0.txt</Key><LastModified>2025-12-06T04:25:59.153Z</LastModified><ETag>&#34;f697ceebb544c3f9ffe7d768f83c059d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>eea2eb3d0912c348f733308b3bc702cb37ef6eb0c96ff6b0c515cd5942a553ec/tmpg0h_zyad.txt</Key><LastModified>2025-12-06T04:29:48.556Z</LastModified><ETag>&#34;a33c5f35dbf2a7336b7535430610e358&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>fae826ba4b154dd6a512b641abf32b71b0ae3050e613292dfe675d6fca935adb/tmpug44129o_ops1.txt</Key><LastModified>2025-12-06T04:26:04.132Z</LastModified><ETag>&#34;01b0c1954a19d5d40136aa728191f1d4&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><EncodingType>url</EncodingType></ListBucketResult>'
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <function _update_status_code at 0x762d20b5bc40>
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <botocore.retryhandler.RetryHandler object at 0x762d1fda5f10>
DEBUG    botocore.retryhandler:retryhandler.py:211 No retry needed.
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fda5f70>>
DEBUG    botocore.hooks:hooks.py:238 Event after-call.s3.ListObjectsV2: calling handler <function decode_list_object_v2 at 0x762d20b5a8e0>
---------------------------- Captured log teardown -----------------------------
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x762d1febe940>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.complete
DEBUG    httpcore.http11:_trace.py:47 send_request_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_body.complete
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Sat, 06 Dec 2025 23:04:26 GMT')])
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.complete
DEBUG    httpcore.http11:_trace.py:47 response_closed.started
DEBUG    httpcore.http11:_trace.py:47 response_closed.complete
DEBUG    httpcore.connection:_trace.py:47 close.started
DEBUG    httpcore.connection:_trace.py:47 close.complete
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function set_list_objects_encoding_type_url at 0x762d20b5a7a0>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function validate_bucket_name at 0x762d20b59300>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function remove_bucket_from_url_paths_from_model at 0x762d20b5b600>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fda5f70>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method ClientCreator._inject_s3_input_parameters of <botocore.client.ClientCreator object at 0x762d1fe32ba0>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function generate_idempotent_uuid at 0x762d20b59120>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function _handle_request_validation_mode_member at 0x762d20b5bce0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x762d20b5b7e0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fda5f70>>
DEBUG    botocore.regions:regions.py:506 Calling endpoint provider with parameters: {'Bucket': 'document', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'Endpoint': 'http://localhost:9000', 'ForcePathStyle': True, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
DEBUG    botocore.regions:regions.py:521 Endpoint provider result: http://localhost:9000/document
DEBUG    botocore.regions:regions.py:691 Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
DEBUG    botocore.regions:regions.py:766 Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_expect_header at 0x762d20b596c0>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.apply_signing_cache_key of <botocore.utils.S3ExpressIdentityResolver object at 0x762d1fda5fd0>>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_recursion_detection_header at 0x762d20b58c20>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function inject_api_version_header_if_needed at 0x762d20b5ac00>
DEBUG    botocore.endpoint:endpoint.py:114 Making request for OperationModel(name=ListObjectsV2) with params: {'url_path': '?list-type=2', 'query_string': {'encoding-type': 'url'}, 'method': 'GET', 'headers': {'User-Agent': 'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1'}, 'body': b'', 'auth_path': '/document/', 'url': 'http://localhost:9000/document?list-type=2&encoding-type=url', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x762d3af06d50>, 'has_streaming_input': False, 'auth_type': 'v4', 'unsigned_payload': None, 'auth_options': ['aws.auth#sigv4'], 'encoding_type_auto_set': True, 's3_redirect': {'redirected': False, 'bucket': 'document', 'params': {'Bucket': 'document', 'EncodingType': 'url'}}, 'input_params': {'Bucket': 'document'}, 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 'endpoint_properties': {'authSchemes': [{'disableDoubleEncoding': True, 'name': 'sigv4', 'signingName': 's3', 'signingRegion': 'us-east-1'}]}}}
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x762d1ff10850>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x762d1fe32ba0>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <function set_operation_specific_signer at 0x762d20b58ea0>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function remove_arn_from_signing_path at 0x762d20b5b740>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function _set_extra_headers_for_unsigned_request at 0x762d20b5bd80>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.resolve_s3express_identity of <botocore.utils.S3ExpressIdentityResolver object at 0x762d1fda5fd0>>
DEBUG    botocore.auth:auth.py:429 Calculating signature using v4 auth.
DEBUG    botocore.auth:auth.py:430 CanonicalRequest:
GET
/document
encoding-type=url&list-type=2
host:localhost:9000
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20251206T230427Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
DEBUG    botocore.auth:auth.py:432 StringToSign:
AWS4-HMAC-SHA256
20251206T230427Z
20251206/us-east-1/s3/aws4_request
1d18d20ac9ae822de2fb471e2d0ea87aae619685982754035e3dae1b3ac82840
DEBUG    botocore.auth:auth.py:434 Signature:
9d43783a4dec6bb8e0d7793d9ac708c7be8042f00e35401f26e766f741747c0a
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method UserAgentString.rebuild_and_replace_user_agent_handler of <botocore.useragent.UserAgentString object at 0x762d1fe33070>>
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <function add_retry_headers at 0x762d20b5b560>
DEBUG    botocore.endpoint:endpoint.py:263 Sending http request: <AWSPreparedRequest stream_output=False, method=GET, url=http://localhost:9000/document?list-type=2&encoding-type=url, headers={'User-Agent': b'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1', 'X-Amz-Date': b'20251206T230427Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=minioadmin/20251206/us-east-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=9d43783a4dec6bb8e0d7793d9ac708c7be8042f00e35401f26e766f741747c0a', 'amz-sdk-invocation-id': b'1aae193f-a650-4067-bdcb-0e6c8c72790a', 'amz-sdk-request': b'attempt=1'}>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function _handle_200_error at 0x762d20b5bb00>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function handle_expires_header at 0x762d20b5b920>
DEBUG    botocore.parsers:parsers.py:255 Response headers: {'Accept-Ranges': 'bytes', 'Content-Length': '1651', 'Content-Type': 'application/xml', 'Server': 'MinIO', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'Vary': 'Origin, Accept-Encoding', 'X-Amz-Id-2': 'dd9025bab4ad464b049177c95eb6ebf374d3b3fd1af9251148b658df7ac2e3e8', 'X-Amz-Request-Id': '187EC2C7B91F1B47', 'X-Content-Type-Options': 'nosniff', 'X-Ratelimit-Limit': '4101', 'X-Ratelimit-Remaining': '4101', 'X-Xss-Protection': '1; mode=block', 'Date': 'Sat, 06 Dec 2025 23:04:27 GMT'}
DEBUG    botocore.parsers:parsers.py:256 Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<ListBucketResult xmlns="http://s3.amazonaws.com/doc/2006-03-01/"><Name>document</Name><Prefix></Prefix><KeyCount>5</KeyCount><MaxKeys>1000</MaxKeys><IsTruncated>false</IsTruncated><Contents><Key>117b0b2c981e75201b42a3f484ce0597efc559bf6d13288eacc4a717fa2fc736/tmpfexropfo_ops2.txt</Key><LastModified>2025-12-06T04:26:08.867Z</LastModified><ETag>&#34;5e0d22fc93f0f5ce7afce9aa02b0bc7d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>61b46b03f15f3c81f3640916be69f1d34fdd8191644e3d689a4c50cb9bc91d23/tmp2fa0p4_o_ops3.txt</Key><LastModified>2025-12-06T04:26:14.608Z</LastModified><ETag>&#34;53cec5e28d6e94a3991483e9dea86cd5&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>c26ae29584f33f4398072bfe9a37f455a85460237adf672922c3c7d928ba99f0/tmptsq137kv_ops0.txt</Key><LastModified>2025-12-06T04:25:59.153Z</LastModified><ETag>&#34;f697ceebb544c3f9ffe7d768f83c059d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>eea2eb3d0912c348f733308b3bc702cb37ef6eb0c96ff6b0c515cd5942a553ec/tmpg0h_zyad.txt</Key><LastModified>2025-12-06T04:29:48.556Z</LastModified><ETag>&#34;a33c5f35dbf2a7336b7535430610e358&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>fae826ba4b154dd6a512b641abf32b71b0ae3050e613292dfe675d6fca935adb/tmpug44129o_ops1.txt</Key><LastModified>2025-12-06T04:26:04.132Z</LastModified><ETag>&#34;01b0c1954a19d5d40136aa728191f1d4&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><EncodingType>url</EncodingType></ListBucketResult>'
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <function _update_status_code at 0x762d20b5bc40>
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <botocore.retryhandler.RetryHandler object at 0x762d1fda5f10>
DEBUG    botocore.retryhandler:retryhandler.py:211 No retry needed.
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fda5f70>>
DEBUG    botocore.hooks:hooks.py:238 Event after-call.s3.ListObjectsV2: calling handler <function decode_list_object_v2 at 0x762d20b5a8e0>
_________ TestRAGConfigCombinations.test_create_mixed_workspace_types __________

self = <e2e.cli.test_rag_combinations.TestRAGConfigCombinations object at 0x762d3bbfa5d0>

    def test_create_mixed_workspace_types(self):
        """Test creating both vector and graph workspaces."""
        # Set vector config
        vector_config = subprocess.run(
            [sys.executable, "-m", "src.cli", "default-rag-config", "new"],
            input="vector\nsentence\n1000\n200\nnomic-embed-text\n5\nnone\n",
            capture_output=True,
            text=True,
        )
        assert vector_config.returncode == 0
    
        # Create vector workspace
        vector_ws = subprocess.run(
            [sys.executable, "-m", "src.cli", "workspace", "new"],
            input="Vector WS\nVector workspace\nvector\n",
            capture_output=True,
            text=True,
        )
        assert vector_ws.returncode == 0
    
        # Set graph config
        graph_config = subprocess.run(
            [sys.executable, "-m", "src.cli", "default-rag-config", "new"],
            input="graph\nspacy\ndependency-parsing\nleiden\n",
            capture_output=True,
            text=True,
        )
        assert graph_config.returncode == 0
    
        # Create graph workspace
        graph_ws = subprocess.run(
            [sys.executable, "-m", "src.cli", "workspace", "new"],
            input="Graph WS\nGraph workspace\ngraph\n",
            capture_output=True,
            text=True,
        )
>       assert graph_ws.returncode == 0
E       AssertionError: assert 1 == 0
E        +  where 1 = CompletedProcess(args=['/home/nate/.cache/pypoetry/virtualenvs/insighthub-G9Cf3wlO-py3.13/bin/python', '-m', 'src.cli', 'workspace', 'new'], returncode=1, stdout='Workspace name: Description (optional): \nAvailable RAG types:\n  - vector: Traditional vector similarity search with embeddings\n  - graph: Knowledge graph-based retrieval with entity relationships\n\nRAG type [graph]: ', stderr='Error: Graph RAG create resources workflow not yet implemented\n').returncode

tests/e2e/cli/test_rag_combinations.py:402: AssertionError
------------------------------ Captured log setup ------------------------------
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x762d200ce8a0>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.complete
DEBUG    httpcore.http11:_trace.py:47 send_request_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_body.complete
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Sat, 06 Dec 2025 23:04:26 GMT')])
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.complete
DEBUG    httpcore.http11:_trace.py:47 response_closed.started
DEBUG    httpcore.http11:_trace.py:47 response_closed.complete
DEBUG    httpcore.connection:_trace.py:47 close.started
DEBUG    httpcore.connection:_trace.py:47 close.complete
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x762d1febe1c0>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.complete
DEBUG    httpcore.http11:_trace.py:47 send_request_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_body.complete
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'content-type', b'application/json'), (b'date', b'Sat, 06 Dec 2025 23:04:26 GMT')])
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.complete
DEBUG    httpcore.http11:_trace.py:47 response_closed.started
DEBUG    httpcore.http11:_trace.py:47 response_closed.complete
DEBUG    httpcore.connection:_trace.py:47 close.started
DEBUG    httpcore.connection:_trace.py:47 close.complete
DEBUG    botocore.hooks:hooks.py:238 Event choose-service-name: calling handler <function handle_service_name_alias at 0x762d20b58360>
DEBUG    botocore.hooks:hooks.py:238 Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x762d20cb2de0>
DEBUG    botocore.hooks:hooks.py:238 Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x762d20be2520>
DEBUG    botocore.hooks:hooks.py:238 Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x762d20cb2b60>
DEBUG    botocore.endpoint:endpoint.py:414 Setting s3 timeout as (60, 60)
DEBUG    botocore.client:client.py:286 Registering retry handlers for service: s3
DEBUG    botocore.utils:utils.py:1747 Registering S3 region redirector handler
DEBUG    botocore.utils:utils.py:1695 Registering S3Express Identity Resolver
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function set_list_objects_encoding_type_url at 0x762d20b5a7a0>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function validate_bucket_name at 0x762d20b59300>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function remove_bucket_from_url_paths_from_model at 0x762d20b5b600>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fdffa10>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method ClientCreator._inject_s3_input_parameters of <botocore.client.ClientCreator object at 0x762d1feb3c20>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function generate_idempotent_uuid at 0x762d20b59120>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function _handle_request_validation_mode_member at 0x762d20b5bce0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x762d20b5b7e0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fdffa10>>
DEBUG    botocore.regions:regions.py:506 Calling endpoint provider with parameters: {'Bucket': 'document', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'Endpoint': 'http://localhost:9000', 'ForcePathStyle': True, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
DEBUG    botocore.regions:regions.py:521 Endpoint provider result: http://localhost:9000/document
DEBUG    botocore.regions:regions.py:691 Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
DEBUG    botocore.regions:regions.py:766 Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_expect_header at 0x762d20b596c0>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.apply_signing_cache_key of <botocore.utils.S3ExpressIdentityResolver object at 0x762d2009b710>>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_recursion_detection_header at 0x762d20b58c20>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function inject_api_version_header_if_needed at 0x762d20b5ac00>
DEBUG    botocore.endpoint:endpoint.py:114 Making request for OperationModel(name=ListObjectsV2) with params: {'url_path': '?list-type=2', 'query_string': {'encoding-type': 'url'}, 'method': 'GET', 'headers': {'User-Agent': 'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1'}, 'body': b'', 'auth_path': '/document/', 'url': 'http://localhost:9000/document?list-type=2&encoding-type=url', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x762d216af390>, 'has_streaming_input': False, 'auth_type': 'v4', 'unsigned_payload': None, 'auth_options': ['aws.auth#sigv4'], 'encoding_type_auto_set': True, 's3_redirect': {'redirected': False, 'bucket': 'document', 'params': {'Bucket': 'document', 'EncodingType': 'url'}}, 'input_params': {'Bucket': 'document'}, 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 'endpoint_properties': {'authSchemes': [{'disableDoubleEncoding': True, 'name': 'sigv4', 'signingName': 's3', 'signingRegion': 'us-east-1'}]}}}
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x762d1fe58e50>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x762d1feb3c20>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <function set_operation_specific_signer at 0x762d20b58ea0>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function remove_arn_from_signing_path at 0x762d20b5b740>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function _set_extra_headers_for_unsigned_request at 0x762d20b5bd80>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.resolve_s3express_identity of <botocore.utils.S3ExpressIdentityResolver object at 0x762d2009b710>>
DEBUG    botocore.auth:auth.py:429 Calculating signature using v4 auth.
DEBUG    botocore.auth:auth.py:430 CanonicalRequest:
GET
/document
encoding-type=url&list-type=2
host:localhost:9000
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20251206T230427Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
DEBUG    botocore.auth:auth.py:432 StringToSign:
AWS4-HMAC-SHA256
20251206T230427Z
20251206/us-east-1/s3/aws4_request
1d18d20ac9ae822de2fb471e2d0ea87aae619685982754035e3dae1b3ac82840
DEBUG    botocore.auth:auth.py:434 Signature:
9d43783a4dec6bb8e0d7793d9ac708c7be8042f00e35401f26e766f741747c0a
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method UserAgentString.rebuild_and_replace_user_agent_handler of <botocore.useragent.UserAgentString object at 0x762d1fe6ad00>>
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <function add_retry_headers at 0x762d20b5b560>
DEBUG    botocore.endpoint:endpoint.py:263 Sending http request: <AWSPreparedRequest stream_output=False, method=GET, url=http://localhost:9000/document?list-type=2&encoding-type=url, headers={'User-Agent': b'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1', 'X-Amz-Date': b'20251206T230427Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=minioadmin/20251206/us-east-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=9d43783a4dec6bb8e0d7793d9ac708c7be8042f00e35401f26e766f741747c0a', 'amz-sdk-invocation-id': b'864341ea-59a8-446b-8672-f48756305534', 'amz-sdk-request': b'attempt=1'}>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function _handle_200_error at 0x762d20b5bb00>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function handle_expires_header at 0x762d20b5b920>
DEBUG    botocore.parsers:parsers.py:255 Response headers: {'Accept-Ranges': 'bytes', 'Content-Length': '1651', 'Content-Type': 'application/xml', 'Server': 'MinIO', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'Vary': 'Origin, Accept-Encoding', 'X-Amz-Id-2': 'dd9025bab4ad464b049177c95eb6ebf374d3b3fd1af9251148b658df7ac2e3e8', 'X-Amz-Request-Id': '187EC2C7C21ABD8E', 'X-Content-Type-Options': 'nosniff', 'X-Ratelimit-Limit': '4101', 'X-Ratelimit-Remaining': '4101', 'X-Xss-Protection': '1; mode=block', 'Date': 'Sat, 06 Dec 2025 23:04:27 GMT'}
DEBUG    botocore.parsers:parsers.py:256 Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<ListBucketResult xmlns="http://s3.amazonaws.com/doc/2006-03-01/"><Name>document</Name><Prefix></Prefix><KeyCount>5</KeyCount><MaxKeys>1000</MaxKeys><IsTruncated>false</IsTruncated><Contents><Key>117b0b2c981e75201b42a3f484ce0597efc559bf6d13288eacc4a717fa2fc736/tmpfexropfo_ops2.txt</Key><LastModified>2025-12-06T04:26:08.867Z</LastModified><ETag>&#34;5e0d22fc93f0f5ce7afce9aa02b0bc7d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>61b46b03f15f3c81f3640916be69f1d34fdd8191644e3d689a4c50cb9bc91d23/tmp2fa0p4_o_ops3.txt</Key><LastModified>2025-12-06T04:26:14.608Z</LastModified><ETag>&#34;53cec5e28d6e94a3991483e9dea86cd5&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>c26ae29584f33f4398072bfe9a37f455a85460237adf672922c3c7d928ba99f0/tmptsq137kv_ops0.txt</Key><LastModified>2025-12-06T04:25:59.153Z</LastModified><ETag>&#34;f697ceebb544c3f9ffe7d768f83c059d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>eea2eb3d0912c348f733308b3bc702cb37ef6eb0c96ff6b0c515cd5942a553ec/tmpg0h_zyad.txt</Key><LastModified>2025-12-06T04:29:48.556Z</LastModified><ETag>&#34;a33c5f35dbf2a7336b7535430610e358&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>fae826ba4b154dd6a512b641abf32b71b0ae3050e613292dfe675d6fca935adb/tmpug44129o_ops1.txt</Key><LastModified>2025-12-06T04:26:04.132Z</LastModified><ETag>&#34;01b0c1954a19d5d40136aa728191f1d4&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><EncodingType>url</EncodingType></ListBucketResult>'
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <function _update_status_code at 0x762d20b5bc40>
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <botocore.retryhandler.RetryHandler object at 0x762d1fdfdd30>
DEBUG    botocore.retryhandler:retryhandler.py:211 No retry needed.
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fdffa10>>
DEBUG    botocore.hooks:hooks.py:238 Event after-call.s3.ListObjectsV2: calling handler <function decode_list_object_v2 at 0x762d20b5a8e0>
---------------------------- Captured log teardown -----------------------------
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x762d210833e0>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.complete
DEBUG    httpcore.http11:_trace.py:47 send_request_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_body.complete
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Sat, 06 Dec 2025 23:05:20 GMT')])
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.complete
DEBUG    httpcore.http11:_trace.py:47 response_closed.started
DEBUG    httpcore.http11:_trace.py:47 response_closed.complete
DEBUG    httpcore.connection:_trace.py:47 close.started
DEBUG    httpcore.connection:_trace.py:47 close.complete
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function set_list_objects_encoding_type_url at 0x762d20b5a7a0>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function validate_bucket_name at 0x762d20b59300>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function remove_bucket_from_url_paths_from_model at 0x762d20b5b600>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fdffa10>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method ClientCreator._inject_s3_input_parameters of <botocore.client.ClientCreator object at 0x762d1feb3c20>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function generate_idempotent_uuid at 0x762d20b59120>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function _handle_request_validation_mode_member at 0x762d20b5bce0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x762d20b5b7e0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fdffa10>>
DEBUG    botocore.regions:regions.py:506 Calling endpoint provider with parameters: {'Bucket': 'document', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'Endpoint': 'http://localhost:9000', 'ForcePathStyle': True, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
DEBUG    botocore.regions:regions.py:521 Endpoint provider result: http://localhost:9000/document
DEBUG    botocore.regions:regions.py:691 Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
DEBUG    botocore.regions:regions.py:766 Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_expect_header at 0x762d20b596c0>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.apply_signing_cache_key of <botocore.utils.S3ExpressIdentityResolver object at 0x762d2009b710>>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_recursion_detection_header at 0x762d20b58c20>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function inject_api_version_header_if_needed at 0x762d20b5ac00>
DEBUG    botocore.endpoint:endpoint.py:114 Making request for OperationModel(name=ListObjectsV2) with params: {'url_path': '?list-type=2', 'query_string': {'encoding-type': 'url'}, 'method': 'GET', 'headers': {'User-Agent': 'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1'}, 'body': b'', 'auth_path': '/document/', 'url': 'http://localhost:9000/document?list-type=2&encoding-type=url', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x762d216af390>, 'has_streaming_input': False, 'auth_type': 'v4', 'unsigned_payload': None, 'auth_options': ['aws.auth#sigv4'], 'encoding_type_auto_set': True, 's3_redirect': {'redirected': False, 'bucket': 'document', 'params': {'Bucket': 'document', 'EncodingType': 'url'}}, 'input_params': {'Bucket': 'document'}, 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 'endpoint_properties': {'authSchemes': [{'disableDoubleEncoding': True, 'name': 'sigv4', 'signingName': 's3', 'signingRegion': 'us-east-1'}]}}}
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x762d1fe58e50>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x762d1feb3c20>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <function set_operation_specific_signer at 0x762d20b58ea0>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function remove_arn_from_signing_path at 0x762d20b5b740>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function _set_extra_headers_for_unsigned_request at 0x762d20b5bd80>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.resolve_s3express_identity of <botocore.utils.S3ExpressIdentityResolver object at 0x762d2009b710>>
DEBUG    botocore.auth:auth.py:429 Calculating signature using v4 auth.
DEBUG    botocore.auth:auth.py:430 CanonicalRequest:
GET
/document
encoding-type=url&list-type=2
host:localhost:9000
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20251206T230520Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
DEBUG    botocore.auth:auth.py:432 StringToSign:
AWS4-HMAC-SHA256
20251206T230520Z
20251206/us-east-1/s3/aws4_request
0a1fe4c2ffa6f99c4bb446c2cdd5e835d1117766cbd0e2f8eabf15e36694ed74
DEBUG    botocore.auth:auth.py:434 Signature:
cefdd9ed31c0f9fcb9b922e1c8c79d79cfcf0daff1743dba02426144924d3cda
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method UserAgentString.rebuild_and_replace_user_agent_handler of <botocore.useragent.UserAgentString object at 0x762d1fe6ad00>>
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <function add_retry_headers at 0x762d20b5b560>
DEBUG    botocore.endpoint:endpoint.py:263 Sending http request: <AWSPreparedRequest stream_output=False, method=GET, url=http://localhost:9000/document?list-type=2&encoding-type=url, headers={'User-Agent': b'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1', 'X-Amz-Date': b'20251206T230520Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=minioadmin/20251206/us-east-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=cefdd9ed31c0f9fcb9b922e1c8c79d79cfcf0daff1743dba02426144924d3cda', 'amz-sdk-invocation-id': b'e2384ad6-3a63-4400-89b5-1d1beae91e41', 'amz-sdk-request': b'attempt=1'}>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function _handle_200_error at 0x762d20b5bb00>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function handle_expires_header at 0x762d20b5b920>
DEBUG    botocore.parsers:parsers.py:255 Response headers: {'Accept-Ranges': 'bytes', 'Content-Length': '1651', 'Content-Type': 'application/xml', 'Server': 'MinIO', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'Vary': 'Origin, Accept-Encoding', 'X-Amz-Id-2': 'dd9025bab4ad464b049177c95eb6ebf374d3b3fd1af9251148b658df7ac2e3e8', 'X-Amz-Request-Id': '187EC2D42194CB06', 'X-Content-Type-Options': 'nosniff', 'X-Ratelimit-Limit': '4101', 'X-Ratelimit-Remaining': '4101', 'X-Xss-Protection': '1; mode=block', 'Date': 'Sat, 06 Dec 2025 23:05:20 GMT'}
DEBUG    botocore.parsers:parsers.py:256 Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<ListBucketResult xmlns="http://s3.amazonaws.com/doc/2006-03-01/"><Name>document</Name><Prefix></Prefix><KeyCount>5</KeyCount><MaxKeys>1000</MaxKeys><IsTruncated>false</IsTruncated><Contents><Key>117b0b2c981e75201b42a3f484ce0597efc559bf6d13288eacc4a717fa2fc736/tmpfexropfo_ops2.txt</Key><LastModified>2025-12-06T04:26:08.867Z</LastModified><ETag>&#34;5e0d22fc93f0f5ce7afce9aa02b0bc7d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>61b46b03f15f3c81f3640916be69f1d34fdd8191644e3d689a4c50cb9bc91d23/tmp2fa0p4_o_ops3.txt</Key><LastModified>2025-12-06T04:26:14.608Z</LastModified><ETag>&#34;53cec5e28d6e94a3991483e9dea86cd5&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>c26ae29584f33f4398072bfe9a37f455a85460237adf672922c3c7d928ba99f0/tmptsq137kv_ops0.txt</Key><LastModified>2025-12-06T04:25:59.153Z</LastModified><ETag>&#34;f697ceebb544c3f9ffe7d768f83c059d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>eea2eb3d0912c348f733308b3bc702cb37ef6eb0c96ff6b0c515cd5942a553ec/tmpg0h_zyad.txt</Key><LastModified>2025-12-06T04:29:48.556Z</LastModified><ETag>&#34;a33c5f35dbf2a7336b7535430610e358&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>fae826ba4b154dd6a512b641abf32b71b0ae3050e613292dfe675d6fca935adb/tmpug44129o_ops1.txt</Key><LastModified>2025-12-06T04:26:04.132Z</LastModified><ETag>&#34;01b0c1954a19d5d40136aa728191f1d4&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><EncodingType>url</EncodingType></ListBucketResult>'
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <function _update_status_code at 0x762d20b5bc40>
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <botocore.retryhandler.RetryHandler object at 0x762d1fdfdd30>
DEBUG    botocore.retryhandler:retryhandler.py:211 No retry needed.
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fdffa10>>
DEBUG    botocore.hooks:hooks.py:238 Event after-call.s3.ListObjectsV2: calling handler <function decode_list_object_v2 at 0x762d20b5a8e0>
__________ TestWorkspaceContext.test_select_workspace_multiple_times ___________

self = <e2e.cli.test_workspace_context.TestWorkspaceContext object at 0x762d3b7589d0>

    def test_select_workspace_multiple_times(self):
        """Test selecting the same workspace multiple times."""
        ws_id = self.create_workspace("Multi Select Test")
    
        for _ in range(3):
            result = self.run_cli("workspace", "select", ws_id)
>           assert result.returncode == 0
E           assert 1 == 0
E            +  where 1 = CompletedProcess(args=['/home/nate/.cache/pypoetry/virtualenvs/insighthub-G9Cf3wlO-py3.13/bin/python', '-m', 'src.cli', 'workspace', 'select', '441'], returncode=1, stdout="Error: name 'sys' is not defined\n", stderr="Error: name 'Failure' is not defined\n").returncode

tests/e2e/cli/test_workspace_context.py:71: AssertionError
------------------------------ Captured log setup ------------------------------
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x762d1fe07890>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.complete
DEBUG    httpcore.http11:_trace.py:47 send_request_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_body.complete
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Sun, 07 Dec 2025 00:01:21 GMT')])
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.complete
DEBUG    httpcore.http11:_trace.py:47 response_closed.started
DEBUG    httpcore.http11:_trace.py:47 response_closed.complete
DEBUG    httpcore.connection:_trace.py:47 close.started
DEBUG    httpcore.connection:_trace.py:47 close.complete
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x762d2105c640>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.complete
DEBUG    httpcore.http11:_trace.py:47 send_request_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_body.complete
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Sun, 07 Dec 2025 00:01:21 GMT')])
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.complete
DEBUG    httpcore.http11:_trace.py:47 response_closed.started
DEBUG    httpcore.http11:_trace.py:47 response_closed.complete
DEBUG    httpcore.connection:_trace.py:47 close.started
DEBUG    httpcore.connection:_trace.py:47 close.complete
DEBUG    botocore.hooks:hooks.py:238 Event choose-service-name: calling handler <function handle_service_name_alias at 0x762d20b58360>
DEBUG    botocore.hooks:hooks.py:238 Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x762d20cb2de0>
DEBUG    botocore.hooks:hooks.py:238 Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x762d20be2520>
DEBUG    botocore.hooks:hooks.py:238 Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x762d20cb2b60>
DEBUG    botocore.endpoint:endpoint.py:414 Setting s3 timeout as (60, 60)
DEBUG    botocore.client:client.py:286 Registering retry handlers for service: s3
DEBUG    botocore.utils:utils.py:1747 Registering S3 region redirector handler
DEBUG    botocore.utils:utils.py:1695 Registering S3Express Identity Resolver
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function set_list_objects_encoding_type_url at 0x762d20b5a7a0>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function validate_bucket_name at 0x762d20b59300>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function remove_bucket_from_url_paths_from_model at 0x762d20b5b600>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fda4950>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method ClientCreator._inject_s3_input_parameters of <botocore.client.ClientCreator object at 0x762d1fbe9de0>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function generate_idempotent_uuid at 0x762d20b59120>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function _handle_request_validation_mode_member at 0x762d20b5bce0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x762d20b5b7e0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fda4950>>
DEBUG    botocore.regions:regions.py:506 Calling endpoint provider with parameters: {'Bucket': 'document', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'Endpoint': 'http://localhost:9000', 'ForcePathStyle': True, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
DEBUG    botocore.regions:regions.py:521 Endpoint provider result: http://localhost:9000/document
DEBUG    botocore.regions:regions.py:691 Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
DEBUG    botocore.regions:regions.py:766 Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_expect_header at 0x762d20b596c0>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.apply_signing_cache_key of <botocore.utils.S3ExpressIdentityResolver object at 0x762d1fda75f0>>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_recursion_detection_header at 0x762d20b58c20>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function inject_api_version_header_if_needed at 0x762d20b5ac00>
DEBUG    botocore.endpoint:endpoint.py:114 Making request for OperationModel(name=ListObjectsV2) with params: {'url_path': '?list-type=2', 'query_string': {'encoding-type': 'url'}, 'method': 'GET', 'headers': {'User-Agent': 'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1'}, 'body': b'', 'auth_path': '/document/', 'url': 'http://localhost:9000/document?list-type=2&encoding-type=url', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x762d215e0690>, 'has_streaming_input': False, 'auth_type': 'v4', 'unsigned_payload': None, 'auth_options': ['aws.auth#sigv4'], 'encoding_type_auto_set': True, 's3_redirect': {'redirected': False, 'bucket': 'document', 'params': {'Bucket': 'document', 'EncodingType': 'url'}}, 'input_params': {'Bucket': 'document'}, 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 'endpoint_properties': {'authSchemes': [{'disableDoubleEncoding': True, 'name': 'sigv4', 'signingName': 's3', 'signingRegion': 'us-east-1'}]}}}
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x762d1fedc6d0>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x762d1fbe9de0>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <function set_operation_specific_signer at 0x762d20b58ea0>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function remove_arn_from_signing_path at 0x762d20b5b740>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function _set_extra_headers_for_unsigned_request at 0x762d20b5bd80>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.resolve_s3express_identity of <botocore.utils.S3ExpressIdentityResolver object at 0x762d1fda75f0>>
DEBUG    botocore.auth:auth.py:429 Calculating signature using v4 auth.
DEBUG    botocore.auth:auth.py:430 CanonicalRequest:
GET
/document
encoding-type=url&list-type=2
host:localhost:9000
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20251207T000121Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
DEBUG    botocore.auth:auth.py:432 StringToSign:
AWS4-HMAC-SHA256
20251207T000121Z
20251207/us-east-1/s3/aws4_request
f541cd3b25bd7c82437ca59b766c6d1d0b8d04da1ecbb80c6f2efaee3093ef2b
DEBUG    botocore.auth:auth.py:434 Signature:
a8a8773b87ea29f637f131a3140db1549bcafd49edc7539fecbe3949f14bf5dd
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method UserAgentString.rebuild_and_replace_user_agent_handler of <botocore.useragent.UserAgentString object at 0x762d1fbeb070>>
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <function add_retry_headers at 0x762d20b5b560>
DEBUG    botocore.endpoint:endpoint.py:263 Sending http request: <AWSPreparedRequest stream_output=False, method=GET, url=http://localhost:9000/document?list-type=2&encoding-type=url, headers={'User-Agent': b'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1', 'X-Amz-Date': b'20251207T000121Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=minioadmin/20251207/us-east-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=a8a8773b87ea29f637f131a3140db1549bcafd49edc7539fecbe3949f14bf5dd', 'amz-sdk-invocation-id': b'5b8abc95-5e98-481a-9031-04f28b0b26bb', 'amz-sdk-request': b'attempt=1'}>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function _handle_200_error at 0x762d20b5bb00>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function handle_expires_header at 0x762d20b5b920>
DEBUG    botocore.parsers:parsers.py:255 Response headers: {'Accept-Ranges': 'bytes', 'Content-Length': '1651', 'Content-Type': 'application/xml', 'Server': 'MinIO', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'Vary': 'Origin, Accept-Encoding', 'X-Amz-Id-2': 'dd9025bab4ad464b049177c95eb6ebf374d3b3fd1af9251148b658df7ac2e3e8', 'X-Amz-Request-Id': '187EC5E2B1992B3F', 'X-Content-Type-Options': 'nosniff', 'X-Ratelimit-Limit': '4101', 'X-Ratelimit-Remaining': '4101', 'X-Xss-Protection': '1; mode=block', 'Date': 'Sun, 07 Dec 2025 00:01:21 GMT'}
DEBUG    botocore.parsers:parsers.py:256 Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<ListBucketResult xmlns="http://s3.amazonaws.com/doc/2006-03-01/"><Name>document</Name><Prefix></Prefix><KeyCount>5</KeyCount><MaxKeys>1000</MaxKeys><IsTruncated>false</IsTruncated><Contents><Key>117b0b2c981e75201b42a3f484ce0597efc559bf6d13288eacc4a717fa2fc736/tmpfexropfo_ops2.txt</Key><LastModified>2025-12-06T04:26:08.867Z</LastModified><ETag>&#34;5e0d22fc93f0f5ce7afce9aa02b0bc7d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>61b46b03f15f3c81f3640916be69f1d34fdd8191644e3d689a4c50cb9bc91d23/tmp2fa0p4_o_ops3.txt</Key><LastModified>2025-12-06T04:26:14.608Z</LastModified><ETag>&#34;53cec5e28d6e94a3991483e9dea86cd5&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>c26ae29584f33f4398072bfe9a37f455a85460237adf672922c3c7d928ba99f0/tmptsq137kv_ops0.txt</Key><LastModified>2025-12-06T04:25:59.153Z</LastModified><ETag>&#34;f697ceebb544c3f9ffe7d768f83c059d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>eea2eb3d0912c348f733308b3bc702cb37ef6eb0c96ff6b0c515cd5942a553ec/tmpg0h_zyad.txt</Key><LastModified>2025-12-06T04:29:48.556Z</LastModified><ETag>&#34;a33c5f35dbf2a7336b7535430610e358&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>fae826ba4b154dd6a512b641abf32b71b0ae3050e613292dfe675d6fca935adb/tmpug44129o_ops1.txt</Key><LastModified>2025-12-06T04:26:04.132Z</LastModified><ETag>&#34;01b0c1954a19d5d40136aa728191f1d4&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><EncodingType>url</EncodingType></ListBucketResult>'
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <function _update_status_code at 0x762d20b5bc40>
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <botocore.retryhandler.RetryHandler object at 0x762d1fda5bb0>
DEBUG    botocore.retryhandler:retryhandler.py:211 No retry needed.
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fda4950>>
DEBUG    botocore.hooks:hooks.py:238 Event after-call.s3.ListObjectsV2: calling handler <function decode_list_object_v2 at 0x762d20b5a8e0>
---------------------------- Captured log teardown -----------------------------
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x762d210829e0>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.complete
DEBUG    httpcore.http11:_trace.py:47 send_request_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_body.complete
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'content-encoding', b'gzip'), (b'date', b'Sun, 07 Dec 2025 00:02:08 GMT')])
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.complete
DEBUG    httpcore.http11:_trace.py:47 response_closed.started
DEBUG    httpcore.http11:_trace.py:47 response_closed.complete
DEBUG    httpcore.connection:_trace.py:47 close.started
DEBUG    httpcore.connection:_trace.py:47 close.complete
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function set_list_objects_encoding_type_url at 0x762d20b5a7a0>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function validate_bucket_name at 0x762d20b59300>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function remove_bucket_from_url_paths_from_model at 0x762d20b5b600>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fda4950>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method ClientCreator._inject_s3_input_parameters of <botocore.client.ClientCreator object at 0x762d1fbe9de0>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function generate_idempotent_uuid at 0x762d20b59120>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function _handle_request_validation_mode_member at 0x762d20b5bce0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x762d20b5b7e0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fda4950>>
DEBUG    botocore.regions:regions.py:506 Calling endpoint provider with parameters: {'Bucket': 'document', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'Endpoint': 'http://localhost:9000', 'ForcePathStyle': True, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
DEBUG    botocore.regions:regions.py:521 Endpoint provider result: http://localhost:9000/document
DEBUG    botocore.regions:regions.py:691 Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
DEBUG    botocore.regions:regions.py:766 Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_expect_header at 0x762d20b596c0>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.apply_signing_cache_key of <botocore.utils.S3ExpressIdentityResolver object at 0x762d1fda75f0>>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_recursion_detection_header at 0x762d20b58c20>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function inject_api_version_header_if_needed at 0x762d20b5ac00>
DEBUG    botocore.endpoint:endpoint.py:114 Making request for OperationModel(name=ListObjectsV2) with params: {'url_path': '?list-type=2', 'query_string': {'encoding-type': 'url'}, 'method': 'GET', 'headers': {'User-Agent': 'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1'}, 'body': b'', 'auth_path': '/document/', 'url': 'http://localhost:9000/document?list-type=2&encoding-type=url', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x762d215e0690>, 'has_streaming_input': False, 'auth_type': 'v4', 'unsigned_payload': None, 'auth_options': ['aws.auth#sigv4'], 'encoding_type_auto_set': True, 's3_redirect': {'redirected': False, 'bucket': 'document', 'params': {'Bucket': 'document', 'EncodingType': 'url'}}, 'input_params': {'Bucket': 'document'}, 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 'endpoint_properties': {'authSchemes': [{'disableDoubleEncoding': True, 'name': 'sigv4', 'signingName': 's3', 'signingRegion': 'us-east-1'}]}}}
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x762d1fedc6d0>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x762d1fbe9de0>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <function set_operation_specific_signer at 0x762d20b58ea0>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function remove_arn_from_signing_path at 0x762d20b5b740>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function _set_extra_headers_for_unsigned_request at 0x762d20b5bd80>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.resolve_s3express_identity of <botocore.utils.S3ExpressIdentityResolver object at 0x762d1fda75f0>>
DEBUG    botocore.auth:auth.py:429 Calculating signature using v4 auth.
DEBUG    botocore.auth:auth.py:430 CanonicalRequest:
GET
/document
encoding-type=url&list-type=2
host:localhost:9000
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20251207T000208Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
DEBUG    botocore.auth:auth.py:432 StringToSign:
AWS4-HMAC-SHA256
20251207T000208Z
20251207/us-east-1/s3/aws4_request
c367f9ce7511398588023515e33684a2dac1fbea1026f98bb26dcbaf6bde46af
DEBUG    botocore.auth:auth.py:434 Signature:
2dccc847f95c65e9dca8bf33aa3c35062ce0e09f8d0057fce1b65599d02c3d65
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method UserAgentString.rebuild_and_replace_user_agent_handler of <botocore.useragent.UserAgentString object at 0x762d1fbeb070>>
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <function add_retry_headers at 0x762d20b5b560>
DEBUG    botocore.endpoint:endpoint.py:263 Sending http request: <AWSPreparedRequest stream_output=False, method=GET, url=http://localhost:9000/document?list-type=2&encoding-type=url, headers={'User-Agent': b'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1', 'X-Amz-Date': b'20251207T000208Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=minioadmin/20251207/us-east-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=2dccc847f95c65e9dca8bf33aa3c35062ce0e09f8d0057fce1b65599d02c3d65', 'amz-sdk-invocation-id': b'f6557d54-7f95-4da4-9982-9a5036c531c5', 'amz-sdk-request': b'attempt=1'}>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function _handle_200_error at 0x762d20b5bb00>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function handle_expires_header at 0x762d20b5b920>
DEBUG    botocore.parsers:parsers.py:255 Response headers: {'Accept-Ranges': 'bytes', 'Content-Length': '1651', 'Content-Type': 'application/xml', 'Server': 'MinIO', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'Vary': 'Origin, Accept-Encoding', 'X-Amz-Id-2': 'dd9025bab4ad464b049177c95eb6ebf374d3b3fd1af9251148b658df7ac2e3e8', 'X-Amz-Request-Id': '187EC5EDA3B621D9', 'X-Content-Type-Options': 'nosniff', 'X-Ratelimit-Limit': '4101', 'X-Ratelimit-Remaining': '4101', 'X-Xss-Protection': '1; mode=block', 'Date': 'Sun, 07 Dec 2025 00:02:08 GMT'}
DEBUG    botocore.parsers:parsers.py:256 Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<ListBucketResult xmlns="http://s3.amazonaws.com/doc/2006-03-01/"><Name>document</Name><Prefix></Prefix><KeyCount>5</KeyCount><MaxKeys>1000</MaxKeys><IsTruncated>false</IsTruncated><Contents><Key>117b0b2c981e75201b42a3f484ce0597efc559bf6d13288eacc4a717fa2fc736/tmpfexropfo_ops2.txt</Key><LastModified>2025-12-06T04:26:08.867Z</LastModified><ETag>&#34;5e0d22fc93f0f5ce7afce9aa02b0bc7d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>61b46b03f15f3c81f3640916be69f1d34fdd8191644e3d689a4c50cb9bc91d23/tmp2fa0p4_o_ops3.txt</Key><LastModified>2025-12-06T04:26:14.608Z</LastModified><ETag>&#34;53cec5e28d6e94a3991483e9dea86cd5&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>c26ae29584f33f4398072bfe9a37f455a85460237adf672922c3c7d928ba99f0/tmptsq137kv_ops0.txt</Key><LastModified>2025-12-06T04:25:59.153Z</LastModified><ETag>&#34;f697ceebb544c3f9ffe7d768f83c059d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>eea2eb3d0912c348f733308b3bc702cb37ef6eb0c96ff6b0c515cd5942a553ec/tmpg0h_zyad.txt</Key><LastModified>2025-12-06T04:29:48.556Z</LastModified><ETag>&#34;a33c5f35dbf2a7336b7535430610e358&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>fae826ba4b154dd6a512b641abf32b71b0ae3050e613292dfe675d6fca935adb/tmpug44129o_ops1.txt</Key><LastModified>2025-12-06T04:26:04.132Z</LastModified><ETag>&#34;01b0c1954a19d5d40136aa728191f1d4&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><EncodingType>url</EncodingType></ListBucketResult>'
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <function _update_status_code at 0x762d20b5bc40>
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <botocore.retryhandler.RetryHandler object at 0x762d1fda5bb0>
DEBUG    botocore.retryhandler:retryhandler.py:211 No retry needed.
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fda4950>>
DEBUG    botocore.hooks:hooks.py:238 Event after-call.s3.ListObjectsV2: calling handler <function decode_list_object_v2 at 0x762d20b5a8e0>
______________ TestWorkspaceContext.test_update_current_workspace ______________

self = <e2e.cli.test_workspace_context.TestWorkspaceContext object at 0x762d3bbadf50>

    def test_update_current_workspace(self):
        """Test updating the currently selected workspace."""
        ws_id = self.create_workspace("Original", "Original description")
    
        # Select workspace
        select = self.run_cli("workspace", "select", ws_id)
        assert select.returncode == 0
    
        # Update workspace
        update = subprocess.run(
            [sys.executable, "-m", "src.cli", "workspace", "update", ws_id],
            input="Updated Name\nUpdated Description\n",
            capture_output=True,
            text=True,
        )
        assert update.returncode == 0
    
        # Show workspace to verify update
        show = self.run_cli("workspace", "show", ws_id)
>       assert show.returncode == 0
E       assert 1 == 0
E        +  where 1 = CompletedProcess(args=['/home/nate/.cache/pypoetry/virtualenvs/insighthub-G9Cf3wlO-py3.13/bin/python', '-m', 'src.cli', 'workspace', 'show', '450'], returncode=1, stdout="ID: 450\nName: Updated Name\nRAG Type: vector\nStatus: ready\nDescription: Updated Description\nCreated: 2025-12-07T00:14:01.136522\nUpdated: 2025-12-07T00:14:31.030945\nError: name 'sys' is not defined\n", stderr="Error: name 'Failure' is not defined\n").returncode

tests/e2e/cli/test_workspace_context.py:292: AssertionError
------------------------------ Captured log setup ------------------------------
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x762d20018fa0>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.complete
DEBUG    httpcore.http11:_trace.py:47 send_request_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_body.complete
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'content-type', b'application/json'), (b'date', b'Sun, 07 Dec 2025 00:13:46 GMT')])
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.complete
DEBUG    httpcore.http11:_trace.py:47 response_closed.started
DEBUG    httpcore.http11:_trace.py:47 response_closed.complete
DEBUG    httpcore.connection:_trace.py:47 close.started
DEBUG    httpcore.connection:_trace.py:47 close.complete
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x762d1fe06580>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.complete
DEBUG    httpcore.http11:_trace.py:47 send_request_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_body.complete
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'content-encoding', b'gzip'), (b'content-type', b'application/json'), (b'date', b'Sun, 07 Dec 2025 00:13:46 GMT')])
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.complete
DEBUG    httpcore.http11:_trace.py:47 response_closed.started
DEBUG    httpcore.http11:_trace.py:47 response_closed.complete
DEBUG    httpcore.connection:_trace.py:47 close.started
DEBUG    httpcore.connection:_trace.py:47 close.complete
DEBUG    botocore.hooks:hooks.py:238 Event choose-service-name: calling handler <function handle_service_name_alias at 0x762d20b58360>
DEBUG    botocore.hooks:hooks.py:238 Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x762d20cb2de0>
DEBUG    botocore.hooks:hooks.py:238 Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x762d20be2520>
DEBUG    botocore.hooks:hooks.py:238 Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x762d20cb2b60>
DEBUG    botocore.endpoint:endpoint.py:414 Setting s3 timeout as (60, 60)
DEBUG    botocore.client:client.py:286 Registering retry handlers for service: s3
DEBUG    botocore.utils:utils.py:1747 Registering S3 region redirector handler
DEBUG    botocore.utils:utils.py:1695 Registering S3Express Identity Resolver
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function set_list_objects_encoding_type_url at 0x762d20b5a7a0>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function validate_bucket_name at 0x762d20b59300>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function remove_bucket_from_url_paths_from_model at 0x762d20b5b600>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fe0e870>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method ClientCreator._inject_s3_input_parameters of <botocore.client.ClientCreator object at 0x762d1fe32570>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function generate_idempotent_uuid at 0x762d20b59120>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function _handle_request_validation_mode_member at 0x762d20b5bce0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x762d20b5b7e0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fe0e870>>
DEBUG    botocore.regions:regions.py:506 Calling endpoint provider with parameters: {'Bucket': 'document', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'Endpoint': 'http://localhost:9000', 'ForcePathStyle': True, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
DEBUG    botocore.regions:regions.py:521 Endpoint provider result: http://localhost:9000/document
DEBUG    botocore.regions:regions.py:691 Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
DEBUG    botocore.regions:regions.py:766 Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_expect_header at 0x762d20b596c0>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.apply_signing_cache_key of <botocore.utils.S3ExpressIdentityResolver object at 0x762d1fe0f410>>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_recursion_detection_header at 0x762d20b58c20>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function inject_api_version_header_if_needed at 0x762d20b5ac00>
DEBUG    botocore.endpoint:endpoint.py:114 Making request for OperationModel(name=ListObjectsV2) with params: {'url_path': '?list-type=2', 'query_string': {'encoding-type': 'url'}, 'method': 'GET', 'headers': {'User-Agent': 'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1'}, 'body': b'', 'auth_path': '/document/', 'url': 'http://localhost:9000/document?list-type=2&encoding-type=url', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x762d215e0690>, 'has_streaming_input': False, 'auth_type': 'v4', 'unsigned_payload': None, 'auth_options': ['aws.auth#sigv4'], 'encoding_type_auto_set': True, 's3_redirect': {'redirected': False, 'bucket': 'document', 'params': {'Bucket': 'document', 'EncodingType': 'url'}}, 'input_params': {'Bucket': 'document'}, 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 'endpoint_properties': {'authSchemes': [{'disableDoubleEncoding': True, 'name': 'sigv4', 'signingName': 's3', 'signingRegion': 'us-east-1'}]}}}
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x762d1fede2d0>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x762d1fe32570>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <function set_operation_specific_signer at 0x762d20b58ea0>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function remove_arn_from_signing_path at 0x762d20b5b740>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function _set_extra_headers_for_unsigned_request at 0x762d20b5bd80>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.resolve_s3express_identity of <botocore.utils.S3ExpressIdentityResolver object at 0x762d1fe0f410>>
DEBUG    botocore.auth:auth.py:429 Calculating signature using v4 auth.
DEBUG    botocore.auth:auth.py:430 CanonicalRequest:
GET
/document
encoding-type=url&list-type=2
host:localhost:9000
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20251207T001346Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
DEBUG    botocore.auth:auth.py:432 StringToSign:
AWS4-HMAC-SHA256
20251207T001346Z
20251207/us-east-1/s3/aws4_request
7ccca89c1c24fe500320d9cc29f8cc030f8d7436f5e9198674d26ce76dfe84dc
DEBUG    botocore.auth:auth.py:434 Signature:
220aa02fe5dc823fb8ccf014e98dd4479711df696c9b16c5b70305e1ee7c8a4d
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method UserAgentString.rebuild_and_replace_user_agent_handler of <botocore.useragent.UserAgentString object at 0x762d1fe31e90>>
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <function add_retry_headers at 0x762d20b5b560>
DEBUG    botocore.endpoint:endpoint.py:263 Sending http request: <AWSPreparedRequest stream_output=False, method=GET, url=http://localhost:9000/document?list-type=2&encoding-type=url, headers={'User-Agent': b'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1', 'X-Amz-Date': b'20251207T001346Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=minioadmin/20251207/us-east-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=220aa02fe5dc823fb8ccf014e98dd4479711df696c9b16c5b70305e1ee7c8a4d', 'amz-sdk-invocation-id': b'4620f549-6a9f-47f6-ad46-b0f89e3c0e4b', 'amz-sdk-request': b'attempt=1'}>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function _handle_200_error at 0x762d20b5bb00>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function handle_expires_header at 0x762d20b5b920>
DEBUG    botocore.parsers:parsers.py:255 Response headers: {'Accept-Ranges': 'bytes', 'Content-Length': '1651', 'Content-Type': 'application/xml', 'Server': 'MinIO', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'Vary': 'Origin, Accept-Encoding', 'X-Amz-Id-2': 'dd9025bab4ad464b049177c95eb6ebf374d3b3fd1af9251148b658df7ac2e3e8', 'X-Amz-Request-Id': '187EC69040E9415E', 'X-Content-Type-Options': 'nosniff', 'X-Ratelimit-Limit': '4101', 'X-Ratelimit-Remaining': '4101', 'X-Xss-Protection': '1; mode=block', 'Date': 'Sun, 07 Dec 2025 00:13:46 GMT'}
DEBUG    botocore.parsers:parsers.py:256 Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<ListBucketResult xmlns="http://s3.amazonaws.com/doc/2006-03-01/"><Name>document</Name><Prefix></Prefix><KeyCount>5</KeyCount><MaxKeys>1000</MaxKeys><IsTruncated>false</IsTruncated><Contents><Key>117b0b2c981e75201b42a3f484ce0597efc559bf6d13288eacc4a717fa2fc736/tmpfexropfo_ops2.txt</Key><LastModified>2025-12-06T04:26:08.867Z</LastModified><ETag>&#34;5e0d22fc93f0f5ce7afce9aa02b0bc7d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>61b46b03f15f3c81f3640916be69f1d34fdd8191644e3d689a4c50cb9bc91d23/tmp2fa0p4_o_ops3.txt</Key><LastModified>2025-12-06T04:26:14.608Z</LastModified><ETag>&#34;53cec5e28d6e94a3991483e9dea86cd5&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>c26ae29584f33f4398072bfe9a37f455a85460237adf672922c3c7d928ba99f0/tmptsq137kv_ops0.txt</Key><LastModified>2025-12-06T04:25:59.153Z</LastModified><ETag>&#34;f697ceebb544c3f9ffe7d768f83c059d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>eea2eb3d0912c348f733308b3bc702cb37ef6eb0c96ff6b0c515cd5942a553ec/tmpg0h_zyad.txt</Key><LastModified>2025-12-06T04:29:48.556Z</LastModified><ETag>&#34;a33c5f35dbf2a7336b7535430610e358&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>fae826ba4b154dd6a512b641abf32b71b0ae3050e613292dfe675d6fca935adb/tmpug44129o_ops1.txt</Key><LastModified>2025-12-06T04:26:04.132Z</LastModified><ETag>&#34;01b0c1954a19d5d40136aa728191f1d4&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><EncodingType>url</EncodingType></ListBucketResult>'
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <function _update_status_code at 0x762d20b5bc40>
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <botocore.retryhandler.RetryHandler object at 0x762d1fe0c950>
DEBUG    botocore.retryhandler:retryhandler.py:211 No retry needed.
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fe0e870>>
DEBUG    botocore.hooks:hooks.py:238 Event after-call.s3.ListObjectsV2: calling handler <function decode_list_object_v2 at 0x762d20b5a8e0>
---------------------------- Captured log teardown -----------------------------
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x762d210637f0>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.complete
DEBUG    httpcore.http11:_trace.py:47 send_request_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_body.complete
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'content-encoding', b'gzip'), (b'date', b'Sun, 07 Dec 2025 00:15:03 GMT')])
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.complete
DEBUG    httpcore.http11:_trace.py:47 response_closed.started
DEBUG    httpcore.http11:_trace.py:47 response_closed.complete
DEBUG    httpcore.connection:_trace.py:47 close.started
DEBUG    httpcore.connection:_trace.py:47 close.complete
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function set_list_objects_encoding_type_url at 0x762d20b5a7a0>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function validate_bucket_name at 0x762d20b59300>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function remove_bucket_from_url_paths_from_model at 0x762d20b5b600>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fe0e870>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method ClientCreator._inject_s3_input_parameters of <botocore.client.ClientCreator object at 0x762d1fe32570>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function generate_idempotent_uuid at 0x762d20b59120>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function _handle_request_validation_mode_member at 0x762d20b5bce0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x762d20b5b7e0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fe0e870>>
DEBUG    botocore.regions:regions.py:506 Calling endpoint provider with parameters: {'Bucket': 'document', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'Endpoint': 'http://localhost:9000', 'ForcePathStyle': True, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
DEBUG    botocore.regions:regions.py:521 Endpoint provider result: http://localhost:9000/document
DEBUG    botocore.regions:regions.py:691 Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
DEBUG    botocore.regions:regions.py:766 Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_expect_header at 0x762d20b596c0>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.apply_signing_cache_key of <botocore.utils.S3ExpressIdentityResolver object at 0x762d1fe0f410>>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_recursion_detection_header at 0x762d20b58c20>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function inject_api_version_header_if_needed at 0x762d20b5ac00>
DEBUG    botocore.endpoint:endpoint.py:114 Making request for OperationModel(name=ListObjectsV2) with params: {'url_path': '?list-type=2', 'query_string': {'encoding-type': 'url'}, 'method': 'GET', 'headers': {'User-Agent': 'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1'}, 'body': b'', 'auth_path': '/document/', 'url': 'http://localhost:9000/document?list-type=2&encoding-type=url', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x762d215e0690>, 'has_streaming_input': False, 'auth_type': 'v4', 'unsigned_payload': None, 'auth_options': ['aws.auth#sigv4'], 'encoding_type_auto_set': True, 's3_redirect': {'redirected': False, 'bucket': 'document', 'params': {'Bucket': 'document', 'EncodingType': 'url'}}, 'input_params': {'Bucket': 'document'}, 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 'endpoint_properties': {'authSchemes': [{'disableDoubleEncoding': True, 'name': 'sigv4', 'signingName': 's3', 'signingRegion': 'us-east-1'}]}}}
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x762d1fede2d0>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x762d1fe32570>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <function set_operation_specific_signer at 0x762d20b58ea0>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function remove_arn_from_signing_path at 0x762d20b5b740>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function _set_extra_headers_for_unsigned_request at 0x762d20b5bd80>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.resolve_s3express_identity of <botocore.utils.S3ExpressIdentityResolver object at 0x762d1fe0f410>>
DEBUG    botocore.auth:auth.py:429 Calculating signature using v4 auth.
DEBUG    botocore.auth:auth.py:430 CanonicalRequest:
GET
/document
encoding-type=url&list-type=2
host:localhost:9000
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20251207T001503Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
DEBUG    botocore.auth:auth.py:432 StringToSign:
AWS4-HMAC-SHA256
20251207T001503Z
20251207/us-east-1/s3/aws4_request
114d9652bea6b22c25fc1480f832813dfceac80a0e8ca111506295fe3d90c525
DEBUG    botocore.auth:auth.py:434 Signature:
61e239933f9fd66b606eb720ac8765be2e43d1dc425bb8561142cbcc95fac6f8
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method UserAgentString.rebuild_and_replace_user_agent_handler of <botocore.useragent.UserAgentString object at 0x762d1fe31e90>>
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <function add_retry_headers at 0x762d20b5b560>
DEBUG    botocore.endpoint:endpoint.py:263 Sending http request: <AWSPreparedRequest stream_output=False, method=GET, url=http://localhost:9000/document?list-type=2&encoding-type=url, headers={'User-Agent': b'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1', 'X-Amz-Date': b'20251207T001503Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=minioadmin/20251207/us-east-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=61e239933f9fd66b606eb720ac8765be2e43d1dc425bb8561142cbcc95fac6f8', 'amz-sdk-invocation-id': b'86669dbb-2c12-44a8-bce7-0804b2a86ec4', 'amz-sdk-request': b'attempt=1'}>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function _handle_200_error at 0x762d20b5bb00>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function handle_expires_header at 0x762d20b5b920>
DEBUG    botocore.parsers:parsers.py:255 Response headers: {'Accept-Ranges': 'bytes', 'Content-Length': '1651', 'Content-Type': 'application/xml', 'Server': 'MinIO', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'Vary': 'Origin, Accept-Encoding', 'X-Amz-Id-2': 'dd9025bab4ad464b049177c95eb6ebf374d3b3fd1af9251148b658df7ac2e3e8', 'X-Amz-Request-Id': '187EC6A228E33B23', 'X-Content-Type-Options': 'nosniff', 'X-Ratelimit-Limit': '4101', 'X-Ratelimit-Remaining': '4101', 'X-Xss-Protection': '1; mode=block', 'Date': 'Sun, 07 Dec 2025 00:15:03 GMT'}
DEBUG    botocore.parsers:parsers.py:256 Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<ListBucketResult xmlns="http://s3.amazonaws.com/doc/2006-03-01/"><Name>document</Name><Prefix></Prefix><KeyCount>5</KeyCount><MaxKeys>1000</MaxKeys><IsTruncated>false</IsTruncated><Contents><Key>117b0b2c981e75201b42a3f484ce0597efc559bf6d13288eacc4a717fa2fc736/tmpfexropfo_ops2.txt</Key><LastModified>2025-12-06T04:26:08.867Z</LastModified><ETag>&#34;5e0d22fc93f0f5ce7afce9aa02b0bc7d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>61b46b03f15f3c81f3640916be69f1d34fdd8191644e3d689a4c50cb9bc91d23/tmp2fa0p4_o_ops3.txt</Key><LastModified>2025-12-06T04:26:14.608Z</LastModified><ETag>&#34;53cec5e28d6e94a3991483e9dea86cd5&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>c26ae29584f33f4398072bfe9a37f455a85460237adf672922c3c7d928ba99f0/tmptsq137kv_ops0.txt</Key><LastModified>2025-12-06T04:25:59.153Z</LastModified><ETag>&#34;f697ceebb544c3f9ffe7d768f83c059d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>eea2eb3d0912c348f733308b3bc702cb37ef6eb0c96ff6b0c515cd5942a553ec/tmpg0h_zyad.txt</Key><LastModified>2025-12-06T04:29:48.556Z</LastModified><ETag>&#34;a33c5f35dbf2a7336b7535430610e358&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>fae826ba4b154dd6a512b641abf32b71b0ae3050e613292dfe675d6fca935adb/tmpug44129o_ops1.txt</Key><LastModified>2025-12-06T04:26:04.132Z</LastModified><ETag>&#34;01b0c1954a19d5d40136aa728191f1d4&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><EncodingType>url</EncodingType></ListBucketResult>'
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <function _update_status_code at 0x762d20b5bc40>
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <botocore.retryhandler.RetryHandler object at 0x762d1fe0c950>
DEBUG    botocore.retryhandler:retryhandler.py:211 No retry needed.
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fe0e870>>
DEBUG    botocore.hooks:hooks.py:238 Event after-call.s3.ListObjectsV2: calling handler <function decode_list_object_v2 at 0x762d20b5a8e0>
___________ TestWorkspaceContext.test_update_non_selected_workspace ____________

self = <e2e.cli.test_workspace_context.TestWorkspaceContext object at 0x762d3bbc2b70>

    def test_update_non_selected_workspace(self):
        """Test updating a workspace that is not currently selected."""
        ws1_id = self.create_workspace("Workspace 1")
        ws2_id = self.create_workspace("Workspace 2")
    
        # Select first workspace
        select1 = self.run_cli("workspace", "select", ws1_id)
        assert select1.returncode == 0
    
        # Update second workspace (not selected)
        update = subprocess.run(
            [sys.executable, "-m", "src.cli", "workspace", "update", ws2_id],
            input="Updated WS2\nUpdated description\n",
            capture_output=True,
            text=True,
        )
        assert update.returncode == 0
    
        # Show second workspace to verify update
        show = self.run_cli("workspace", "show", ws2_id)
>       assert show.returncode == 0
E       assert 1 == 0
E        +  where 1 = CompletedProcess(args=['/home/nate/.cache/pypoetry/virtualenvs/insighthub-G9Cf3wlO-py3.13/bin/python', '-m', 'src.cli', 'workspace', 'show', '452'], returncode=1, stdout="ID: 452\nName: Updated WS2\nRAG Type: vector\nStatus: ready\nDescription: Updated description\nCreated: 2025-12-07T00:15:36.708148\nUpdated: 2025-12-07T00:16:08.096009\nError: name 'sys' is not defined\n", stderr="Error: name 'Failure' is not defined\n").returncode

tests/e2e/cli/test_workspace_context.py:315: AssertionError
------------------------------ Captured log setup ------------------------------
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x762d2009c6e0>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.complete
DEBUG    httpcore.http11:_trace.py:47 send_request_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_body.complete
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Sun, 07 Dec 2025 00:15:03 GMT')])
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.complete
DEBUG    httpcore.http11:_trace.py:47 response_closed.started
DEBUG    httpcore.http11:_trace.py:47 response_closed.complete
DEBUG    httpcore.connection:_trace.py:47 close.started
DEBUG    httpcore.connection:_trace.py:47 close.complete
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x762d3bb38f50>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.complete
DEBUG    httpcore.http11:_trace.py:47 send_request_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_body.complete
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Sun, 07 Dec 2025 00:15:03 GMT')])
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.complete
DEBUG    httpcore.http11:_trace.py:47 response_closed.started
DEBUG    httpcore.http11:_trace.py:47 response_closed.complete
DEBUG    httpcore.connection:_trace.py:47 close.started
DEBUG    httpcore.connection:_trace.py:47 close.complete
DEBUG    botocore.hooks:hooks.py:238 Event choose-service-name: calling handler <function handle_service_name_alias at 0x762d20b58360>
DEBUG    botocore.hooks:hooks.py:238 Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x762d20cb2de0>
DEBUG    botocore.hooks:hooks.py:238 Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x762d20be2520>
DEBUG    botocore.hooks:hooks.py:238 Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x762d20cb2b60>
DEBUG    botocore.endpoint:endpoint.py:414 Setting s3 timeout as (60, 60)
DEBUG    botocore.client:client.py:286 Registering retry handlers for service: s3
DEBUG    botocore.utils:utils.py:1747 Registering S3 region redirector handler
DEBUG    botocore.utils:utils.py:1695 Registering S3Express Identity Resolver
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function set_list_objects_encoding_type_url at 0x762d20b5a7a0>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function validate_bucket_name at 0x762d20b59300>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function remove_bucket_from_url_paths_from_model at 0x762d20b5b600>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fe946b0>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method ClientCreator._inject_s3_input_parameters of <botocore.client.ClientCreator object at 0x762d1ff871d0>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function generate_idempotent_uuid at 0x762d20b59120>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function _handle_request_validation_mode_member at 0x762d20b5bce0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x762d20b5b7e0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fe946b0>>
DEBUG    botocore.regions:regions.py:506 Calling endpoint provider with parameters: {'Bucket': 'document', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'Endpoint': 'http://localhost:9000', 'ForcePathStyle': True, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
DEBUG    botocore.regions:regions.py:521 Endpoint provider result: http://localhost:9000/document
DEBUG    botocore.regions:regions.py:691 Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
DEBUG    botocore.regions:regions.py:766 Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_expect_header at 0x762d20b596c0>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.apply_signing_cache_key of <botocore.utils.S3ExpressIdentityResolver object at 0x762d1fe96450>>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_recursion_detection_header at 0x762d20b58c20>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function inject_api_version_header_if_needed at 0x762d20b5ac00>
DEBUG    botocore.endpoint:endpoint.py:114 Making request for OperationModel(name=ListObjectsV2) with params: {'url_path': '?list-type=2', 'query_string': {'encoding-type': 'url'}, 'method': 'GET', 'headers': {'User-Agent': 'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1'}, 'body': b'', 'auth_path': '/document/', 'url': 'http://localhost:9000/document?list-type=2&encoding-type=url', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x762d20a12c10>, 'has_streaming_input': False, 'auth_type': 'v4', 'unsigned_payload': None, 'auth_options': ['aws.auth#sigv4'], 'encoding_type_auto_set': True, 's3_redirect': {'redirected': False, 'bucket': 'document', 'params': {'Bucket': 'document', 'EncodingType': 'url'}}, 'input_params': {'Bucket': 'document'}, 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 'endpoint_properties': {'authSchemes': [{'disableDoubleEncoding': True, 'name': 'sigv4', 'signingName': 's3', 'signingRegion': 'us-east-1'}]}}}
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x762d1ff1fa50>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x762d1ff871d0>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <function set_operation_specific_signer at 0x762d20b58ea0>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function remove_arn_from_signing_path at 0x762d20b5b740>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function _set_extra_headers_for_unsigned_request at 0x762d20b5bd80>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.resolve_s3express_identity of <botocore.utils.S3ExpressIdentityResolver object at 0x762d1fe96450>>
DEBUG    botocore.auth:auth.py:429 Calculating signature using v4 auth.
DEBUG    botocore.auth:auth.py:430 CanonicalRequest:
GET
/document
encoding-type=url&list-type=2
host:localhost:9000
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20251207T001503Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
DEBUG    botocore.auth:auth.py:432 StringToSign:
AWS4-HMAC-SHA256
20251207T001503Z
20251207/us-east-1/s3/aws4_request
114d9652bea6b22c25fc1480f832813dfceac80a0e8ca111506295fe3d90c525
DEBUG    botocore.auth:auth.py:434 Signature:
61e239933f9fd66b606eb720ac8765be2e43d1dc425bb8561142cbcc95fac6f8
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method UserAgentString.rebuild_and_replace_user_agent_handler of <botocore.useragent.UserAgentString object at 0x762d1fbe83c0>>
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <function add_retry_headers at 0x762d20b5b560>
DEBUG    botocore.endpoint:endpoint.py:263 Sending http request: <AWSPreparedRequest stream_output=False, method=GET, url=http://localhost:9000/document?list-type=2&encoding-type=url, headers={'User-Agent': b'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1', 'X-Amz-Date': b'20251207T001503Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=minioadmin/20251207/us-east-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=61e239933f9fd66b606eb720ac8765be2e43d1dc425bb8561142cbcc95fac6f8', 'amz-sdk-invocation-id': b'691b977b-d362-444c-ae30-1497d4767126', 'amz-sdk-request': b'attempt=1'}>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function _handle_200_error at 0x762d20b5bb00>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function handle_expires_header at 0x762d20b5b920>
DEBUG    botocore.parsers:parsers.py:255 Response headers: {'Accept-Ranges': 'bytes', 'Content-Length': '1651', 'Content-Type': 'application/xml', 'Server': 'MinIO', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'Vary': 'Origin, Accept-Encoding', 'X-Amz-Id-2': 'dd9025bab4ad464b049177c95eb6ebf374d3b3fd1af9251148b658df7ac2e3e8', 'X-Amz-Request-Id': '187EC6A231C0AF38', 'X-Content-Type-Options': 'nosniff', 'X-Ratelimit-Limit': '4101', 'X-Ratelimit-Remaining': '4101', 'X-Xss-Protection': '1; mode=block', 'Date': 'Sun, 07 Dec 2025 00:15:03 GMT'}
DEBUG    botocore.parsers:parsers.py:256 Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<ListBucketResult xmlns="http://s3.amazonaws.com/doc/2006-03-01/"><Name>document</Name><Prefix></Prefix><KeyCount>5</KeyCount><MaxKeys>1000</MaxKeys><IsTruncated>false</IsTruncated><Contents><Key>117b0b2c981e75201b42a3f484ce0597efc559bf6d13288eacc4a717fa2fc736/tmpfexropfo_ops2.txt</Key><LastModified>2025-12-06T04:26:08.867Z</LastModified><ETag>&#34;5e0d22fc93f0f5ce7afce9aa02b0bc7d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>61b46b03f15f3c81f3640916be69f1d34fdd8191644e3d689a4c50cb9bc91d23/tmp2fa0p4_o_ops3.txt</Key><LastModified>2025-12-06T04:26:14.608Z</LastModified><ETag>&#34;53cec5e28d6e94a3991483e9dea86cd5&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>c26ae29584f33f4398072bfe9a37f455a85460237adf672922c3c7d928ba99f0/tmptsq137kv_ops0.txt</Key><LastModified>2025-12-06T04:25:59.153Z</LastModified><ETag>&#34;f697ceebb544c3f9ffe7d768f83c059d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>eea2eb3d0912c348f733308b3bc702cb37ef6eb0c96ff6b0c515cd5942a553ec/tmpg0h_zyad.txt</Key><LastModified>2025-12-06T04:29:48.556Z</LastModified><ETag>&#34;a33c5f35dbf2a7336b7535430610e358&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>fae826ba4b154dd6a512b641abf32b71b0ae3050e613292dfe675d6fca935adb/tmpug44129o_ops1.txt</Key><LastModified>2025-12-06T04:26:04.132Z</LastModified><ETag>&#34;01b0c1954a19d5d40136aa728191f1d4&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><EncodingType>url</EncodingType></ListBucketResult>'
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <function _update_status_code at 0x762d20b5bc40>
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <botocore.retryhandler.RetryHandler object at 0x762d1fe97950>
DEBUG    botocore.retryhandler:retryhandler.py:211 No retry needed.
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fe946b0>>
DEBUG    botocore.hooks:hooks.py:238 Event after-call.s3.ListObjectsV2: calling handler <function decode_list_object_v2 at 0x762d20b5a8e0>
---------------------------- Captured log teardown -----------------------------
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x762d1feb8690>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.complete
DEBUG    httpcore.http11:_trace.py:47 send_request_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_body.complete
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'content-type', b'application/json'), (b'date', b'Sun, 07 Dec 2025 00:16:50 GMT')])
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.complete
DEBUG    httpcore.http11:_trace.py:47 response_closed.started
DEBUG    httpcore.http11:_trace.py:47 response_closed.complete
DEBUG    httpcore.connection:_trace.py:47 close.started
DEBUG    httpcore.connection:_trace.py:47 close.complete
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function set_list_objects_encoding_type_url at 0x762d20b5a7a0>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function validate_bucket_name at 0x762d20b59300>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function remove_bucket_from_url_paths_from_model at 0x762d20b5b600>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fe946b0>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method ClientCreator._inject_s3_input_parameters of <botocore.client.ClientCreator object at 0x762d1ff871d0>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function generate_idempotent_uuid at 0x762d20b59120>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function _handle_request_validation_mode_member at 0x762d20b5bce0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x762d20b5b7e0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fe946b0>>
DEBUG    botocore.regions:regions.py:506 Calling endpoint provider with parameters: {'Bucket': 'document', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'Endpoint': 'http://localhost:9000', 'ForcePathStyle': True, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
DEBUG    botocore.regions:regions.py:521 Endpoint provider result: http://localhost:9000/document
DEBUG    botocore.regions:regions.py:691 Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
DEBUG    botocore.regions:regions.py:766 Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_expect_header at 0x762d20b596c0>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.apply_signing_cache_key of <botocore.utils.S3ExpressIdentityResolver object at 0x762d1fe96450>>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_recursion_detection_header at 0x762d20b58c20>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function inject_api_version_header_if_needed at 0x762d20b5ac00>
DEBUG    botocore.endpoint:endpoint.py:114 Making request for OperationModel(name=ListObjectsV2) with params: {'url_path': '?list-type=2', 'query_string': {'encoding-type': 'url'}, 'method': 'GET', 'headers': {'User-Agent': 'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1'}, 'body': b'', 'auth_path': '/document/', 'url': 'http://localhost:9000/document?list-type=2&encoding-type=url', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x762d20a12c10>, 'has_streaming_input': False, 'auth_type': 'v4', 'unsigned_payload': None, 'auth_options': ['aws.auth#sigv4'], 'encoding_type_auto_set': True, 's3_redirect': {'redirected': False, 'bucket': 'document', 'params': {'Bucket': 'document', 'EncodingType': 'url'}}, 'input_params': {'Bucket': 'document'}, 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 'endpoint_properties': {'authSchemes': [{'disableDoubleEncoding': True, 'name': 'sigv4', 'signingName': 's3', 'signingRegion': 'us-east-1'}]}}}
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x762d1ff1fa50>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x762d1ff871d0>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <function set_operation_specific_signer at 0x762d20b58ea0>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function remove_arn_from_signing_path at 0x762d20b5b740>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function _set_extra_headers_for_unsigned_request at 0x762d20b5bd80>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.resolve_s3express_identity of <botocore.utils.S3ExpressIdentityResolver object at 0x762d1fe96450>>
DEBUG    botocore.auth:auth.py:429 Calculating signature using v4 auth.
DEBUG    botocore.auth:auth.py:430 CanonicalRequest:
GET
/document
encoding-type=url&list-type=2
host:localhost:9000
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20251207T001650Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
DEBUG    botocore.auth:auth.py:432 StringToSign:
AWS4-HMAC-SHA256
20251207T001650Z
20251207/us-east-1/s3/aws4_request
6388c90ccc89321db1e7a68a155b4f120e0457afaeeb54a0114334103387e7ee
DEBUG    botocore.auth:auth.py:434 Signature:
3c40f90fcbead56c71426bb3a2dade885e0f01de6a4ae705330a31816623b593
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method UserAgentString.rebuild_and_replace_user_agent_handler of <botocore.useragent.UserAgentString object at 0x762d1fbe83c0>>
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <function add_retry_headers at 0x762d20b5b560>
DEBUG    botocore.endpoint:endpoint.py:263 Sending http request: <AWSPreparedRequest stream_output=False, method=GET, url=http://localhost:9000/document?list-type=2&encoding-type=url, headers={'User-Agent': b'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1', 'X-Amz-Date': b'20251207T001650Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=minioadmin/20251207/us-east-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=3c40f90fcbead56c71426bb3a2dade885e0f01de6a4ae705330a31816623b593', 'amz-sdk-invocation-id': b'590f516f-3fab-4836-a0e7-dbb7ee55987d', 'amz-sdk-request': b'attempt=1'}>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function _handle_200_error at 0x762d20b5bb00>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function handle_expires_header at 0x762d20b5b920>
DEBUG    botocore.parsers:parsers.py:255 Response headers: {'Accept-Ranges': 'bytes', 'Content-Length': '1651', 'Content-Type': 'application/xml', 'Server': 'MinIO', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'Vary': 'Origin, Accept-Encoding', 'X-Amz-Id-2': 'dd9025bab4ad464b049177c95eb6ebf374d3b3fd1af9251148b658df7ac2e3e8', 'X-Amz-Request-Id': '187EC6BB17055659', 'X-Content-Type-Options': 'nosniff', 'X-Ratelimit-Limit': '4101', 'X-Ratelimit-Remaining': '4101', 'X-Xss-Protection': '1; mode=block', 'Date': 'Sun, 07 Dec 2025 00:16:50 GMT'}
DEBUG    botocore.parsers:parsers.py:256 Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<ListBucketResult xmlns="http://s3.amazonaws.com/doc/2006-03-01/"><Name>document</Name><Prefix></Prefix><KeyCount>5</KeyCount><MaxKeys>1000</MaxKeys><IsTruncated>false</IsTruncated><Contents><Key>117b0b2c981e75201b42a3f484ce0597efc559bf6d13288eacc4a717fa2fc736/tmpfexropfo_ops2.txt</Key><LastModified>2025-12-06T04:26:08.867Z</LastModified><ETag>&#34;5e0d22fc93f0f5ce7afce9aa02b0bc7d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>61b46b03f15f3c81f3640916be69f1d34fdd8191644e3d689a4c50cb9bc91d23/tmp2fa0p4_o_ops3.txt</Key><LastModified>2025-12-06T04:26:14.608Z</LastModified><ETag>&#34;53cec5e28d6e94a3991483e9dea86cd5&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>c26ae29584f33f4398072bfe9a37f455a85460237adf672922c3c7d928ba99f0/tmptsq137kv_ops0.txt</Key><LastModified>2025-12-06T04:25:59.153Z</LastModified><ETag>&#34;f697ceebb544c3f9ffe7d768f83c059d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>eea2eb3d0912c348f733308b3bc702cb37ef6eb0c96ff6b0c515cd5942a553ec/tmpg0h_zyad.txt</Key><LastModified>2025-12-06T04:29:48.556Z</LastModified><ETag>&#34;a33c5f35dbf2a7336b7535430610e358&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>fae826ba4b154dd6a512b641abf32b71b0ae3050e613292dfe675d6fca935adb/tmpug44129o_ops1.txt</Key><LastModified>2025-12-06T04:26:04.132Z</LastModified><ETag>&#34;01b0c1954a19d5d40136aa728191f1d4&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><EncodingType>url</EncodingType></ListBucketResult>'
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <function _update_status_code at 0x762d20b5bc40>
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <botocore.retryhandler.RetryHandler object at 0x762d1fe97950>
DEBUG    botocore.retryhandler:retryhandler.py:211 No retry needed.
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fe946b0>>
DEBUG    botocore.hooks:hooks.py:238 Event after-call.s3.ListObjectsV2: calling handler <function decode_list_object_v2 at 0x762d20b5a8e0>
___________ TestWorkspaceContext.test_workspace_show_all_workspaces ____________

self = <e2e.cli.test_workspace_context.TestWorkspaceContext object at 0x762d3b760e50>

    def test_workspace_show_all_workspaces(self):
        """Test showing details for multiple workspaces."""
        # Create workspaces with different names
        workspace_names = ["Alpha", "Beta", "Gamma", "Delta"]
        workspace_ids = []
    
        for name in workspace_names:
            ws_id = self.create_workspace(name, f"{name} description")
            workspace_ids.append(ws_id)
    
        # Show details for each workspace
        for ws_id, name in zip(workspace_ids, workspace_names):
            show = self.run_cli("workspace", "show", ws_id)
>           assert show.returncode == 0
E           assert 1 == 0
E            +  where 1 = CompletedProcess(args=['/home/nate/.cache/pypoetry/virtualenvs/insighthub-G9Cf3wlO-py3.13/bin/python', '-m', 'src.cli', 'workspace', 'show', '457'], returncode=1, stdout="ID: 457\nName: Alpha\nRAG Type: vector\nStatus: ready\nDescription: Alpha description\nCreated: 2025-12-07T00:22:49.117658\nUpdated: 2025-12-07T00:22:49.371283\nError: name 'sys' is not defined\n", stderr="Error: name 'Failure' is not defined\n").returncode

tests/e2e/cli/test_workspace_context.py:420: AssertionError
------------------------------ Captured log setup ------------------------------
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x762d1ff63480>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.complete
DEBUG    httpcore.http11:_trace.py:47 send_request_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_body.complete
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'content-encoding', b'gzip'), (b'content-type', b'application/json'), (b'date', b'Sun, 07 Dec 2025 00:22:34 GMT')])
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.complete
DEBUG    httpcore.http11:_trace.py:47 response_closed.started
DEBUG    httpcore.http11:_trace.py:47 response_closed.complete
DEBUG    httpcore.connection:_trace.py:47 close.started
DEBUG    httpcore.connection:_trace.py:47 close.complete
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x762d2027b7a0>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.complete
DEBUG    httpcore.http11:_trace.py:47 send_request_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_body.complete
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'content-encoding', b'gzip'), (b'date', b'Sun, 07 Dec 2025 00:22:34 GMT')])
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.complete
DEBUG    httpcore.http11:_trace.py:47 response_closed.started
DEBUG    httpcore.http11:_trace.py:47 response_closed.complete
DEBUG    httpcore.connection:_trace.py:47 close.started
DEBUG    httpcore.connection:_trace.py:47 close.complete
DEBUG    botocore.hooks:hooks.py:238 Event choose-service-name: calling handler <function handle_service_name_alias at 0x762d20b58360>
DEBUG    botocore.hooks:hooks.py:238 Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x762d20cb2de0>
DEBUG    botocore.hooks:hooks.py:238 Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x762d20be2520>
DEBUG    botocore.hooks:hooks.py:238 Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x762d20cb2b60>
DEBUG    botocore.endpoint:endpoint.py:414 Setting s3 timeout as (60, 60)
DEBUG    botocore.client:client.py:286 Registering retry handlers for service: s3
DEBUG    botocore.utils:utils.py:1747 Registering S3 region redirector handler
DEBUG    botocore.utils:utils.py:1695 Registering S3Express Identity Resolver
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function set_list_objects_encoding_type_url at 0x762d20b5a7a0>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function validate_bucket_name at 0x762d20b59300>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function remove_bucket_from_url_paths_from_model at 0x762d20b5b600>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fd599d0>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method ClientCreator._inject_s3_input_parameters of <botocore.client.ClientCreator object at 0x762d1fbe9f40>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function generate_idempotent_uuid at 0x762d20b59120>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function _handle_request_validation_mode_member at 0x762d20b5bce0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x762d20b5b7e0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fd599d0>>
DEBUG    botocore.regions:regions.py:506 Calling endpoint provider with parameters: {'Bucket': 'document', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'Endpoint': 'http://localhost:9000', 'ForcePathStyle': True, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
DEBUG    botocore.regions:regions.py:521 Endpoint provider result: http://localhost:9000/document
DEBUG    botocore.regions:regions.py:691 Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
DEBUG    botocore.regions:regions.py:766 Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_expect_header at 0x762d20b596c0>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.apply_signing_cache_key of <botocore.utils.S3ExpressIdentityResolver object at 0x762d1fd59610>>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_recursion_detection_header at 0x762d20b58c20>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function inject_api_version_header_if_needed at 0x762d20b5ac00>
DEBUG    botocore.endpoint:endpoint.py:114 Making request for OperationModel(name=ListObjectsV2) with params: {'url_path': '?list-type=2', 'query_string': {'encoding-type': 'url'}, 'method': 'GET', 'headers': {'User-Agent': 'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1'}, 'body': b'', 'auth_path': '/document/', 'url': 'http://localhost:9000/document?list-type=2&encoding-type=url', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x762d3af06d50>, 'has_streaming_input': False, 'auth_type': 'v4', 'unsigned_payload': None, 'auth_options': ['aws.auth#sigv4'], 'encoding_type_auto_set': True, 's3_redirect': {'redirected': False, 'bucket': 'document', 'params': {'Bucket': 'document', 'EncodingType': 'url'}}, 'input_params': {'Bucket': 'document'}, 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 'endpoint_properties': {'authSchemes': [{'disableDoubleEncoding': True, 'name': 'sigv4', 'signingName': 's3', 'signingRegion': 'us-east-1'}]}}}
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x762d210764d0>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x762d1fbe9f40>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <function set_operation_specific_signer at 0x762d20b58ea0>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function remove_arn_from_signing_path at 0x762d20b5b740>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function _set_extra_headers_for_unsigned_request at 0x762d20b5bd80>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.resolve_s3express_identity of <botocore.utils.S3ExpressIdentityResolver object at 0x762d1fd59610>>
DEBUG    botocore.auth:auth.py:429 Calculating signature using v4 auth.
DEBUG    botocore.auth:auth.py:430 CanonicalRequest:
GET
/document
encoding-type=url&list-type=2
host:localhost:9000
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20251207T002235Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
DEBUG    botocore.auth:auth.py:432 StringToSign:
AWS4-HMAC-SHA256
20251207T002235Z
20251207/us-east-1/s3/aws4_request
b0ec75d7854383026e06b14da78a4327e9298e7ef7d8b90a560d6e60572a3368
DEBUG    botocore.auth:auth.py:434 Signature:
63c1a1b209fec0ff6bcd6bdefa1200240777bd9ae2dd12180ecfa6a20040130f
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method UserAgentString.rebuild_and_replace_user_agent_handler of <botocore.useragent.UserAgentString object at 0x762d1fbe9d30>>
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <function add_retry_headers at 0x762d20b5b560>
DEBUG    botocore.endpoint:endpoint.py:263 Sending http request: <AWSPreparedRequest stream_output=False, method=GET, url=http://localhost:9000/document?list-type=2&encoding-type=url, headers={'User-Agent': b'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1', 'X-Amz-Date': b'20251207T002235Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=minioadmin/20251207/us-east-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=63c1a1b209fec0ff6bcd6bdefa1200240777bd9ae2dd12180ecfa6a20040130f', 'amz-sdk-invocation-id': b'c39a4fca-180b-4d5d-bd8b-a4d98899dcae', 'amz-sdk-request': b'attempt=1'}>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function _handle_200_error at 0x762d20b5bb00>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function handle_expires_header at 0x762d20b5b920>
DEBUG    botocore.parsers:parsers.py:255 Response headers: {'Accept-Ranges': 'bytes', 'Content-Length': '1651', 'Content-Type': 'application/xml', 'Server': 'MinIO', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'Vary': 'Origin, Accept-Encoding', 'X-Amz-Id-2': 'dd9025bab4ad464b049177c95eb6ebf374d3b3fd1af9251148b658df7ac2e3e8', 'X-Amz-Request-Id': '187EC70B48490D5C', 'X-Content-Type-Options': 'nosniff', 'X-Ratelimit-Limit': '4101', 'X-Ratelimit-Remaining': '4101', 'X-Xss-Protection': '1; mode=block', 'Date': 'Sun, 07 Dec 2025 00:22:35 GMT'}
DEBUG    botocore.parsers:parsers.py:256 Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<ListBucketResult xmlns="http://s3.amazonaws.com/doc/2006-03-01/"><Name>document</Name><Prefix></Prefix><KeyCount>5</KeyCount><MaxKeys>1000</MaxKeys><IsTruncated>false</IsTruncated><Contents><Key>117b0b2c981e75201b42a3f484ce0597efc559bf6d13288eacc4a717fa2fc736/tmpfexropfo_ops2.txt</Key><LastModified>2025-12-06T04:26:08.867Z</LastModified><ETag>&#34;5e0d22fc93f0f5ce7afce9aa02b0bc7d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>61b46b03f15f3c81f3640916be69f1d34fdd8191644e3d689a4c50cb9bc91d23/tmp2fa0p4_o_ops3.txt</Key><LastModified>2025-12-06T04:26:14.608Z</LastModified><ETag>&#34;53cec5e28d6e94a3991483e9dea86cd5&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>c26ae29584f33f4398072bfe9a37f455a85460237adf672922c3c7d928ba99f0/tmptsq137kv_ops0.txt</Key><LastModified>2025-12-06T04:25:59.153Z</LastModified><ETag>&#34;f697ceebb544c3f9ffe7d768f83c059d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>eea2eb3d0912c348f733308b3bc702cb37ef6eb0c96ff6b0c515cd5942a553ec/tmpg0h_zyad.txt</Key><LastModified>2025-12-06T04:29:48.556Z</LastModified><ETag>&#34;a33c5f35dbf2a7336b7535430610e358&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>fae826ba4b154dd6a512b641abf32b71b0ae3050e613292dfe675d6fca935adb/tmpug44129o_ops1.txt</Key><LastModified>2025-12-06T04:26:04.132Z</LastModified><ETag>&#34;01b0c1954a19d5d40136aa728191f1d4&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><EncodingType>url</EncodingType></ListBucketResult>'
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <function _update_status_code at 0x762d20b5bc40>
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <botocore.retryhandler.RetryHandler object at 0x762d1fd5bdd0>
DEBUG    botocore.retryhandler:retryhandler.py:211 No retry needed.
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fd599d0>>
DEBUG    botocore.hooks:hooks.py:238 Event after-call.s3.ListObjectsV2: calling handler <function decode_list_object_v2 at 0x762d20b5a8e0>
---------------------------- Captured log teardown -----------------------------
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x762d21062f30>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.complete
DEBUG    httpcore.http11:_trace.py:47 send_request_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_body.complete
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'content-type', b'application/json'), (b'date', b'Sun, 07 Dec 2025 00:25:03 GMT')])
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.complete
DEBUG    httpcore.http11:_trace.py:47 response_closed.started
DEBUG    httpcore.http11:_trace.py:47 response_closed.complete
DEBUG    httpcore.connection:_trace.py:47 close.started
DEBUG    httpcore.connection:_trace.py:47 close.complete
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x762d21063070>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.started request=<Request [b'DELETE']>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.complete
DEBUG    httpcore.http11:_trace.py:47 send_request_body.started request=<Request [b'DELETE']>
DEBUG    httpcore.http11:_trace.py:47 send_request_body.complete
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.started request=<Request [b'DELETE']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'content-encoding', b'gzip'), (b'content-type', b'application/json'), (b'date', b'Sun, 07 Dec 2025 00:25:03 GMT')])
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.started request=<Request [b'DELETE']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.complete
DEBUG    httpcore.http11:_trace.py:47 response_closed.started
DEBUG    httpcore.http11:_trace.py:47 response_closed.complete
DEBUG    httpcore.connection:_trace.py:47 close.started
DEBUG    httpcore.connection:_trace.py:47 close.complete
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x762d210610e0>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.started request=<Request [b'DELETE']>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.complete
DEBUG    httpcore.http11:_trace.py:47 send_request_body.started request=<Request [b'DELETE']>
DEBUG    httpcore.http11:_trace.py:47 send_request_body.complete
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.started request=<Request [b'DELETE']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'content-encoding', b'gzip'), (b'date', b'Sun, 07 Dec 2025 00:25:03 GMT')])
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.started request=<Request [b'DELETE']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.complete
DEBUG    httpcore.http11:_trace.py:47 response_closed.started
DEBUG    httpcore.http11:_trace.py:47 response_closed.complete
DEBUG    httpcore.connection:_trace.py:47 close.started
DEBUG    httpcore.connection:_trace.py:47 close.complete
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function set_list_objects_encoding_type_url at 0x762d20b5a7a0>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function validate_bucket_name at 0x762d20b59300>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function remove_bucket_from_url_paths_from_model at 0x762d20b5b600>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fd599d0>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method ClientCreator._inject_s3_input_parameters of <botocore.client.ClientCreator object at 0x762d1fbe9f40>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function generate_idempotent_uuid at 0x762d20b59120>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function _handle_request_validation_mode_member at 0x762d20b5bce0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x762d20b5b7e0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fd599d0>>
DEBUG    botocore.regions:regions.py:506 Calling endpoint provider with parameters: {'Bucket': 'document', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'Endpoint': 'http://localhost:9000', 'ForcePathStyle': True, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
DEBUG    botocore.regions:regions.py:521 Endpoint provider result: http://localhost:9000/document
DEBUG    botocore.regions:regions.py:691 Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
DEBUG    botocore.regions:regions.py:766 Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_expect_header at 0x762d20b596c0>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.apply_signing_cache_key of <botocore.utils.S3ExpressIdentityResolver object at 0x762d1fd59610>>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_recursion_detection_header at 0x762d20b58c20>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function inject_api_version_header_if_needed at 0x762d20b5ac00>
DEBUG    botocore.endpoint:endpoint.py:114 Making request for OperationModel(name=ListObjectsV2) with params: {'url_path': '?list-type=2', 'query_string': {'encoding-type': 'url'}, 'method': 'GET', 'headers': {'User-Agent': 'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1'}, 'body': b'', 'auth_path': '/document/', 'url': 'http://localhost:9000/document?list-type=2&encoding-type=url', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x762d3af06d50>, 'has_streaming_input': False, 'auth_type': 'v4', 'unsigned_payload': None, 'auth_options': ['aws.auth#sigv4'], 'encoding_type_auto_set': True, 's3_redirect': {'redirected': False, 'bucket': 'document', 'params': {'Bucket': 'document', 'EncodingType': 'url'}}, 'input_params': {'Bucket': 'document'}, 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 'endpoint_properties': {'authSchemes': [{'disableDoubleEncoding': True, 'name': 'sigv4', 'signingName': 's3', 'signingRegion': 'us-east-1'}]}}}
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x762d210764d0>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x762d1fbe9f40>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <function set_operation_specific_signer at 0x762d20b58ea0>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function remove_arn_from_signing_path at 0x762d20b5b740>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function _set_extra_headers_for_unsigned_request at 0x762d20b5bd80>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.resolve_s3express_identity of <botocore.utils.S3ExpressIdentityResolver object at 0x762d1fd59610>>
DEBUG    botocore.auth:auth.py:429 Calculating signature using v4 auth.
DEBUG    botocore.auth:auth.py:430 CanonicalRequest:
GET
/document
encoding-type=url&list-type=2
host:localhost:9000
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20251207T002504Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
DEBUG    botocore.auth:auth.py:432 StringToSign:
AWS4-HMAC-SHA256
20251207T002504Z
20251207/us-east-1/s3/aws4_request
cd943d51550d61d7c209ef6f3efcebf3e39a3d1a92b3a3045fa6b29c5abd1964
DEBUG    botocore.auth:auth.py:434 Signature:
b15ab9da9b0d6ee9b925319863089bfc609ec340c528ea4304c36ce5e6644c1f
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method UserAgentString.rebuild_and_replace_user_agent_handler of <botocore.useragent.UserAgentString object at 0x762d1fbe9d30>>
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <function add_retry_headers at 0x762d20b5b560>
DEBUG    botocore.endpoint:endpoint.py:263 Sending http request: <AWSPreparedRequest stream_output=False, method=GET, url=http://localhost:9000/document?list-type=2&encoding-type=url, headers={'User-Agent': b'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1', 'X-Amz-Date': b'20251207T002504Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=minioadmin/20251207/us-east-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=b15ab9da9b0d6ee9b925319863089bfc609ec340c528ea4304c36ce5e6644c1f', 'amz-sdk-invocation-id': b'8b0a63bc-4817-4c58-aed4-5640a9e4a1a6', 'amz-sdk-request': b'attempt=1'}>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function _handle_200_error at 0x762d20b5bb00>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function handle_expires_header at 0x762d20b5b920>
DEBUG    botocore.parsers:parsers.py:255 Response headers: {'Accept-Ranges': 'bytes', 'Content-Length': '1651', 'Content-Type': 'application/xml', 'Server': 'MinIO', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'Vary': 'Origin, Accept-Encoding', 'X-Amz-Id-2': 'dd9025bab4ad464b049177c95eb6ebf374d3b3fd1af9251148b658df7ac2e3e8', 'X-Amz-Request-Id': '187EC72DF9295C64', 'X-Content-Type-Options': 'nosniff', 'X-Ratelimit-Limit': '4101', 'X-Ratelimit-Remaining': '4101', 'X-Xss-Protection': '1; mode=block', 'Date': 'Sun, 07 Dec 2025 00:25:04 GMT'}
DEBUG    botocore.parsers:parsers.py:256 Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<ListBucketResult xmlns="http://s3.amazonaws.com/doc/2006-03-01/"><Name>document</Name><Prefix></Prefix><KeyCount>5</KeyCount><MaxKeys>1000</MaxKeys><IsTruncated>false</IsTruncated><Contents><Key>117b0b2c981e75201b42a3f484ce0597efc559bf6d13288eacc4a717fa2fc736/tmpfexropfo_ops2.txt</Key><LastModified>2025-12-06T04:26:08.867Z</LastModified><ETag>&#34;5e0d22fc93f0f5ce7afce9aa02b0bc7d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>61b46b03f15f3c81f3640916be69f1d34fdd8191644e3d689a4c50cb9bc91d23/tmp2fa0p4_o_ops3.txt</Key><LastModified>2025-12-06T04:26:14.608Z</LastModified><ETag>&#34;53cec5e28d6e94a3991483e9dea86cd5&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>c26ae29584f33f4398072bfe9a37f455a85460237adf672922c3c7d928ba99f0/tmptsq137kv_ops0.txt</Key><LastModified>2025-12-06T04:25:59.153Z</LastModified><ETag>&#34;f697ceebb544c3f9ffe7d768f83c059d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>eea2eb3d0912c348f733308b3bc702cb37ef6eb0c96ff6b0c515cd5942a553ec/tmpg0h_zyad.txt</Key><LastModified>2025-12-06T04:29:48.556Z</LastModified><ETag>&#34;a33c5f35dbf2a7336b7535430610e358&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>fae826ba4b154dd6a512b641abf32b71b0ae3050e613292dfe675d6fca935adb/tmpug44129o_ops1.txt</Key><LastModified>2025-12-06T04:26:04.132Z</LastModified><ETag>&#34;01b0c1954a19d5d40136aa728191f1d4&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><EncodingType>url</EncodingType></ListBucketResult>'
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <function _update_status_code at 0x762d20b5bc40>
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <botocore.retryhandler.RetryHandler object at 0x762d1fd5bdd0>
DEBUG    botocore.retryhandler:retryhandler.py:211 No retry needed.
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fd599d0>>
DEBUG    botocore.hooks:hooks.py:238 Event after-call.s3.ListObjectsV2: calling handler <function decode_list_object_v2 at 0x762d20b5a8e0>
______________ TestWorkspaceContext.test_workspace_list_shows_all ______________

self = <e2e.cli.test_workspace_context.TestWorkspaceContext object at 0x762d3bbddf30>

    def test_workspace_list_shows_all(self):
        """Test that workspace list shows all created workspaces."""
        # Create several workspaces
        names = ["List Test 1", "List Test 2", "List Test 3"]
        for name in names:
>           self.create_workspace(name)

tests/e2e/cli/test_workspace_context.py:428: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <e2e.cli.test_workspace_context.TestWorkspaceContext object at 0x762d3bbddf30>
name = 'List Test 1', description = 'Test workspace'

    def create_workspace(self, name, description="Test workspace"):
        """Helper to create a workspace."""
        create = subprocess.run(
            [sys.executable, "-m", "src.cli", "workspace", "new"],
            input=f"{name}\n{description}\nvector\n",
            capture_output=True,
            text=True,
        )
>       assert create.returncode == 0
E       assert 1 == 0
E        +  where 1 = CompletedProcess(args=['/home/nate/.cache/pypoetry/virtualenvs/insighthub-G9Cf3wlO-py3.13/bin/python', '-m', 'src.cli', 'workspace', 'new'], returncode=1, stdout='', stderr='Traceback (most recent call last):\n  File "<frozen runpy>", line 198, in _run_module_as_main\n  File "<frozen runpy>", line 88, in _run_code\n  File "/home/nate/projects/insighthub/src/cli.py", line 9, in <module>\n    from src.context import AppContext\n  File "/home/nate/projects/insighthub/src/context.py", line 26, in <module>\n    from src.domains.workspace.document.orchestrator import DocumentOrchestrator\n  File "/home/nate/projects/insighthub/src/domains/workspace/document/orchestrator.py", line 18, in <module>\n    from src.domains.workspace.document.service import DocumentService\n  File "/home/nate/projects/insighthub/src/domains/workspace/document/service.py", line 28, in <module>\n    from src.infrastructure.storage import BlobStorage\n  File "/home/nate/projects/insighthub/src/infrastructure/storage/__init__.py", line 3, in <module>\n    from .file_system_storage import FileSystemBlobStorage, StorageException\nImportError: cannot import name \'StorageException\' from \'src.infrastructure.storage.file_system_storage\' (/home/nate/projects/insighthub/src/infrastructure/storage/file_system_storage.py)\n').returncode

tests/e2e/cli/test_workspace_context.py:40: AssertionError
------------------------------ Captured log setup ------------------------------
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x762d1fe07890>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.complete
DEBUG    httpcore.http11:_trace.py:47 send_request_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_body.complete
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Sun, 07 Dec 2025 00:25:04 GMT')])
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.complete
DEBUG    httpcore.http11:_trace.py:47 response_closed.started
DEBUG    httpcore.http11:_trace.py:47 response_closed.complete
DEBUG    httpcore.connection:_trace.py:47 close.started
DEBUG    httpcore.connection:_trace.py:47 close.complete
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x762d1ff36760>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.complete
DEBUG    httpcore.http11:_trace.py:47 send_request_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_body.complete
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Sun, 07 Dec 2025 00:25:04 GMT')])
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.complete
DEBUG    httpcore.http11:_trace.py:47 response_closed.started
DEBUG    httpcore.http11:_trace.py:47 response_closed.complete
DEBUG    httpcore.connection:_trace.py:47 close.started
DEBUG    httpcore.connection:_trace.py:47 close.complete
DEBUG    botocore.hooks:hooks.py:238 Event choose-service-name: calling handler <function handle_service_name_alias at 0x762d20b58360>
DEBUG    botocore.hooks:hooks.py:238 Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x762d20cb2de0>
DEBUG    botocore.hooks:hooks.py:238 Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x762d20be2520>
DEBUG    botocore.hooks:hooks.py:238 Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x762d20cb2b60>
DEBUG    botocore.endpoint:endpoint.py:414 Setting s3 timeout as (60, 60)
DEBUG    botocore.client:client.py:286 Registering retry handlers for service: s3
DEBUG    botocore.utils:utils.py:1747 Registering S3 region redirector handler
DEBUG    botocore.utils:utils.py:1695 Registering S3Express Identity Resolver
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function set_list_objects_encoding_type_url at 0x762d20b5a7a0>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function validate_bucket_name at 0x762d20b59300>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function remove_bucket_from_url_paths_from_model at 0x762d20b5b600>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fddcd70>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method ClientCreator._inject_s3_input_parameters of <botocore.client.ClientCreator object at 0x762d1fbe9e90>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function generate_idempotent_uuid at 0x762d20b59120>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function _handle_request_validation_mode_member at 0x762d20b5bce0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x762d20b5b7e0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fddcd70>>
DEBUG    botocore.regions:regions.py:506 Calling endpoint provider with parameters: {'Bucket': 'document', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'Endpoint': 'http://localhost:9000', 'ForcePathStyle': True, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
DEBUG    botocore.regions:regions.py:521 Endpoint provider result: http://localhost:9000/document
DEBUG    botocore.regions:regions.py:691 Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
DEBUG    botocore.regions:regions.py:766 Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_expect_header at 0x762d20b596c0>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.apply_signing_cache_key of <botocore.utils.S3ExpressIdentityResolver object at 0x762d1fddebd0>>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_recursion_detection_header at 0x762d20b58c20>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function inject_api_version_header_if_needed at 0x762d20b5ac00>
DEBUG    botocore.endpoint:endpoint.py:114 Making request for OperationModel(name=ListObjectsV2) with params: {'url_path': '?list-type=2', 'query_string': {'encoding-type': 'url'}, 'method': 'GET', 'headers': {'User-Agent': 'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1'}, 'body': b'', 'auth_path': '/document/', 'url': 'http://localhost:9000/document?list-type=2&encoding-type=url', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x762d20a12490>, 'has_streaming_input': False, 'auth_type': 'v4', 'unsigned_payload': None, 'auth_options': ['aws.auth#sigv4'], 'encoding_type_auto_set': True, 's3_redirect': {'redirected': False, 'bucket': 'document', 'params': {'Bucket': 'document', 'EncodingType': 'url'}}, 'input_params': {'Bucket': 'document'}, 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 'endpoint_properties': {'authSchemes': [{'disableDoubleEncoding': True, 'name': 'sigv4', 'signingName': 's3', 'signingRegion': 'us-east-1'}]}}}
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x762d1fe018d0>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x762d1fbe9e90>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <function set_operation_specific_signer at 0x762d20b58ea0>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function remove_arn_from_signing_path at 0x762d20b5b740>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function _set_extra_headers_for_unsigned_request at 0x762d20b5bd80>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.resolve_s3express_identity of <botocore.utils.S3ExpressIdentityResolver object at 0x762d1fddebd0>>
DEBUG    botocore.auth:auth.py:429 Calculating signature using v4 auth.
DEBUG    botocore.auth:auth.py:430 CanonicalRequest:
GET
/document
encoding-type=url&list-type=2
host:localhost:9000
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20251207T002504Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
DEBUG    botocore.auth:auth.py:432 StringToSign:
AWS4-HMAC-SHA256
20251207T002504Z
20251207/us-east-1/s3/aws4_request
cd943d51550d61d7c209ef6f3efcebf3e39a3d1a92b3a3045fa6b29c5abd1964
DEBUG    botocore.auth:auth.py:434 Signature:
b15ab9da9b0d6ee9b925319863089bfc609ec340c528ea4304c36ce5e6644c1f
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method UserAgentString.rebuild_and_replace_user_agent_handler of <botocore.useragent.UserAgentString object at 0x762d1fbeb070>>
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <function add_retry_headers at 0x762d20b5b560>
DEBUG    botocore.endpoint:endpoint.py:263 Sending http request: <AWSPreparedRequest stream_output=False, method=GET, url=http://localhost:9000/document?list-type=2&encoding-type=url, headers={'User-Agent': b'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1', 'X-Amz-Date': b'20251207T002504Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=minioadmin/20251207/us-east-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=b15ab9da9b0d6ee9b925319863089bfc609ec340c528ea4304c36ce5e6644c1f', 'amz-sdk-invocation-id': b'17e39007-93e5-4997-aed2-e7d9b1acc46a', 'amz-sdk-request': b'attempt=1'}>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function _handle_200_error at 0x762d20b5bb00>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function handle_expires_header at 0x762d20b5b920>
DEBUG    botocore.parsers:parsers.py:255 Response headers: {'Accept-Ranges': 'bytes', 'Content-Length': '1651', 'Content-Type': 'application/xml', 'Server': 'MinIO', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'Vary': 'Origin, Accept-Encoding', 'X-Amz-Id-2': 'dd9025bab4ad464b049177c95eb6ebf374d3b3fd1af9251148b658df7ac2e3e8', 'X-Amz-Request-Id': '187EC72E054CC0E2', 'X-Content-Type-Options': 'nosniff', 'X-Ratelimit-Limit': '4101', 'X-Ratelimit-Remaining': '4101', 'X-Xss-Protection': '1; mode=block', 'Date': 'Sun, 07 Dec 2025 00:25:04 GMT'}
DEBUG    botocore.parsers:parsers.py:256 Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<ListBucketResult xmlns="http://s3.amazonaws.com/doc/2006-03-01/"><Name>document</Name><Prefix></Prefix><KeyCount>5</KeyCount><MaxKeys>1000</MaxKeys><IsTruncated>false</IsTruncated><Contents><Key>117b0b2c981e75201b42a3f484ce0597efc559bf6d13288eacc4a717fa2fc736/tmpfexropfo_ops2.txt</Key><LastModified>2025-12-06T04:26:08.867Z</LastModified><ETag>&#34;5e0d22fc93f0f5ce7afce9aa02b0bc7d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>61b46b03f15f3c81f3640916be69f1d34fdd8191644e3d689a4c50cb9bc91d23/tmp2fa0p4_o_ops3.txt</Key><LastModified>2025-12-06T04:26:14.608Z</LastModified><ETag>&#34;53cec5e28d6e94a3991483e9dea86cd5&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>c26ae29584f33f4398072bfe9a37f455a85460237adf672922c3c7d928ba99f0/tmptsq137kv_ops0.txt</Key><LastModified>2025-12-06T04:25:59.153Z</LastModified><ETag>&#34;f697ceebb544c3f9ffe7d768f83c059d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>eea2eb3d0912c348f733308b3bc702cb37ef6eb0c96ff6b0c515cd5942a553ec/tmpg0h_zyad.txt</Key><LastModified>2025-12-06T04:29:48.556Z</LastModified><ETag>&#34;a33c5f35dbf2a7336b7535430610e358&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>fae826ba4b154dd6a512b641abf32b71b0ae3050e613292dfe675d6fca935adb/tmpug44129o_ops1.txt</Key><LastModified>2025-12-06T04:26:04.132Z</LastModified><ETag>&#34;01b0c1954a19d5d40136aa728191f1d4&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><EncodingType>url</EncodingType></ListBucketResult>'
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <function _update_status_code at 0x762d20b5bc40>
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <botocore.retryhandler.RetryHandler object at 0x762d1fddc4d0>
DEBUG    botocore.retryhandler:retryhandler.py:211 No retry needed.
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fddcd70>>
DEBUG    botocore.hooks:hooks.py:238 Event after-call.s3.ListObjectsV2: calling handler <function decode_list_object_v2 at 0x762d20b5a8e0>
---------------------------- Captured log teardown -----------------------------
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x762d211dc640>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.complete
DEBUG    httpcore.http11:_trace.py:47 send_request_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_body.complete
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'content-type', b'application/json'), (b'date', b'Sun, 07 Dec 2025 00:25:20 GMT')])
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.complete
DEBUG    httpcore.http11:_trace.py:47 response_closed.started
DEBUG    httpcore.http11:_trace.py:47 response_closed.complete
DEBUG    httpcore.connection:_trace.py:47 close.started
DEBUG    httpcore.connection:_trace.py:47 close.complete
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function set_list_objects_encoding_type_url at 0x762d20b5a7a0>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function validate_bucket_name at 0x762d20b59300>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function remove_bucket_from_url_paths_from_model at 0x762d20b5b600>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fddcd70>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method ClientCreator._inject_s3_input_parameters of <botocore.client.ClientCreator object at 0x762d1fbe9e90>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function generate_idempotent_uuid at 0x762d20b59120>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function _handle_request_validation_mode_member at 0x762d20b5bce0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x762d20b5b7e0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fddcd70>>
DEBUG    botocore.regions:regions.py:506 Calling endpoint provider with parameters: {'Bucket': 'document', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'Endpoint': 'http://localhost:9000', 'ForcePathStyle': True, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
DEBUG    botocore.regions:regions.py:521 Endpoint provider result: http://localhost:9000/document
DEBUG    botocore.regions:regions.py:691 Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
DEBUG    botocore.regions:regions.py:766 Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_expect_header at 0x762d20b596c0>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.apply_signing_cache_key of <botocore.utils.S3ExpressIdentityResolver object at 0x762d1fddebd0>>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_recursion_detection_header at 0x762d20b58c20>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function inject_api_version_header_if_needed at 0x762d20b5ac00>
DEBUG    botocore.endpoint:endpoint.py:114 Making request for OperationModel(name=ListObjectsV2) with params: {'url_path': '?list-type=2', 'query_string': {'encoding-type': 'url'}, 'method': 'GET', 'headers': {'User-Agent': 'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1'}, 'body': b'', 'auth_path': '/document/', 'url': 'http://localhost:9000/document?list-type=2&encoding-type=url', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x762d20a12490>, 'has_streaming_input': False, 'auth_type': 'v4', 'unsigned_payload': None, 'auth_options': ['aws.auth#sigv4'], 'encoding_type_auto_set': True, 's3_redirect': {'redirected': False, 'bucket': 'document', 'params': {'Bucket': 'document', 'EncodingType': 'url'}}, 'input_params': {'Bucket': 'document'}, 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 'endpoint_properties': {'authSchemes': [{'disableDoubleEncoding': True, 'name': 'sigv4', 'signingName': 's3', 'signingRegion': 'us-east-1'}]}}}
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x762d1fe018d0>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x762d1fbe9e90>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <function set_operation_specific_signer at 0x762d20b58ea0>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function remove_arn_from_signing_path at 0x762d20b5b740>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function _set_extra_headers_for_unsigned_request at 0x762d20b5bd80>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.resolve_s3express_identity of <botocore.utils.S3ExpressIdentityResolver object at 0x762d1fddebd0>>
DEBUG    botocore.auth:auth.py:429 Calculating signature using v4 auth.
DEBUG    botocore.auth:auth.py:430 CanonicalRequest:
GET
/document
encoding-type=url&list-type=2
host:localhost:9000
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20251207T002520Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
DEBUG    botocore.auth:auth.py:432 StringToSign:
AWS4-HMAC-SHA256
20251207T002520Z
20251207/us-east-1/s3/aws4_request
79cf9832f71071cd5114ba448bb9ff70c0acb4aae9c44399c02f4d6eda323143
DEBUG    botocore.auth:auth.py:434 Signature:
4703c73d8daee2f10d5ef0edf0c5bbdaad40197137d7f5f7a7b5c2544d52280e
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method UserAgentString.rebuild_and_replace_user_agent_handler of <botocore.useragent.UserAgentString object at 0x762d1fbeb070>>
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <function add_retry_headers at 0x762d20b5b560>
DEBUG    botocore.endpoint:endpoint.py:263 Sending http request: <AWSPreparedRequest stream_output=False, method=GET, url=http://localhost:9000/document?list-type=2&encoding-type=url, headers={'User-Agent': b'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1', 'X-Amz-Date': b'20251207T002520Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=minioadmin/20251207/us-east-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=4703c73d8daee2f10d5ef0edf0c5bbdaad40197137d7f5f7a7b5c2544d52280e', 'amz-sdk-invocation-id': b'bd6e7815-e1f0-4245-957b-6d7e5ee2271a', 'amz-sdk-request': b'attempt=1'}>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function _handle_200_error at 0x762d20b5bb00>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function handle_expires_header at 0x762d20b5b920>
DEBUG    botocore.parsers:parsers.py:255 Response headers: {'Accept-Ranges': 'bytes', 'Content-Length': '1651', 'Content-Type': 'application/xml', 'Server': 'MinIO', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'Vary': 'Origin, Accept-Encoding', 'X-Amz-Id-2': 'dd9025bab4ad464b049177c95eb6ebf374d3b3fd1af9251148b658df7ac2e3e8', 'X-Amz-Request-Id': '187EC731CA0553FF', 'X-Content-Type-Options': 'nosniff', 'X-Ratelimit-Limit': '4101', 'X-Ratelimit-Remaining': '4101', 'X-Xss-Protection': '1; mode=block', 'Date': 'Sun, 07 Dec 2025 00:25:20 GMT'}
DEBUG    botocore.parsers:parsers.py:256 Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<ListBucketResult xmlns="http://s3.amazonaws.com/doc/2006-03-01/"><Name>document</Name><Prefix></Prefix><KeyCount>5</KeyCount><MaxKeys>1000</MaxKeys><IsTruncated>false</IsTruncated><Contents><Key>117b0b2c981e75201b42a3f484ce0597efc559bf6d13288eacc4a717fa2fc736/tmpfexropfo_ops2.txt</Key><LastModified>2025-12-06T04:26:08.867Z</LastModified><ETag>&#34;5e0d22fc93f0f5ce7afce9aa02b0bc7d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>61b46b03f15f3c81f3640916be69f1d34fdd8191644e3d689a4c50cb9bc91d23/tmp2fa0p4_o_ops3.txt</Key><LastModified>2025-12-06T04:26:14.608Z</LastModified><ETag>&#34;53cec5e28d6e94a3991483e9dea86cd5&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>c26ae29584f33f4398072bfe9a37f455a85460237adf672922c3c7d928ba99f0/tmptsq137kv_ops0.txt</Key><LastModified>2025-12-06T04:25:59.153Z</LastModified><ETag>&#34;f697ceebb544c3f9ffe7d768f83c059d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>eea2eb3d0912c348f733308b3bc702cb37ef6eb0c96ff6b0c515cd5942a553ec/tmpg0h_zyad.txt</Key><LastModified>2025-12-06T04:29:48.556Z</LastModified><ETag>&#34;a33c5f35dbf2a7336b7535430610e358&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>fae826ba4b154dd6a512b641abf32b71b0ae3050e613292dfe675d6fca935adb/tmpug44129o_ops1.txt</Key><LastModified>2025-12-06T04:26:04.132Z</LastModified><ETag>&#34;01b0c1954a19d5d40136aa728191f1d4&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><EncodingType>url</EncodingType></ListBucketResult>'
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <function _update_status_code at 0x762d20b5bc40>
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <botocore.retryhandler.RetryHandler object at 0x762d1fddc4d0>
DEBUG    botocore.retryhandler:retryhandler.py:211 No retry needed.
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fddcd70>>
DEBUG    botocore.hooks:hooks.py:238 Event after-call.s3.ListObjectsV2: calling handler <function decode_list_object_v2 at 0x762d20b5a8e0>
_______ TestWorkspaceContext.test_operations_across_workspace_boundaries _______

self = <e2e.cli.test_workspace_context.TestWorkspaceContext object at 0x762d3b72ce90>

    def test_operations_across_workspace_boundaries(self):
        """Test that operations respect workspace boundaries."""
        # Create two workspaces
>       ws1_id = self.create_workspace("Boundary WS1")
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

tests/e2e/cli/test_workspace_context.py:441: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ 

self = <e2e.cli.test_workspace_context.TestWorkspaceContext object at 0x762d3b72ce90>
name = 'Boundary WS1', description = 'Test workspace'

    def create_workspace(self, name, description="Test workspace"):
        """Helper to create a workspace."""
        create = subprocess.run(
            [sys.executable, "-m", "src.cli", "workspace", "new"],
            input=f"{name}\n{description}\nvector\n",
            capture_output=True,
            text=True,
        )
>       assert create.returncode == 0
E       assert 1 == 0
E        +  where 1 = CompletedProcess(args=['/home/nate/.cache/pypoetry/virtualenvs/insighthub-G9Cf3wlO-py3.13/bin/python', '-m', 'src.cli', 'workspace', 'new'], returncode=1, stdout='', stderr='Traceback (most recent call last):\n  File "<frozen runpy>", line 198, in _run_module_as_main\n  File "<frozen runpy>", line 88, in _run_code\n  File "/home/nate/projects/insighthub/src/cli.py", line 9, in <module>\n    from src.context import AppContext\n  File "/home/nate/projects/insighthub/src/context.py", line 26, in <module>\n    from src.domains.workspace.document.orchestrator import DocumentOrchestrator\n  File "/home/nate/projects/insighthub/src/domains/workspace/document/orchestrator.py", line 18, in <module>\n    from src.domains.workspace.document.service import DocumentService\n  File "/home/nate/projects/insighthub/src/domains/workspace/document/service.py", line 28, in <module>\n    from src.infrastructure.storage import BlobStorage\n  File "/home/nate/projects/insighthub/src/infrastructure/storage/__init__.py", line 3, in <module>\n    from .file_system_storage import FileSystemBlobStorage, StorageException\nImportError: cannot import name \'StorageException\' from \'src.infrastructure.storage.file_system_storage\' (/home/nate/projects/insighthub/src/infrastructure/storage/file_system_storage.py)\n').returncode

tests/e2e/cli/test_workspace_context.py:40: AssertionError
------------------------------ Captured log setup ------------------------------
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x762d1ff603c0>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.complete
DEBUG    httpcore.http11:_trace.py:47 send_request_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_body.complete
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'content-encoding', b'gzip'), (b'content-type', b'application/json'), (b'date', b'Sun, 07 Dec 2025 00:25:20 GMT')])
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.complete
DEBUG    httpcore.http11:_trace.py:47 response_closed.started
DEBUG    httpcore.http11:_trace.py:47 response_closed.complete
DEBUG    httpcore.connection:_trace.py:47 close.started
DEBUG    httpcore.connection:_trace.py:47 close.complete
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x762d1ff60870>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.complete
DEBUG    httpcore.http11:_trace.py:47 send_request_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_body.complete
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'content-encoding', b'gzip'), (b'date', b'Sun, 07 Dec 2025 00:25:20 GMT')])
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.complete
DEBUG    httpcore.http11:_trace.py:47 response_closed.started
DEBUG    httpcore.http11:_trace.py:47 response_closed.complete
DEBUG    httpcore.connection:_trace.py:47 close.started
DEBUG    httpcore.connection:_trace.py:47 close.complete
DEBUG    botocore.hooks:hooks.py:238 Event choose-service-name: calling handler <function handle_service_name_alias at 0x762d20b58360>
DEBUG    botocore.hooks:hooks.py:238 Event creating-client-class.s3: calling handler <function add_generate_presigned_post at 0x762d20cb2de0>
DEBUG    botocore.hooks:hooks.py:238 Event creating-client-class.s3: calling handler <function lazy_call.<locals>._handler at 0x762d20be2520>
DEBUG    botocore.hooks:hooks.py:238 Event creating-client-class.s3: calling handler <function add_generate_presigned_url at 0x762d20cb2b60>
DEBUG    botocore.endpoint:endpoint.py:414 Setting s3 timeout as (60, 60)
DEBUG    botocore.client:client.py:286 Registering retry handlers for service: s3
DEBUG    botocore.utils:utils.py:1747 Registering S3 region redirector handler
DEBUG    botocore.utils:utils.py:1695 Registering S3Express Identity Resolver
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function set_list_objects_encoding_type_url at 0x762d20b5a7a0>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function validate_bucket_name at 0x762d20b59300>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function remove_bucket_from_url_paths_from_model at 0x762d20b5b600>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fe96210>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method ClientCreator._inject_s3_input_parameters of <botocore.client.ClientCreator object at 0x762d1fbea200>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function generate_idempotent_uuid at 0x762d20b59120>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function _handle_request_validation_mode_member at 0x762d20b5bce0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x762d20b5b7e0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fe96210>>
DEBUG    botocore.regions:regions.py:506 Calling endpoint provider with parameters: {'Bucket': 'document', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'Endpoint': 'http://localhost:9000', 'ForcePathStyle': True, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
DEBUG    botocore.regions:regions.py:521 Endpoint provider result: http://localhost:9000/document
DEBUG    botocore.regions:regions.py:691 Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
DEBUG    botocore.regions:regions.py:766 Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_expect_header at 0x762d20b596c0>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.apply_signing_cache_key of <botocore.utils.S3ExpressIdentityResolver object at 0x762d1fe94b30>>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_recursion_detection_header at 0x762d20b58c20>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function inject_api_version_header_if_needed at 0x762d20b5ac00>
DEBUG    botocore.endpoint:endpoint.py:114 Making request for OperationModel(name=ListObjectsV2) with params: {'url_path': '?list-type=2', 'query_string': {'encoding-type': 'url'}, 'method': 'GET', 'headers': {'User-Agent': 'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1'}, 'body': b'', 'auth_path': '/document/', 'url': 'http://localhost:9000/document?list-type=2&encoding-type=url', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x762d20b77250>, 'has_streaming_input': False, 'auth_type': 'v4', 'unsigned_payload': None, 'auth_options': ['aws.auth#sigv4'], 'encoding_type_auto_set': True, 's3_redirect': {'redirected': False, 'bucket': 'document', 'params': {'Bucket': 'document', 'EncodingType': 'url'}}, 'input_params': {'Bucket': 'document'}, 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 'endpoint_properties': {'authSchemes': [{'disableDoubleEncoding': True, 'name': 'sigv4', 'signingName': 's3', 'signingRegion': 'us-east-1'}]}}}
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x762d1fc30450>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x762d1fbea200>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <function set_operation_specific_signer at 0x762d20b58ea0>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function remove_arn_from_signing_path at 0x762d20b5b740>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function _set_extra_headers_for_unsigned_request at 0x762d20b5bd80>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.resolve_s3express_identity of <botocore.utils.S3ExpressIdentityResolver object at 0x762d1fe94b30>>
DEBUG    botocore.auth:auth.py:429 Calculating signature using v4 auth.
DEBUG    botocore.auth:auth.py:430 CanonicalRequest:
GET
/document
encoding-type=url&list-type=2
host:localhost:9000
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20251207T002520Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
DEBUG    botocore.auth:auth.py:432 StringToSign:
AWS4-HMAC-SHA256
20251207T002520Z
20251207/us-east-1/s3/aws4_request
79cf9832f71071cd5114ba448bb9ff70c0acb4aae9c44399c02f4d6eda323143
DEBUG    botocore.auth:auth.py:434 Signature:
4703c73d8daee2f10d5ef0edf0c5bbdaad40197137d7f5f7a7b5c2544d52280e
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method UserAgentString.rebuild_and_replace_user_agent_handler of <botocore.useragent.UserAgentString object at 0x762d1fe33b70>>
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <function add_retry_headers at 0x762d20b5b560>
DEBUG    botocore.endpoint:endpoint.py:263 Sending http request: <AWSPreparedRequest stream_output=False, method=GET, url=http://localhost:9000/document?list-type=2&encoding-type=url, headers={'User-Agent': b'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1', 'X-Amz-Date': b'20251207T002520Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=minioadmin/20251207/us-east-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=4703c73d8daee2f10d5ef0edf0c5bbdaad40197137d7f5f7a7b5c2544d52280e', 'amz-sdk-invocation-id': b'a8f49692-928d-415e-81c4-b541db2d187b', 'amz-sdk-request': b'attempt=1'}>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function _handle_200_error at 0x762d20b5bb00>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function handle_expires_header at 0x762d20b5b920>
DEBUG    botocore.parsers:parsers.py:255 Response headers: {'Accept-Ranges': 'bytes', 'Content-Length': '1651', 'Content-Type': 'application/xml', 'Server': 'MinIO', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'Vary': 'Origin, Accept-Encoding', 'X-Amz-Id-2': 'dd9025bab4ad464b049177c95eb6ebf374d3b3fd1af9251148b658df7ac2e3e8', 'X-Amz-Request-Id': '187EC731D2B2A31C', 'X-Content-Type-Options': 'nosniff', 'X-Ratelimit-Limit': '4101', 'X-Ratelimit-Remaining': '4101', 'X-Xss-Protection': '1; mode=block', 'Date': 'Sun, 07 Dec 2025 00:25:20 GMT'}
DEBUG    botocore.parsers:parsers.py:256 Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<ListBucketResult xmlns="http://s3.amazonaws.com/doc/2006-03-01/"><Name>document</Name><Prefix></Prefix><KeyCount>5</KeyCount><MaxKeys>1000</MaxKeys><IsTruncated>false</IsTruncated><Contents><Key>117b0b2c981e75201b42a3f484ce0597efc559bf6d13288eacc4a717fa2fc736/tmpfexropfo_ops2.txt</Key><LastModified>2025-12-06T04:26:08.867Z</LastModified><ETag>&#34;5e0d22fc93f0f5ce7afce9aa02b0bc7d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>61b46b03f15f3c81f3640916be69f1d34fdd8191644e3d689a4c50cb9bc91d23/tmp2fa0p4_o_ops3.txt</Key><LastModified>2025-12-06T04:26:14.608Z</LastModified><ETag>&#34;53cec5e28d6e94a3991483e9dea86cd5&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>c26ae29584f33f4398072bfe9a37f455a85460237adf672922c3c7d928ba99f0/tmptsq137kv_ops0.txt</Key><LastModified>2025-12-06T04:25:59.153Z</LastModified><ETag>&#34;f697ceebb544c3f9ffe7d768f83c059d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>eea2eb3d0912c348f733308b3bc702cb37ef6eb0c96ff6b0c515cd5942a553ec/tmpg0h_zyad.txt</Key><LastModified>2025-12-06T04:29:48.556Z</LastModified><ETag>&#34;a33c5f35dbf2a7336b7535430610e358&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>fae826ba4b154dd6a512b641abf32b71b0ae3050e613292dfe675d6fca935adb/tmpug44129o_ops1.txt</Key><LastModified>2025-12-06T04:26:04.132Z</LastModified><ETag>&#34;01b0c1954a19d5d40136aa728191f1d4&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><EncodingType>url</EncodingType></ListBucketResult>'
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <function _update_status_code at 0x762d20b5bc40>
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <botocore.retryhandler.RetryHandler object at 0x762d1fe94290>
DEBUG    botocore.retryhandler:retryhandler.py:211 No retry needed.
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fe96210>>
DEBUG    botocore.hooks:hooks.py:238 Event after-call.s3.ListObjectsV2: calling handler <function decode_list_object_v2 at 0x762d20b5a8e0>
---------------------------- Captured log teardown -----------------------------
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.started host='localhost' port=6333 local_address=None timeout=5.0 socket_options=None
DEBUG    httpcore.connection:_trace.py:47 connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x762d20019090>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_headers.complete
DEBUG    httpcore.http11:_trace.py:47 send_request_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 send_request_body.complete
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'transfer-encoding', b'chunked'), (b'content-type', b'application/json'), (b'content-encoding', b'gzip'), (b'vary', b'accept-encoding, Origin, Access-Control-Request-Method, Access-Control-Request-Headers'), (b'date', b'Sun, 07 Dec 2025 00:25:36 GMT')])
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.started request=<Request [b'GET']>
DEBUG    httpcore.http11:_trace.py:47 receive_response_body.complete
DEBUG    httpcore.http11:_trace.py:47 response_closed.started
DEBUG    httpcore.http11:_trace.py:47 response_closed.complete
DEBUG    httpcore.connection:_trace.py:47 close.started
DEBUG    httpcore.connection:_trace.py:47 close.complete
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function set_list_objects_encoding_type_url at 0x762d20b5a7a0>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function validate_bucket_name at 0x762d20b59300>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function remove_bucket_from_url_paths_from_model at 0x762d20b5b600>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.annotate_request_context of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fe96210>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <bound method ClientCreator._inject_s3_input_parameters of <botocore.client.ClientCreator object at 0x762d1fbea200>>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function generate_idempotent_uuid at 0x762d20b59120>
DEBUG    botocore.hooks:hooks.py:238 Event before-parameter-build.s3.ListObjectsV2: calling handler <function _handle_request_validation_mode_member at 0x762d20b5bce0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <function customize_endpoint_resolver_builtins at 0x762d20b5b7e0>
DEBUG    botocore.hooks:hooks.py:238 Event before-endpoint-resolution.s3: calling handler <bound method S3RegionRedirectorv2.redirect_from_cache of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fe96210>>
DEBUG    botocore.regions:regions.py:506 Calling endpoint provider with parameters: {'Bucket': 'document', 'Region': 'us-east-1', 'UseFIPS': False, 'UseDualStack': False, 'Endpoint': 'http://localhost:9000', 'ForcePathStyle': True, 'Accelerate': False, 'UseGlobalEndpoint': True, 'DisableMultiRegionAccessPoints': False, 'UseArnRegion': True}
DEBUG    botocore.regions:regions.py:521 Endpoint provider result: http://localhost:9000/document
DEBUG    botocore.regions:regions.py:691 Selecting from endpoint provider's list of auth schemes: "sigv4". User selected auth scheme is: "None"
DEBUG    botocore.regions:regions.py:766 Selected auth type "v4" as "v4" with signing context params: {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_expect_header at 0x762d20b596c0>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.apply_signing_cache_key of <botocore.utils.S3ExpressIdentityResolver object at 0x762d1fe94b30>>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function add_recursion_detection_header at 0x762d20b58c20>
DEBUG    botocore.hooks:hooks.py:238 Event before-call.s3.ListObjectsV2: calling handler <function inject_api_version_header_if_needed at 0x762d20b5ac00>
DEBUG    botocore.endpoint:endpoint.py:114 Making request for OperationModel(name=ListObjectsV2) with params: {'url_path': '?list-type=2', 'query_string': {'encoding-type': 'url'}, 'method': 'GET', 'headers': {'User-Agent': 'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1'}, 'body': b'', 'auth_path': '/document/', 'url': 'http://localhost:9000/document?list-type=2&encoding-type=url', 'context': {'client_region': 'us-east-1', 'client_config': <botocore.config.Config object at 0x762d20b77250>, 'has_streaming_input': False, 'auth_type': 'v4', 'unsigned_payload': None, 'auth_options': ['aws.auth#sigv4'], 'encoding_type_auto_set': True, 's3_redirect': {'redirected': False, 'bucket': 'document', 'params': {'Bucket': 'document', 'EncodingType': 'url'}}, 'input_params': {'Bucket': 'document'}, 'signing': {'region': 'us-east-1', 'signing_name': 's3', 'disableDoubleEncoding': True}, 'endpoint_properties': {'authSchemes': [{'disableDoubleEncoding': True, 'name': 'sigv4', 'signingName': 's3', 'signingRegion': 'us-east-1'}]}}}
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method RequestSigner.handler of <botocore.signers.RequestSigner object at 0x762d1fc30450>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <bound method ClientCreator._default_s3_presign_to_sigv2 of <botocore.client.ClientCreator object at 0x762d1fbea200>>
DEBUG    botocore.hooks:hooks.py:238 Event choose-signer.s3.ListObjectsV2: calling handler <function set_operation_specific_signer at 0x762d20b58ea0>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function remove_arn_from_signing_path at 0x762d20b5b740>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <function _set_extra_headers_for_unsigned_request at 0x762d20b5bd80>
DEBUG    botocore.hooks:hooks.py:238 Event before-sign.s3.ListObjectsV2: calling handler <bound method S3ExpressIdentityResolver.resolve_s3express_identity of <botocore.utils.S3ExpressIdentityResolver object at 0x762d1fe94b30>>
DEBUG    botocore.auth:auth.py:429 Calculating signature using v4 auth.
DEBUG    botocore.auth:auth.py:430 CanonicalRequest:
GET
/document
encoding-type=url&list-type=2
host:localhost:9000
x-amz-content-sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
x-amz-date:20251207T002537Z

host;x-amz-content-sha256;x-amz-date
e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
DEBUG    botocore.auth:auth.py:432 StringToSign:
AWS4-HMAC-SHA256
20251207T002537Z
20251207/us-east-1/s3/aws4_request
56c77935d6514cbc795be73972514275102195ca07827bb7d67ad3af99de6fdd
DEBUG    botocore.auth:auth.py:434 Signature:
0e6d0d636fdf1646e6ec891a6a40605e55a831b6b4669118f130a6aa9d00957c
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <bound method UserAgentString.rebuild_and_replace_user_agent_handler of <botocore.useragent.UserAgentString object at 0x762d1fe33b70>>
DEBUG    botocore.hooks:hooks.py:238 Event request-created.s3.ListObjectsV2: calling handler <function add_retry_headers at 0x762d20b5b560>
DEBUG    botocore.endpoint:endpoint.py:263 Sending http request: <AWSPreparedRequest stream_output=False, method=GET, url=http://localhost:9000/document?list-type=2&encoding-type=url, headers={'User-Agent': b'Boto3/1.42.1 md/Botocore#1.42.1 ua/2.1 os/linux#6.17.0-6-generic md/arch#x86_64 lang/python#3.13.7 md/pyimpl#CPython m/b,D,Z,N,e cfg/retry-mode#legacy Botocore/1.42.1', 'X-Amz-Date': b'20251207T002537Z', 'X-Amz-Content-SHA256': b'e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855', 'Authorization': b'AWS4-HMAC-SHA256 Credential=minioadmin/20251207/us-east-1/s3/aws4_request, SignedHeaders=host;x-amz-content-sha256;x-amz-date, Signature=0e6d0d636fdf1646e6ec891a6a40605e55a831b6b4669118f130a6aa9d00957c', 'amz-sdk-invocation-id': b'bffd3eeb-1200-47ed-bfda-5d911726e012', 'amz-sdk-request': b'attempt=1'}>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function _handle_200_error at 0x762d20b5bb00>
DEBUG    botocore.hooks:hooks.py:238 Event before-parse.s3.ListObjectsV2: calling handler <function handle_expires_header at 0x762d20b5b920>
DEBUG    botocore.parsers:parsers.py:255 Response headers: {'Accept-Ranges': 'bytes', 'Content-Length': '1651', 'Content-Type': 'application/xml', 'Server': 'MinIO', 'Strict-Transport-Security': 'max-age=31536000; includeSubDomains', 'Vary': 'Origin, Accept-Encoding', 'X-Amz-Id-2': 'dd9025bab4ad464b049177c95eb6ebf374d3b3fd1af9251148b658df7ac2e3e8', 'X-Amz-Request-Id': '187EC735AA9227C2', 'X-Content-Type-Options': 'nosniff', 'X-Ratelimit-Limit': '4101', 'X-Ratelimit-Remaining': '4101', 'X-Xss-Protection': '1; mode=block', 'Date': 'Sun, 07 Dec 2025 00:25:37 GMT'}
DEBUG    botocore.parsers:parsers.py:256 Response body:
b'<?xml version="1.0" encoding="UTF-8"?>\n<ListBucketResult xmlns="http://s3.amazonaws.com/doc/2006-03-01/"><Name>document</Name><Prefix></Prefix><KeyCount>5</KeyCount><MaxKeys>1000</MaxKeys><IsTruncated>false</IsTruncated><Contents><Key>117b0b2c981e75201b42a3f484ce0597efc559bf6d13288eacc4a717fa2fc736/tmpfexropfo_ops2.txt</Key><LastModified>2025-12-06T04:26:08.867Z</LastModified><ETag>&#34;5e0d22fc93f0f5ce7afce9aa02b0bc7d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>61b46b03f15f3c81f3640916be69f1d34fdd8191644e3d689a4c50cb9bc91d23/tmp2fa0p4_o_ops3.txt</Key><LastModified>2025-12-06T04:26:14.608Z</LastModified><ETag>&#34;53cec5e28d6e94a3991483e9dea86cd5&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>c26ae29584f33f4398072bfe9a37f455a85460237adf672922c3c7d928ba99f0/tmptsq137kv_ops0.txt</Key><LastModified>2025-12-06T04:25:59.153Z</LastModified><ETag>&#34;f697ceebb544c3f9ffe7d768f83c059d&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>eea2eb3d0912c348f733308b3bc702cb37ef6eb0c96ff6b0c515cd5942a553ec/tmpg0h_zyad.txt</Key><LastModified>2025-12-06T04:29:48.556Z</LastModified><ETag>&#34;a33c5f35dbf2a7336b7535430610e358&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><Contents><Key>fae826ba4b154dd6a512b641abf32b71b0ae3050e613292dfe675d6fca935adb/tmpug44129o_ops1.txt</Key><LastModified>2025-12-06T04:26:04.132Z</LastModified><ETag>&#34;01b0c1954a19d5d40136aa728191f1d4&#34;</ETag><Size>18</Size><StorageClass>STANDARD</StorageClass></Contents><EncodingType>url</EncodingType></ListBucketResult>'
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <function _update_status_code at 0x762d20b5bc40>
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <botocore.retryhandler.RetryHandler object at 0x762d1fe94290>
DEBUG    botocore.retryhandler:retryhandler.py:211 No retry needed.
DEBUG    botocore.hooks:hooks.py:238 Event needs-retry.s3.ListObjectsV2: calling handler <bound method S3RegionRedirectorv2.redirect_from_error of <botocore.utils.S3RegionRedirectorv2 object at 0x762d1fe96210>>
DEBUG    botocore.hooks:hooks.py:238 Event after-call.s3.ListObjectsV2: calling handler <function decode_list_object_v2 at 0x762d20b5a8e0>

---------- coverage: platform linux, python 3.13.7-final-0 -----------
Name                                                                                            Stmts   Miss  Cover
-------------------------------------------------------------------------------------------------------------------
src/__init__.py                                                                                     0      0   100%
src/__main__.py                                                                                     3      3     0%
src/cli.py                                                                                        190     46    76%
src/config.py                                                                                     195     28    86%
src/context.py                                                                                    113     14    88%
src/domains/__init__.py                                                                             0      0   100%
src/domains/default_rag_config/__init__.py                                                          4      0   100%
src/domains/default_rag_config/commands.py                                                         99     33    67%
src/domains/default_rag_config/data_access.py                                                      46      4    91%
src/domains/default_rag_config/dtos.py                                                             37      0   100%
src/domains/default_rag_config/mappers.py                                                           8      0   100%
src/domains/default_rag_config/models.py                                                           27      1    96%
src/domains/default_rag_config/orchestrator.py                                                     44      1    98%
src/domains/default_rag_config/repositories.py                                                     19      1    95%
src/domains/default_rag_config/service.py                                                          42     12    71%
src/domains/default_rag_config/validation.py                                                       40      2    95%
src/domains/rag_options/__init__.py                                                                 2      0   100%
src/domains/rag_options/commands.py                                                                43     11    74%
src/domains/rag_options/dtos.py                                                                    13      0   100%
src/domains/rag_options/orchestrator.py                                                            10      0   100%
src/domains/rag_options/service.py                                                                 15      0   100%
src/domains/state/__init__.py                                                                       4      0   100%
src/domains/state/commands.py                                                                      28      9    68%
src/domains/state/data_access.py                                                                   46     11    76%
src/domains/state/dtos.py                                                                           7      0   100%
src/domains/state/models.py                                                                        11      1    91%
src/domains/state/orchestrator.py                                                                  10      0   100%
src/domains/state/repositories.py                                                                  18      1    94%
src/domains/state/service.py                                                                       26      1    96%
src/domains/workspace/__init__.py                                                                   0      0   100%
src/domains/workspace/chat/__init__.py                                                              2      0   100%
src/domains/workspace/chat/message/__init__.py                                                      4      0   100%
src/domains/workspace/chat/message/commands.py                                                     46     15    67%
src/domains/workspace/chat/message/data_access.py                                                  83     23    72%
src/domains/workspace/chat/message/dtos.py                                                         21      0   100%
src/domains/workspace/chat/message/mappers.py                                                       8      0   100%
src/domains/workspace/chat/message/models.py                                                       15      2    87%
src/domains/workspace/chat/message/orchestrator.py                                                 27      2    93%
src/domains/workspace/chat/message/repositories.py                                                 47     23    51%
src/domains/workspace/chat/message/service.py                                                     117     50    57%
src/domains/workspace/chat/message/validation.py                                                   22      3    86%
src/domains/workspace/chat/service.py                                                               8      2    75%
src/domains/workspace/chat/session/__init__.py                                                      4      0   100%
src/domains/workspace/chat/session/commands.py                                                     78     18    77%
src/domains/workspace/chat/session/data_access.py                                                  97     30    69%
src/domains/workspace/chat/session/dtos.py                                                         30      0   100%
src/domains/workspace/chat/session/mappers.py                                                       8      0   100%
src/domains/workspace/chat/session/models.py                                                       15      1    93%
src/domains/workspace/chat/session/orchestrator.py                                                 47      4    91%
src/domains/workspace/chat/session/repositories.py                                                 50     17    66%
src/domains/workspace/chat/session/service.py                                                      58     22    62%
src/domains/workspace/chat/session/validation.py                                                   52     20    62%
src/domains/workspace/commands.py                                                                 158     40    75%
src/domains/workspace/data_access.py                                                              132     48    64%
src/domains/workspace/document/__init__.py                                                          3      0   100%
src/domains/workspace/document/commands.py                                                         94     25    73%
src/domains/workspace/document/data_access.py                                                      96     20    79%
src/domains/workspace/document/dtos.py                                                             26      0   100%
src/domains/workspace/document/mappers.py                                                           7      0   100%
src/domains/workspace/document/models.py                                                           29      1    97%
src/domains/workspace/document/orchestrator.py                                                     44      2    95%
src/domains/workspace/document/repositories.py                                                     74     33    55%
src/domains/workspace/document/service.py                                                         127     38    70%
src/domains/workspace/document/validation.py                                                       59     11    81%
src/domains/workspace/dtos.py                                                                      87      7    92%
src/domains/workspace/mappers.py                                                                   24      4    83%
src/domains/workspace/models.py                                                                    73      5    93%
src/domains/workspace/orchestrator.py                                                              78     10    87%
src/domains/workspace/repositories.py                                                              94     29    69%
src/domains/workspace/service.py                                                                   98     15    85%
src/domains/workspace/validation.py                                                                32     14    56%
src/infrastructure/__init__.py                                                                      0      0   100%
src/infrastructure/cache/__init__.py                                                                2      0   100%
src/infrastructure/cache/cache.py                                                                  12      5    58%
src/infrastructure/cache/factory.py                                                                10      1    90%
src/infrastructure/cache/in_memory_cache.py                                                        41     12    71%
src/infrastructure/cache/mixins.py                                                                 32     32     0%
src/infrastructure/cache/redis_cache.py                                                            52     42    19%
src/infrastructure/cli_io.py                                                                       15      0   100%
src/infrastructure/llm/__init__.py                                                                 17      4    76%
src/infrastructure/llm/claude_llm_provider.py                                                      82     82     0%
src/infrastructure/llm/factory.py                                                                  33     23    30%
src/infrastructure/llm/huggingface_llm_provider.py                                                 73     58    21%
src/infrastructure/llm/llm_provider.py                                                             19      5    74%
src/infrastructure/llm/ollama_llm_provider.py                                                      71     34    52%
src/infrastructure/llm/openai_llm_provider.py                                                      61     61     0%
src/infrastructure/logger.py                                                                      102     24    76%
src/infrastructure/mappers/__init__.py                                                              2      0   100%
src/infrastructure/mappers/utils.py                                                                 5      0   100%
src/infrastructure/rag/__init__.py                                                                 12      0   100%
src/infrastructure/rag/options.py                                                                  60      1    98%
src/infrastructure/rag/steps/__init__.py                                                            0      0   100%
src/infrastructure/rag/steps/general/__init__.py                                                    0      0   100%
src/infrastructure/rag/steps/general/chunking/__init__.py                                           5      0   100%
src/infrastructure/rag/steps/general/chunking/character_document_chunker.py                        32     25    22%
src/infrastructure/rag/steps/general/chunking/document_chunker.py                                  13      3    77%
src/infrastructure/rag/steps/general/chunking/dummy_document_chunker.py                            21     21     0%
src/infrastructure/rag/steps/general/chunking/factory.py                                           29      7    76%
src/infrastructure/rag/steps/general/chunking/semantic_document_chunker.py                         34     27    21%
src/infrastructure/rag/steps/general/chunking/sentence_document_chunker.py                         69     12    83%
src/infrastructure/rag/steps/general/parsing/__init__.py                                            7      0   100%
src/infrastructure/rag/steps/general/parsing/document_parser.py                                    21      6    71%
src/infrastructure/rag/steps/general/parsing/docx_document_parser.py                               97     76    22%
src/infrastructure/rag/steps/general/parsing/factory.py                                            57     26    54%
src/infrastructure/rag/steps/general/parsing/html_document_parser.py                              114     90    21%
src/infrastructure/rag/steps/general/parsing/pdf_document_parser.py                                78     61    22%
src/infrastructure/rag/steps/general/parsing/text_document_parser.py                               58     13    78%
src/infrastructure/rag/steps/general/parsing/utils.py                                              18      6    67%
src/infrastructure/rag/steps/graph_rag/__init__.py                                                  0      0   100%
src/infrastructure/rag/steps/vector_rag/__init__.py                                                 0      0   100%
src/infrastructure/rag/steps/vector_rag/embedding/__init__.py                                       4      0   100%
src/infrastructure/rag/steps/vector_rag/embedding/dummy_embedder.py                                14      5    64%
src/infrastructure/rag/steps/vector_rag/embedding/factory.py                                       16      0   100%
src/infrastructure/rag/steps/vector_rag/embedding/ollama_vector_embedder.py                        64     27    58%
src/infrastructure/rag/steps/vector_rag/embedding/vector_embedder.py                               25      8    68%
src/infrastructure/rag/steps/vector_rag/reranking/__init__.py                                       8      0   100%
src/infrastructure/rag/steps/vector_rag/reranking/bm25_reranker.py                                 33     27    18%
src/infrastructure/rag/steps/vector_rag/reranking/cross_encoder_reranker.py                        34     24    29%
src/infrastructure/rag/steps/vector_rag/reranking/dummy_reranker.py                                 6      1    83%
src/infrastructure/rag/steps/vector_rag/reranking/factory.py                                       29     16    45%
src/infrastructure/rag/steps/vector_rag/reranking/no_reranker.py                                    6      1    83%
src/infrastructure/rag/steps/vector_rag/reranking/reranker.py                                       7      1    86%
src/infrastructure/rag/steps/vector_rag/reranking/rrf_reranker.py                                  13      7    46%
src/infrastructure/rag/workflows/__init__.py                                                        6      0   100%
src/infrastructure/rag/workflows/add_document/__init__.py                                           4      0   100%
src/infrastructure/rag/workflows/add_document/add_document_workflow.py                             13      4    69%
src/infrastructure/rag/workflows/add_document/factory.py                                           42      5    88%
src/infrastructure/rag/workflows/add_document/vector_rag_add_document_workflow.py                  58     10    83%
src/infrastructure/rag/workflows/create_resources/__init__.py                                       4      0   100%
src/infrastructure/rag/workflows/create_resources/create_rag_resources_workflow.py                 12      4    67%
src/infrastructure/rag/workflows/create_resources/factory.py                                       26      1    96%
src/infrastructure/rag/workflows/create_resources/vector_rag_create_rag_resources_workflow.py      56     17    70%
src/infrastructure/rag/workflows/query/__init__.py                                                  5      0   100%
src/infrastructure/rag/workflows/query/factory.py                                                  38      9    76%
src/infrastructure/rag/workflows/query/graph_rag_query_workflow.py                                 12      3    75%
src/infrastructure/rag/workflows/query/query_workflow.py                                           13      4    69%
src/infrastructure/rag/workflows/query/vector_rag_query_workflow.py                                71     32    55%
src/infrastructure/rag/workflows/remove_document/__init__.py                                        4      0   100%
src/infrastructure/rag/workflows/remove_document/factory.py                                        29      6    79%
src/infrastructure/rag/workflows/remove_document/remove_document_workflow.py                       11      4    64%
src/infrastructure/rag/workflows/remove_document/vector_rag_remove_document_workflow.py            55     11    80%
src/infrastructure/rag/workflows/remove_resources/__init__.py                                       4      0   100%
src/infrastructure/rag/workflows/remove_resources/factory.py                                       24      1    96%
src/infrastructure/rag/workflows/remove_resources/remove_rag_resources_workflow.py                 11      4    64%
src/infrastructure/rag/workflows/remove_resources/vector_rag_remove_rag_resources_workflow.py      37      9    76%
src/infrastructure/sql_database.py                                                                 87     22    75%
src/infrastructure/storage/__init__.py                                                             21     13    38%
src/infrastructure/storage/factory.py                                                              24      6    75%
src/infrastructure/storage/file_system_storage.py                                                  78     59    24%
src/infrastructure/storage/s3_storage.py                                                           92     59    36%
src/infrastructure/storage/storage.py                                                              19      2    89%
src/infrastructure/types/__init__.py                                                                7      0   100%
src/infrastructure/types/common.py                                                                 39      2    95%
src/infrastructure/types/document.py                                                               15      0   100%
src/infrastructure/types/errors.py                                                                 38      0   100%
src/infrastructure/types/rag.py                                                                    20      1    95%
src/infrastructure/types/retrieval.py                                                               8      0   100%
src/infrastructure/validation/__init__.py                                                           2      0   100%
src/infrastructure/validation/utils.py                                                             24     11    54%
src/infrastructure/vector_stores/__init__.py                                                        6      0   100%
src/infrastructure/vector_stores/factory.py                                                        42     13    69%
src/infrastructure/vector_stores/qdrant_vector_database.py                                        173    106    39%
src/infrastructure/vector_stores/qdrant_vector_store.py                                            41     10    76%
src/infrastructure/vector_stores/vector_database.py                                                32      9    72%
src/infrastructure/vector_stores/vector_store.py                                                   14      3    79%
src/infrastructure/wikipedia/__init__.py                                                            2      2     0%
src/infrastructure/wikipedia/fetch.py                                                             137    137     0%
-------------------------------------------------------------------------------------------------------------------
TOTAL                                                                                            6343   2166    66%

=========================== short test summary info ============================
FAILED tests/e2e/cli/test_cli_combinations.py::TestCLICombinations::test_multiple_workspaces_with_different_configs
FAILED tests/e2e/cli/test_error_handling.py::TestCLIErrorHandling::test_workspace_update_nonexistent
FAILED tests/e2e/cli/test_error_handling.py::TestCLIErrorHandling::test_workspace_select_nonexistent
FAILED tests/e2e/cli/test_error_handling.py::TestCLIErrorHandling::test_workspace_delete_nonexistent
FAILED tests/e2e/cli/test_rag_combinations.py::TestRAGConfigCombinations::test_vector_character_chunking_ollama_embedding
FAILED tests/e2e/cli/test_rag_combinations.py::TestRAGConfigCombinations::test_vector_semantic_chunking_huggingface_embedding
FAILED tests/e2e/cli/test_rag_combinations.py::TestRAGConfigCombinations::test_vector_dummy_chunking_dummy_embedding
FAILED tests/e2e/cli/test_rag_combinations.py::TestRAGConfigCombinations::test_vector_with_dummy_reranking
FAILED tests/e2e/cli/test_rag_combinations.py::TestRAGConfigCombinations::test_graph_dummy_dependency_leiden
FAILED tests/e2e/cli/test_rag_combinations.py::TestRAGConfigCombinations::test_graph_spacy_dummy_leiden
FAILED tests/e2e/cli/test_rag_combinations.py::TestRAGConfigCombinations::test_graph_spacy_dependency_dummy_clustering
FAILED tests/e2e/cli/test_rag_combinations.py::TestRAGConfigCombinations::test_graph_all_dummy
FAILED tests/e2e/cli/test_rag_combinations.py::TestRAGConfigCombinations::test_multiple_config_updates
FAILED tests/e2e/cli/test_rag_combinations.py::TestRAGConfigCombinations::test_create_workspace_after_graph_config
FAILED tests/e2e/cli/test_rag_combinations.py::TestRAGConfigCombinations::test_create_mixed_workspace_types
FAILED tests/e2e/cli/test_workspace_context.py::TestWorkspaceContext::test_select_workspace_multiple_times
FAILED tests/e2e/cli/test_workspace_context.py::TestWorkspaceContext::test_update_current_workspace
FAILED tests/e2e/cli/test_workspace_context.py::TestWorkspaceContext::test_update_non_selected_workspace
FAILED tests/e2e/cli/test_workspace_context.py::TestWorkspaceContext::test_workspace_show_all_workspaces
FAILED tests/e2e/cli/test_workspace_context.py::TestWorkspaceContext::test_workspace_list_shows_all
FAILED tests/e2e/cli/test_workspace_context.py::TestWorkspaceContext::test_operations_across_workspace_boundaries
================= 21 failed, 183 passed in 10550.55s (2:55:50) =================
